\input{../preamble_appunti.tex}
\title{Appunti di Analisi 4}
\author{Github Repository:
\href{https://github.com/Oxke/appunti/tree/main/Analisi4}{\texttt{Oxke/appunti/Analisi4}}}
\date{Primo semestre, 2024 \-- 2025, prof. Pierluigi Colli}
\begin{document}
\maketitle

Il corso tratterà sostanzialmente due tematiche:
\begin{itemize}[label = --]
    \item \textbf{Misura e Integrale di Lebesgue}
    \item Rudimenti di \textbf{Analisi Funzionale}, in particolare spazi di Hilbert e serie di Fourier.
\end{itemize}
In particolare i due argomenti sono legati dagli \textbf{spazi \(L^{p}\)} che rientrano in entrambe
le categorie.
Purtroppo non c'è un testo che contiene tutti e soli gli argomenti del corso, ma
sul kiro c'è molto materiale didattico che può essere utilizzato.
\tableofcontents
\newpage

\section{Misura e integrazione di Lebesgue}
In questa sezione si segue la linea dell'appendice sull'integrazione astratta di
Sbordone al libro "Analisi Funzionale" di Brezis, edito da Liguori.

\subsection{Algebre, \(\sigma\)-algebre, misure}
Sia \(\Omega\) un insieme ambiente, e sia \(\mathcal{M}\) una famiglia di
sottoinsiemi di \(\Omega\), ossia \(\mathcal{M} \subseteq 2^{\Omega} \).
\begin{definition}[Algebra]
    Una famiglia \(\mathcal{M}\) di sottoinsiemi di \(\Omega\) si dice
    \textbf{algebra} se
\begin{enumerate}[label = \arabic*.]
    \item \(\varnothing \in \mathcal{M} \) 
    \item Se \(A \in \mathcal{M}\) allora \(A^{C} \in \mathcal{M}\) 
    \item Se \(A, B \in \mathcal{M}\) allora anche \(A \cup B \in \mathcal{M}\) 
\end{enumerate}
\end{definition}

\begin{remark}
    Poiché \(\varnothing \in \mathcal{M}\), anche \(\Omega \in \mathcal{M}\)
    perché il complementare di \(\varnothing\).
\end{remark}

\begin{remark}
Se \(A, B \in \Omega\), anche \({(A^{C} \cup B^{C})}^{C} = A \cap B \in
\mathcal{M}\) 
\end{remark}

\begin{remark}
    Se \(A, B \in \mathcal{M}\) anche \(A \cap B^{C} = A
    \sminus B \in
    \mathcal{M}\) 
\end{remark}

In pratica un'algebra è una famiglia di sottoinsiemi di \(\Omega\) chiusa
rispetto alle comuni operazioni di insiemi.

\begin{example}
    \(P(\Omega)\) è banalmente un'algebra perché contiene tutti i sottoinsiemi.

    Anche \(\{\varnothing, \Omega\}\) lo è poiché la loro unione è \(\Omega\).
\end{example}

\begin{example}
    In \(\Omega = \mathbb{R}^2\) consideriamo \(\mathcal{M}\) costituita dai
    rettangoli. Allora \(\mathcal{M}\) è un'algebra? NO, perché per quanto
    potrei metterci l'insieme vuoto e tutto \(\mathbb{R}^2\), se considero ad
    esempio \([0, 1] \times [0, 2] \cup [0, 2] \times [0, 1]\) ottengo un
    poligono che non è un rettangolo.

    Invece, potrei considerare la famiglia delle unioni finite di rettangoli,
    anche non limitati, e considerando anche l'insieme vuoto.
    Questa è un'algebra perché l'intersezione di due rettangoli è un rettangolo,
    e il complementare di un'unione finita di rettangoli è un'intersezione di
    finiti rettangoli.
\end{example}

\begin{definition}[funzione finitamente additiva]
     Sia \(\Omega\) un insieme e \(\mathcal{M}\) un'algebra di sottoinsiemi di
     \(\Omega\).

     Una funzione \(\mu : \mathcal{M} \to [0, +\infty]\) si dice
     \textbf{finitamente additiva} se
\begin{enumerate}[label = \arabic*.]
    \item \(\mu(\varnothing) = 0\) 
    \item Se \(A, B \in \mathcal{M}\) e \(A \cap B = \varnothing\) allora
        \(\mu(A \cup B) = \mu(A) + \mu(B)\) 
\end{enumerate}
Va inteso che se per uno dei due \(\mu(A) = +\infty\) allora
\(\mu(A \cup B) = +\infty\) 
\end{definition}

\begin{example}
    Nel caso dell'algebra delle unioni finite di rettangoli, potrei considerare
    la funzione che restituisce la somma delle aree dei rettangoli.
\end{example}

\begin{proposition}
    Se \(\mu\) è una funzione finitamente additiva su \(\mathcal{M}\) algebra
    allora
\begin{enumerate}[label = \arabic*.]
    \item (monotonia) Se \(A, B \in \mathcal{M}\) e \(A \subseteq B \) allora \(\mu(A) \le
        \mu(B)\) 
    \item (sottrattività) Se \(A, B \in \mathcal{M}\) e \(A \subseteq B \) e \(\mu(A) <
        +\infty\) allora \(\mu(B \sminus A) = \mu(B) - \mu(A)\) 
    \item (sub-additività) Se \(A_{1}, \dots, A_{n} \in \mathcal{M} \) allora \(\mu\left(\bigcup_{i =
        1}^n A_{i}\right) \le \sum_{i=1}^{n} \mu(A_{i})\) 
\end{enumerate}
\end{proposition}
\begin{proof} \(\) 
\begin{enumerate}[label = \arabic*.]
    \item \(B = A \cup (B \sminus A)\), quindi \(\mu(B) = \mu(A) + \mu(B
        \sminus A) \ge \mu(A)\) 
    \item Da sopra, ma ho bisogno di aggiungere l'ipotesi \(\mu(A) < +\infty\)
        per evitare di sottrarre \(+\infty\) 
    \item Considero \(B_{1} = A_{1}\), \(B_{2} = A_{2} \sminus A_{1}\)
        ecc.\ ponendo sempre \(B_{n} = A_{n} \sminus \bigcup_{i=1}^{n-1}
        A_{i}\), per cui \(\bigcup_{i=1}^{n} B_{i} = \bigcup_{i=1}^{n} A_{i}  \)
        e so che \(\mu(\bigcup_{i=1}^{n} B_{i}) = \sum_{i=1}^{n} \mu(B_{i}) \le
        \sum_{i=1}^{n} \mu(A_{i})\), usando prima l'additività e poi la monotonia.
\end{enumerate}
\end{proof}

\begin{definition}[Misura]
    Sia \(\Omega\) insieme, \(\mathcal{M}\) algebra su \(\Omega\), allora \(\mu
    : \mathcal{M} \to [0, +\infty]\) si dice \textbf{misura} se:
\begin{enumerate}[label = \arabic*.]
    \item \(\mu(\varnothing) = 0\) 
    \item (Numerabile additività / \(\sigma\)-additività) Se \(\{A_{n}\} \) è una successione di insiemi di \(\mathcal{M}\) a
        due a due disgiunti e tali che  \(\bigcup_{i \in \mathbb{N}} A_{i} \in
        \mathcal{M}\) allora \(\mu\left( \bigcup_{i \in \mathbb{N}} A_{i}
        \right) = \sum_{i=1}^{\infty} \mu(A_{i})  \) 
\end{enumerate}
\end{definition}
\begin{remark}
    È evidente che la \(\sigma\)-additività implica l'additività finita, poiché
    si può prendere \(A_{1} = A\), \(A_{2} = B\) e \(A_{i} = \varnothing\) per
    ogni \(i \ge 3\) 
\end{remark}

Vedremo nella definizione di misura che richiede la \(\sigma\)-additività.
Vogliamo dunque poterla definire su uno spazio che permetta di assicurare che
l'unione di una successione di insiemi sia ancora un insieme. Questo ci porta
alla seguente definizione.

\begin{definition}[\(\sigma\)-algebra]
    Sia \(\Omega\) un insieme, \(\mathcal{M}\) una famiglia di sottoinsiemi di
    \(\Omega\). Allora \(\mathcal{M}\) si dice \textbf{\(\sigma\)-algebra} se:
\begin{enumerate}[label = \arabic*.]
    \item \(\varnothing \in \mathcal{M}\) 
    \item Se \(A \in \mathcal{M}\) allora anche \(A^{C}\in \mathcal{M}\) 
    \item Se \(A_{n} \in \mathcal{M}\) per ogni \(n \in \mathbb{N}\) allora
        \(\bigcup_{n \in \mathbb{N}} A_{n} \in \mathcal{M}\) 
\end{enumerate}
\end{definition}
\begin{remark}
    È evidente che una \(\sigma\)-algebra è un'algebra.
\end{remark}
\begin{remark}
    Se \(A_{n} \in \mathcal{M} \; \forall n \in \mathbb{N}\) posso concludere che
    \(\bigcap_{n \in \mathbb{N}} A_{n} \in \mathcal{M} \) (ragionando coi complementari).
\end{remark}

\begin{example}
    \(\mathcal{M} = P(\Omega)\) è anche una \(\sigma\)-algebra. Vale lo stesso
    anche per \(\mathcal{M} = \{\varnothing, \Omega\} \).
\end{example}
\begin{example}
    L'unione finita di rettangoli, anche non limitati, che include l'insieme
    vuoto, invece non lo è, poiché un aperto qualunque di \(\mathbb{R}^{2}\) è
    esprimibile come unione numerabile di rettangoli.
\end{example}

\newpage
\begin{theorem}

Dato \(\Omega\) e una famiglia \(\mathcal{F}\) di sottoinsiemi di \(\Omega\),
esiste sempre una \(\sigma\)-algebra \(\mathcal{M}\) che contiene
\(\mathcal{F}\) ed è contenuta in ogni \(\sigma\)-algebra che contiene
\(\mathcal{F}\), e viene denotata \(\sigma(\mathcal{F})\)

\end{theorem}

\begin{proof}
    Data \(\mathcal{F}\), allora esiste almeno \(P(\Omega) \supseteq \mathcal{F}
    \). Prendo allora tutte le \(\sigma\)-algebre che contengono \(\mathcal{F}\)
    e l'intersezione è una \(\sigma\)-algebra ed è contenuta in tutte.
\end{proof}

\begin{example}
    Dato un insieme \(\Omega\), sia \(\tau\) la collezione di aperti di
    \(\Omega\). La \(\sigma\)-algebra \(\sigma(\tau)\) generata da \(\tau\)
    viene detta \(\sigma\)-algebra di Borel e contiene tutti gli aperti, tutti i
    chiusi e tutte le unioni e intersezioni numerabili di aperti e chiusi.
\end{example}

\begin{definition}[Definizioni utili]
\label{def:def_misura}
    Dato \(\Omega\) un insieme e una \(\sigma\)-algebra \(\mathcal{M}\) su
    \(\Omega\), la coppia \((\Omega, \mathcal{M})\) viene detta \textbf{spazio
    misurabile} e la terna \((\Omega, \mathcal{M}, \mu)\), dove \(\mu\) è una
    misura su \(\mathcal{M}\) viene detta \textbf{spazio di misura}.

    Uno spazio di misura si dice \textbf{finito} se \(\mu(\Omega) < +\infty\) e
    uno spazio di misura si dice \textbf{\(\sigma\)-finito} se \(\Omega =
    \bigcup_{n \in \mathbb{N}} B_{n} \) con \(B_{n} \in \mathcal{M} \forall n
    \in \mathbb{N}\) e \(\mu(B_{n}) < +\infty \forall n \in \mathbb{N}\).
    Inoltre se \(\mu(A) = 0\) allora \(A\) si dice \textbf{trascurabile}. Ancora
    una proprietà si dice \textbf{vera quasi ovunque} se vale per ogni \(x \in
    \Omega \sminus A\) dove \(A\) è trascurabile.
\end{definition}

\begin{example}
    \(\Omega = \mathbb{R}^{N}\), \(\mathcal{M} = 2^{\mathbb{R}^{N}}\), sia
        \(O\) l'origine. Allora \(\delta_O\) è la misura che ha valore \(1\) se
        e solo se \(O \in A \in \mathcal{M}\), altrimenti 0. Allora questa è una
        misura perché data una successione di insiemi a due a disgiunti della
        \(\sigma\)-algebra la misura della loro unione è 1 se e solo se uno
        degli insiemi contiene \(O\), e nel caso può essere solo uno, perché
        tali insiemi sono a due a due disgiunti. In particolare questa è una
        misura finita.
\end{example}

\begin{example}[Misura del contare \(\#\)]
    Consideriamo lo spazio di misura \((\mathbb{N}, 2^{\mathbb{N}}, \#)\), dove
    per un insieme \(A \subseteq \mathbb{N}\), 
    \[
        \#(A) = \begin{cases}
            n & \text{se } A \text{ ha } n \text{ elementi}\\
            +\infty & \text{altrimenti}
        \end{cases}
    \]
    Verifichiamo che si tratta di una misura:
    \begin{enumerate}[label = \arabic*.]
        \item \(\#(\varnothing) = 0\) ovviamente.
        \item Se \(\{A_{n}\} \) è una successione di insiemi a due a due
            disgiunti, allora \[\#A := \#\left(\bigcup_{n \in \mathbb{N}}
                A_{n}\right) = \sum_{i=1}^{\infty}
            \#(A_{i}) \]
            Infatti si possono verificare due casi: se \(\#A < \infty\) allora
            significa che ogni \(A_{i}\) è finito oppure vuoto e solo un numero
            finito di \(A_{i}\) (al massimo \(\#A\) insiemi) sono diversi
            dall'insieme vuoto, e quindi il numero di elementi di \(A\) è la
            somma dei numeri di elementi degli \(A_{i}\).

            L'altro caso è quando \(\#A = +\infty\) che si può realizzare in
            diversi modi: se nella successione abbiamo un insieme \(A_{i}\) con
            un numero infinito di elementi e in tal caso l'eguaglianza è
            immediatamente soddisfatta, oppure si ha che \(\#A_{i} < +\infty\)
            per ogni \(i \in \mathbb{N}\) ma la serie non può convergere, poiché
            significherebbe che esiste una sottosuccessione di elementi non
            vuoti, e tutti hanno almeno un elemento.
    \end{enumerate}

    Notare che questo \textbf{non} è uno spazio di misura finito, ma è uno
    spazio di misura \(\sigma\)-finito perché \(\mathbb{N} =
    \bigcup_{n=1}^\infty \{n\}\) dove naturalmente ogni singoletto ha \(\#\{n\}
    = 1\). Inoltre è interessante notare che in questo spazio l'unico insieme
    trascurabile è l'insieme vuoto.
\end{example}

\begin{theorem}[Continuità della misura]\label{thm:cont_misura}
    Sia \(\Omega, \mathcal{M}, \mu\) uno spazio di misura e sia \(\{A_{n}\} \)
    una successione di insiemi di \(\mathcal{M}\).
\begin{enumerate}[label = \arabic*.]
    \item Se \(\{A_{n}\} \) è crescente, ossia \(A_{n} \subseteq A_{n+1}\),
        \(\forall n \in \mathbb{N}\), allora 
        \[
            \mu\left(\bigcup_{n \in \mathbb{N}} A_{n}\right) = \lim_{n \to
            \infty} \mu(A_{n})
        \]
    \item Se \(\{A_{n}\} \) è decrescente, ossia \(A_{n} \supseteq A_{n+1}\),
        \(\forall n \in \mathbb{N}\), e \(\mu(A_{1}) < +\infty\), allora
        \[
            \mu\left(\bigcap_{n \in \mathbb{N}} A_{n}\right) = \lim_{n \to
            \infty} \mu(A_{n})
        \]
\end{enumerate}
\end{theorem}
\begin{proof}
\begin{enumerate}[label = \arabic*.]
    \item Noto che \[\bigcup_{n=1}^{\infty} A_{n} = A_{1} \cup (A_{2}\sminus
        A_{1}) \cup (A_{3}\sminus A_{2}) \cup \dots \cup (A_{n} \sminus A_{n-1})
        \cup \dots\] 
        E che gli insiemi nelle parentesi in questa espressione sono tutti a due
        a due disgiunti. Allora abbiamo per la \(\sigma\)-additività che
        \[
            \mu\left(\bigcup A_{n}\right) = \mu(A_{1}) +
            \sum_{n=2}^{\infty} \mu(A_{n} \sminus A_{n-1}) = \lim_{n \to
            \infty} \left( \mu(A_{1}) + \sum_{k=1}^{n} \mu(A_{k+1} \sminus A_k)  \right) 
        \]
        Ma ora possiamo riapplicare la \(\sigma\)-additività della misura
        all'interno al limite ottenendo che 
        \[
            \mu \left( \bigcup_{n=1}^{\infty} A_{n}  \right) = \lim_{n \to
            \infty} \left( \mu\left( A_{1} \cup (A_{2}\sminus A_{1}) \cup \dots \cup
            (A_{n+1} \sminus A_{n}) \right)  \right) = \lim_{n \to \infty}
            \mu(A_{n+1})
        \]
    \item Vogliamo costruire una successione crescente. Poniamo \(B_{1} = A_{1}\),
        \(B_{2} = A_{1} \sminus A_{2}\), \(B_{3} = A_{1} \sminus A_{3}\) ecc.
        Allora \(\bigcup_{n \in \mathbb{N}} B_{n} = A_{1} \sminus \bigcap_{n
        \in \mathbb{N}} A_{n}\) e \(B_{n} \subseteq B_{n+1}\). Allora per la
        continuità della misura crescente \(\mu\left( \bigcup_{n \in \mathbb{N}}
        B_{n} \right) = \lim_{n \to \infty} \mu(B_{n}) \) da cui la tesi, poiché
        essendo \(\mu(A_{1}) < +\infty\) possiamo scrivere
        \[
            \lim_{n \to \infty} \mu(B_{n})=
            \mu\left( \bigcup_{n \in \mathbb{N}} B_{n}  \right) = \mu \left(
            A_{1} \sminus \bigcap_{n \in \mathbb{N}} A_{n} \right) = \mu(A_{1})
            - \mu\left( \bigcap_{n \in \mathbb{N}} A_{n} \right)
        \]
        ma anche 
        \[
            \lim_{n \to \infty} \mu(B_{n}) = \lim_{n \to \infty} \left(
            \mu(A_{1}) - \mu(A_{n}) \right) = \mu(A_{1}) - \lim_{n \to \infty}
            \mu(A_{n})
        \]
        da cui la tesi.
\end{enumerate}
\end{proof}
\begin{remark}
    Notiamo che se fosse \(\mu(A_{1}) = +\infty\) il risultato non segue
    necessariamente. Ad esempio nello spazio di misura \((\mathbb{N},
    2^{\mathbb{N}}, \#)\) Possiamo considerare la successione \(A_{1} =
    \mathbb{N}\), \(A_{2} = \mathbb{N} \sminus \{1\} \), \(A_{3} = \mathbb{N}
    \sminus \{1, 2\} \) ecc. Allora \(\bigcap_{n \in \mathbb{N}} A_{n} =
    \varnothing\) ma \(\mu(A_{n}) = +\infty\) per ogni \(n \in \mathbb{N}\).
    Quindi il limite delle misure è \(+\infty\) ma la misura dell'intersezione è
    \(0\) 
\end{remark}

\newpage
\subsection{Misura esterna}
\begin{definition}[Misura esterna]
    Sia \(\Omega\) un insieme e consideriamo l'algebra \(2^{\Omega}\), allora
    \(\lambda : 2^{\Omega} \to [0, +\infty]\) si dice \textbf{misura esterna} se 
\begin{enumerate}[label = \arabic*.]
    \item \(\lambda(\varnothing) = 0\) 
    \item (monotonia) Se \(A \subseteq B \) allora \(\lambda(A) \le \lambda(B)\)
    \item (sub-additività) Se \(\{A_{n}\} \) è una successione di insiemi di
        \(2^{\Omega}\) allora \[\lambda\left( \bigcup_{n \in \mathbb{N}} A_{n}
        \right) \le \sum_{n=1}^{\infty} \lambda(A_{n})\]
\end{enumerate}
\end{definition}

\paragraph{Misura esterna su \(\mathbb{R}^{N}\)}
Ora vogliamo introdurre su \(\mathbb{R}^{N}\) una misura esterna, che chiameremo
\(\mu^\star\). Lavoriamo con intervalli di \(\mathbb{R}^{n}\), ossia prodotti
cartesiani di intervalli reali di estremi sinistri \(\{a_{1}, \dots, a_{N}\} \)
e sinistri \(\{b_{1}, \dots, b_{N}\} \) di ogni tipologia. Naturalmente abbiamo
che \(a_{i} \le b_{i}\) per ogni \(i \in \{1, \dots, N\}\). Un un intervallo \(I\) di
\(\mathbb{R}^{n}\) è dunque il prodotto cartesiano degli \(n\) intervalli di
estremi \(a_{i}\) e \(b_{i}\), con \(i \in \{1, \dots, N\} \). Per questi
intervalli possiamo definire \(|I| = \prod_{i=1}^{N}(b_{i} - a_{i})\) la misura
elementare. Allora definiamo 
\[
    \mu^\star(A) := \inf\left\{ \sum_{i=1}^{\infty} |I_{i}| : A \subseteq
    \bigcup_{n = 1}^{\infty}I_{n} \right\}
\]
Procediamo ora col verificare che questa è una misura esterna.
\begin{enumerate}[label = \arabic*.]
    \item Naturalmente \(\mu^\star(\varnothing) = 0\) perché l'insieme vuoto è
        contenuto in ogni insieme, in particolare per ogni \(\varepsilon\) posso
        creare una successione di intervalli con \(\sum_{i=1}^{\infty} |I_{i}|
        <\varepsilon \) 
    \item Se \(A \subseteq B \) allora \(\mu^\star(A) \le \mu^\star(B)\).
        Infatti tutte le successioni di intervalli che ricoprono \(B\) ricoprono
        anche \(A\).
    \item Abbiamo \(A = \bigcup_{n=1}^{\infty}A_{n} \) e vogliamo mostrare che
        \(\mu^\star(A) \le \sum_{n=1}^{\infty} \mu^\star(A_{n}) \). Possiamo
        supporre che la serie converga finita e tutti gli \(\mu^\star(A_{n})\)
        siano quindi finiti, perché altrimenti la disuguaglianza è
        banalmente soddisfatta. Allora per la definizione di \(\mu^\star\)
        abbiamo che per ogni \(n\) e per ogni \(\varepsilon>0\), esiste una
        successione \({\{I_{n, k}\}}_{k \in \mathbb{N}} \) tale che \(A_{n}
        \subseteq \cup_{k=1}^{\infty} I_{n, k} \) e \(\sum_{k=1}^{\infty}
        |I_{n,k}| < \mu^\star(A_{n}) + \frac{\varepsilon}{2^{n}} \). Allora
        la successione \({\{I_{n, k}\}}_{n, k \in \mathbb{N}} \) ricopre \(A\).
        Allora per la definizione di \(\mu^\star\) sicuramente abbiamo che
        \[
            \mu^\star(A) \le \sum_{n=1}^{\infty} \sum_{k=1}^{\infty} |I_{n, k}|
            < \sum_{n=1}^{\infty} \left( \mu^\star(A_{n}) +
            \frac{\varepsilon}{2^{n}} \right) = \varepsilon + \sum_{n=1}^{\infty}
            \mu^\star(A_{n})
        \]
        Dove sommare su \(k\) e poi su \(n\) è equivalente a ogni altro modo di
        svolgere la somma perché la serie è assolutamente convergente.
\end{enumerate}
Si può verificare che \(\mu^\star(I) = |I|\) per gli intervalli, infatti
naturalmente \(\mu^\star(I) \le |I|\) perché il ricoprimento \(\{I\} \) fa parte
dell'insieme su cui si fa l'estremo inferiore. Per l'altra disuguaglianza, consideriamo per
ogni \(\varepsilon>0\) una successione \(\{I_{i}\} \) di intervalli tale che 
\[
    \sum_{i=1}^{\infty} |I_{i}| < \mu^\star(I) + \frac{\varepsilon}{2}
\]
Ora dico che esiste una successione di intervalli aperti \(J_{i}\) tale che
\(I_{i} \subseteq J_{i} \) e inoltre \(\sum_{i=1}^{\infty} |J_{i}| \le
\sum_{i=1}^{\infty} |I_{i}| + \frac{\varepsilon}{2} \) (basta richiedere che
\(|J_{i}| \le |I_{i}| + \frac{\varepsilon}{2^{i+1}}\)). Succede allora che \(I
\subseteq \bigcup_{i=1}^{\infty}J_{i}  \). Ora diciamo che esiste un intervallo
chiuso \(K \subseteq I \) tale che \(|K| \ge |I| - \varepsilon\), succede quindi
che \(K \subseteq \bigcup_{i = 1}^{\infty}J_{i}\), dunque essendo \(K\) compatto
e \(J_{i}\) aperti esiste un sottoricoprimento finito di \(K\). A meno di
riordinare i \(J_{i}\) quindi \(K \subseteq \bigcup_{i = 1}^{k} J_{i}  \) per un
qualche \(k \in \mathbb{N}\). Allora abbiamo
\[
    |I| - \varepsilon \le  |K| \le \sum_{i=1}^{k} |J_{i}| \le
    \sum_{i=1}^{\infty} |J_{i}| \le \mu^\star(I) + \varepsilon
\]
che essendo vero per ogni \(\varepsilon\) ci porta a ottenere la disuguaglianza
\(|I| \le \mu^\star(I)\).

\subsection{Misura di Lebesgue}
Ora invece vogliamo costruire la misura di Lebesgue e gli
insiemi misurabili secondo Lebesgue, ma prima introduciamo un po' di
proposizioni.
\begin{proposition}\label{prop:prop_1}
    Per \(\delta > 0\) fissato e per \(A \subseteq \mathbb{R}^{N} \) si ha che 
    \[
        \mu^\star(A) = \inf\left\{ \sum_{i=1}^{\infty} |I_{i}| : A \subseteq
            \bigcup_{n = 1}^{\infty} I_{n}, \quad \text{diam}(I_{n}) \le \delta
        \right\}
    \]
\end{proposition}
\begin{proof}
    Se prendo un qualunque ricoprimento di \(A\) con intervalli, posso
    costruirne uno analogo dove il diametro di ogni intervallo è \(\le \delta\).
    Questo si può fare eventualmente ``spezzando'' gli intervalli in intervalli
    più piccoli, tenendo la somma della serie uguale.
\end{proof}

\begin{proposition}\label{prop:prop_2}
    Siano \(F_{1}, \dots, F_{n}\) insiemi chiusi, limitati e disgiunti a due a
    due. Allora vale l'additività della misura esterna: \[\mu^\star \left( \bigcup_{i = 1}^{n}F_{i}  \right) = \sum_{i=1}^{n}
    \mu^{\star}(F_{i})\]
\end{proposition}
\begin{proof}
    Iniziamo con due insiemi, \(F_{1}\) e \(F_{2}\) chiusi e limitati, con
    \(F_{1} \cap F_{2} = \varnothing\). Allora per la subadditività della misura
    esterna \(\mu^{\star}(F_{1} \cup F_{2}) \le \mu^{\star}(F_{1}) +
    \mu^{\star}(F_{2})\). Inoltre, \(\forall \varepsilon > 0\) esiste (per la
    definizione con l'inf) un
    ricoprimento \(\{I_{n}\} \) di \(F_{1}\cup F_{2}\) tale che
    \(\sum_{i=1}^{\infty} |I_n| \leq \mu^\star\left( F_{1} \cup F_{2} \right) +
    \varepsilon\), chiediamo inoltre che \(\text{diam}(I_{n}) \le \frac{d}{3}\),
    con \(d\) la distanza tra \(F_{1}\) e \(F_{2}\) (sfrutto la chiusura).

    Tutti gli \(I_{n}\) tali che \(I_{n} \cap F_{1} \neq \varnothing\) danno un
    ricoprimento di \(F_{1}\), e similmente tutti gli \(I_{m}\) tali che \(I_{m}
    \cap F_{2} \neq\varnothing\) danno un ricoprimento di \(F_{2}\). Allora
    necessariamente \[\mu^\star(F_{1}) + \mu^\star(F_{2}) \le \sum_{I_{n}\cap
    F_{1}\neq\varnothing} |I_{n}| + \sum_{I_{m}\cap F_{2}\neq\varnothing}
|I_{m}| \le \mu^\star(F_{1} \cup F_{2}) + \varepsilon\]

    Si conclude per induzione.
\end{proof}
\begin{proposition}\label{prop:reticolazione}
    Sia \(G\) un aperto limitato e \(\varepsilon\) una costante positiva. Allora esiste \(F
    \subseteq G \) chiuso tale che 
    \[
        \mu^\star(F) > \mu^\star(G) - \varepsilon,
    \]

    ossia si può approssimare un aperto limitato dal basso con insiemi chiusi. 
\end{proposition}
\begin{proof}
\begin{figure}[ht]
    \centering
    \incfig{reticolazione}
    \caption{Reticolazione usata per costruire \(I_{n}\) della dimostrazione
della Proposizione~\ref{prop:reticolazione}}\label{fig:reticolazione}
\end{figure}
Costruisco una successione \(I_{n}\) di intervalli disgiunti tali che \(G =
\bigcup_{n \in \mathbb{N}} I_{n} \) e \(\mu^\star(G) \le \sum_{i=1}^{\infty}
|I_{n}| \) (notare che vengono presi tutti i punti perché \(G\) è aperto usando
la reticolazione in figura~\ref{fig:reticolazione}). Dico che esiste
\(\overline{n} \in \mathbb{N}\) tale che \(\sum_{i=1}^{\overline{n}} |I_{n}| >
\mu^\star(G) - \frac{\varepsilon}{2} \).

Per ognuno degli \(I_{i}\) fisso un intervallo chiuso \(J_{i} \subseteq I_{i} \)
e tale che \(|J_{i}| > |I_{i}| - \frac{\varepsilon}{2\overline{n}}\). In questo modo ho
che evidentemente i \(J_{i}\) sono chiusi, limitati e disgiunti a due a due.
Allora \(F = \bigcup_{i=1}^{\overline{n}}J_{i} \). Allora per la proposizione
precedente \(\mu^\star(F) = \sum_{i=1}^{\overline{n}} \mu^\star(J_{i}) =
\sum_{i=1}^{\overline{n}} |J_{i}| > \sum_{i=1}^{\overline{n}} |I_{i}| -
\frac{\varepsilon}{2} > \mu^\star(G) - \varepsilon \).
\end{proof}

\begin{proposition}\label{prop:prop_4}
Sia \(G\) un aperto \textbf{limitato}, \(F \subseteq G \) chiuso. Allora 
\[\mu^\star(G \sminus F) = \mu^\star(G) - \mu^\star(F)\]
\end{proposition}
\begin{proof}

Per la proposizione
~\ref{prop:reticolazione}, 
applicata sull'aperto \(G \sminus F\), so che esiste un
chiuso \(F_{1} \subseteq G \sminus F \) tale che \(\mu^\star(F_{1}) >
\mu^\star(G \sminus F) - \varepsilon\). Allora, per la proposizione
~\ref{prop:prop_2},
\(\mu^\star(F) + \mu^\star(F_{1})
= \mu^\star(F \cup F_{1})\), da cui

\[
    \mu^\star(F) + \mu^\star(G\sminus F) < \mu^\star(F) + \mu^\star(F_{1}) +
    \varepsilon = \mu^\star(F \cup F_{1}) + \varepsilon \le \mu^\star(G) + \varepsilon
\]
Inoltre, per subadditività, \(\mu^\star(G) \le \mu^\star(F) + \mu^\star(G\sminus F)\) da cui
l'uguaglianza. Poiché sono tutti valori finiti, posso sottrarre \(\mu^\star(F)\)
da ambo i lati ottenendo la tesi.
\end{proof}
\begin{definition}[Misurabilità secondo Lebesgue]
    Un insieme \(A \subseteq \mathbb{R}^{N} \) è \textbf{misurabile secondo
    Lebesgue} se \(\forall \varepsilon > 0\) esistono un chiuso \(F_\varepsilon
    \subseteq A \) e un aperto \(G_\varepsilon \supseteq A \) tali che
    \(\mu^\star(G_\varepsilon \sminus F_\varepsilon) \le \varepsilon\) 
\end{definition}
\begin{remark}
    Con i seguenti risultati si dimostrerà che la misura esterna \(\mu^\star\),
    ristretta alla classe degli insiemi misurabili (secondo Lebesgue), è una
    misura.
\end{remark}
\begin{theorem}
    La famiglia \(\mathcal{M}\) degli insiemi misurabili secondo Lebesgue è
    un'algebra.
\end{theorem}
\begin{proof}
\begin{enumerate}[label = \arabic*.]
    \item \(\varnothing\) è misurabile, poiché \(F = \varnothing\) e \(G =
        \varnothing\) soddisfano la definizione.
    \item Se \(A\) è misurabile, allora \(\forall \varepsilon >0\) esistono \(F_{\varepsilon} \subseteq A
        \) chiuso e \(G_{\varepsilon} \supseteq A \) aperto tali che
        \(\mu^\star(G_{\varepsilon} \sminus F_{\varepsilon}) \le \varepsilon\).
        Allora \(F_{\varepsilon}^{C} \supseteq  A^{C} \) aperto e \(G_{\varepsilon}^{C}
        \subseteq A^{C} \) chiuso, e \(\mu^\star(G_{\varepsilon}^{C} \sminus
        F_{\varepsilon}^{C}) = \mu^\star(G_{\varepsilon} \sminus
        F_{\varepsilon}) \le \varepsilon\).
    \item Se \(A, B\) sono misurabili, allora \(\forall \varepsilon > 0\)
        esistono \(F_{\varepsilon} \subseteq A \) chiuso e \(G_{\varepsilon}
        \supseteq A \) aperto tali che \(\mu^\star(G_{\varepsilon} \sminus
        F_{\varepsilon}) \le \frac{\varepsilon}{2}\), e \(F_{\varepsilon}' \subseteq B \)
        chiuso e \(G_{\varepsilon}' \supseteq B \) aperto tali che
        \(\mu^\star(G_{\varepsilon}' \sminus F_{\varepsilon}') \le
        \frac{\varepsilon}{2}\).

        Allora
        \[
            \text{chiuso } F_\varepsilon \cap F_\varepsilon' \subseteq A \cap B \subseteq
            G_\varepsilon \cap G_\varepsilon' \text{ aperto }
        \]
        e
        \[
            \mu^\star(G_\varepsilon \cap G_\varepsilon' \sminus F_\varepsilon \cap F_\varepsilon') \le
            \mu^\star(G_\varepsilon \sminus F_\varepsilon) + \mu^\star(G_\varepsilon' \sminus F_\varepsilon') \le
            \frac{\varepsilon}{2} + \frac{\varepsilon}{2} = \varepsilon
        \]
\begin{figure}[ht]
    \centering
    \incfig[.4]{weird_intersection}
    \caption{\(G_\varepsilon \cap G_\varepsilon' \sminus F_\varepsilon \cap
    F_\varepsilon' \subseteq (G_\varepsilon \sminus F_\varepsilon) \cup
(G_\varepsilon' \sminus F_\varepsilon') \) }\label{fig:weird_intersection}
\end{figure}

\end{enumerate}
\end{proof}
\begin{proposition}\label{prop:prop_5}
    Sia \(A\subseteq \mathbb{R}^{N} \) limitato. Allora \(A\) è misurabile se e
    solo se \[\forall \varepsilon > 0, \,\, \exists F_\varepsilon \subseteq A \, \, 
    \text{chiuso} \,: \, \mu^\star(F_\varepsilon) > \mu^\star(A) - \varepsilon\]
\end{proposition}
\begin{proof}\( \)
\begin{itemize}
    \item[\(\implies \)] Se \(A\) è misurabile, fissato \( \varepsilon > 0\),
        esistono \(F_{\varepsilon} \subseteq A \) chiuso e \(G_{\varepsilon}
        \supseteq A \) aperto tali che \(\mu^\star(G_{\varepsilon} \sminus
        F_{\varepsilon}) \le \varepsilon\). Allora, per monotonia e subadditività, \(\mu^\star(A) \le
        \mu^\star(F_\varepsilon) + \mu^\star(G_\varepsilon \sminus
        F_\varepsilon) \le \mu^\star(F_\varepsilon) + \varepsilon\) 
    \item[\(\impliedby \)] Per~\ref{prop:prop_1} e la definizione di \(\inf\)
        esiste una successione \(I_{n}\) di intervalli aperti di diametro \(\le
        1\) tali che \(A \subseteq
        \bigcup_{n \in \mathbb{N}} I_{n}  \) e \(\sum_{i=1}^{\infty} |I_{n}| <
        \mu^\star(A) + \varepsilon \). Prendo come \(G_\varepsilon\) l'unione di
        tutti gli \(I_{n}\) tali che \(I_{n} \cap A \neq \varnothing\). Allora
        \(G_\varepsilon\) è aperto limitato contenente \(A\), limitato perché
        avendo diametro minore o eguale a 1 l'unione si ``distacca'' da \(A\) al
        più di 1. Allora \[\mu^\star(G_\varepsilon \sminus F_\varepsilon) =
        \mu^\star(G_\varepsilon) - \mu^\star(F_\varepsilon) \le
        \sum_{i=1}^{\infty} |I_n| - \mu^\star(F_\varepsilon) < \mu^\star(A) +
        \varepsilon - \mu^\star(F_\varepsilon) < 2\varepsilon \] 
        La prima uguaglianza per~\ref{prop:prop_4} e l'ultima disuguaglianza per
        l'ipotesi.
\end{itemize}
\end{proof}

\begin{theorem}
    La famiglia \(\mathcal{M}\) degli insiemi misurabili secondo Lebesgue è una
    \(\sigma\)-algebra su \(\mathbb{R}^{N}\) e \(\mu^\star\) è \(\sigma\)-additiva su
    \(\mathcal{M}\). In altre parole, \(\mu^\star\) ristretto a \(\mathcal{M}\)
    è una misura.
\end{theorem}
\begin{proof}
    Divideremo la dimostrazione in tre parti.
\begin{enumerate}[label = \arabic*.]
    \item Sia \(\{A_{n}\} \subseteq \mathcal{M} \) con \(A_{n} \cap A_{m} =
        \varnothing\), \(\forall n \neq m\) e \(\exists I\) intervallo tale che
        \(A_{n} \subseteq I \), \(\forall n \in \mathbb{N}\).

        Allora \(A = \bigcup_{n \in \mathbb{N}} A_{n} \subseteq I \). Per la
        proposizione~\ref{prop:prop_5}, dato
        \(\varepsilon > 0\), \(\forall n \in \mathbb{N}\) esiste un \(F_{n} \subseteq A_{n} \) chiuso tale che
        \(\mu^\star(F_{n}) > \mu^\star(A_{n}) - \frac{\varepsilon}{2^{n+1}}\).
        Per subadditività \(\mu^\star(A) \le \sum_{i=1}^{\infty} \mu^\star(A_{i}) \)
        quindi, per definizione di limite, esiste \(k \in \mathbb{N}\) tale che \(\sum_{i=1}^{k}
        \mu^\star(A_{i}) > \mu^\star(A) - \frac{\varepsilon}{2} \). Sia \(F :=
        \bigcup_{n = 1}^{k} F_{n} \), che è chiuso. Allora
        possiamo dire che \(\mu^\star(F) = \sum_{i=1}^{k} \mu^\star(F_{i}) >
        \sum_{i=1}^{k} \mu^\star(A_{i}) - \frac{\varepsilon}{2} > \mu^\star(A) -
        \varepsilon\). Abbiamo quindi trovato un chiuso contenuto in \(A\)
        con la proprietà richiesta in~\ref{prop:prop_5}, sfruttando la
        limitatezza di \(A\) se ne conclude la misurabilità.

        Per la \(\sigma-\)additività, sia \(k\) generico:
        \[
            \sum_{i=1}^{k} \mu^\star(A_{i}) < \sum_{i=1}^{k} \mu^\star(F_{i})  +
            \frac{\varepsilon}{2} = \mu^\star\left( \bigcup_{i = 1}^{k} F_{i}
            \right) + \frac{\varepsilon}{2} \le \mu^\star(A) +
            \frac{\varepsilon}{2}
        \]
        Da cui trovo che, per \(\varepsilon \to 0\) e \(k \to \infty\) 
        \[
            \mu^\star(A) \ge \sum_{i=1}^{\infty} \mu^\star(A_{i}) \ge
            \mu^\star(A)
        \]
        dove la seconda uguaglianza è per la subadditività della misura esterna.

    \item  Sia \(\{A_{n}\} \subseteq \mathcal{M} \) con \(A_{n} \cap A_{m} =
        \varnothing\), \(\forall n \neq m\). Di nuovo sia \(A = \bigcup_{n \in
        \mathbb{N}} A_{n}\).

        Reticoliamo \(\mathbb{R}^{N}\) con intervalli \(\{I_{j}\} \) \textbf{di
        diametro fissato} (e.g.~1) tali che \(I_{i} \cap  I_{j} = \varnothing\),
        \(\forall i \neq j\) e
        \(\bigcup_{j=1}^{\infty} I_{j} = \mathbb{R}^{N} \). Ci interessiamo agli
        insiemi \(B_{j} := \bigcup_{i=1}^{\infty} (A_{i} \cap I_{j}) \) che sono misurabili per il punto (1), infatti \((A_{i} \cap I_{j})
        \subseteq I_{j} \), sono disgiunti a due a due e
        \(\bigcup_{j = 1}^{\infty} B_{j} = A \). Per misurabilità e limitatezza dei \(B_j\), fissati \(\varepsilon > 0\)
     e \( j\) intero, esistono \(F_{j}\) chiuso e \(G_{j}\) aperto
        tali che \(F_{j} \subseteq B_{j} \subseteq G_{j}  \) e \(\mu^\star(G_{j}
        \sminus F_{j}) \le \frac{\varepsilon}{2^{j}}\). A questo punto definisco \(F, G\):
        \[
            F := \bigcup_{j=1}^{\infty} F_{j} \subseteq A \subseteq
            \bigcup_{j=1}^{\infty} G_{j} =: G
        \]
        È evidente che \(G\) è aperto. Inoltre \(F\) è chiuso. Infatti, data una
        successione \(\{x_{n}\} \) convergente in \(\mathbb{R}^{N}\) a valori
        in \(F\), risulta limitata per la convergenza, e allora i suoi valori cadono
        in un numero finito di insiemi \(F_{j}\) (per come è stato reticolato \(\mathbb{R}^N\)). Poiché l'unione di tali
        \(F_{j}\) è chiusa, ho che \(x \in F\), e quindi \(F\) è chiuso.

        Adesso prendiamo \[G \sminus F = \bigcup_{j=1}^{\infty}(G_{j} - F)
        \subseteq \bigcup_{j = 1}^{\infty} (G_{j} - F_{j}) \] che ha misura
        \(\mu^\star(G\sminus F) \le \sum_{j=1}^{\infty}
        \frac{\varepsilon}{2^{j}} = \varepsilon \) quindi \(A\) è misurabile.

        Ora vogliamo mostrare la \(\sigma\)-additività. Possiamo assumere che
        \(\mu^\star(A_{i}) < +\infty\) per ogni \(i\), altrimenti la tesi è
        banale. Nel caso in cui \(\sum_{i=1}^{\infty} \mu^\star(A_{i}) =
        +\infty \), deduciamo che 
        \[
            \sum_{i=1}^{k} \mu^\star(A_{i}) \overset{\mathcal{M} \text{ è
            un'algebra}}{=} \mu^\star \left( \bigcup_{i=1}^{k}A_{i} \right) \le \mu^\star(A) \quad \forall k \in
            \mathbb{N}
        \]
        e quindi \(\mu^\star(A) = +\infty\).

        Si analizza infine il caso in cui \(\sum_{i=1}^{\infty} \mu^\star(A_{i}) \)
        converge. Poiché \(\mu^\star(A_{i}) \) è minore o eguale a \( \sum_{j=1}^{\infty}
        \mu^\star(A_{i} \cap I_{j}) \) abbiamo che 
        \[
            \sum_{i=1}^{\infty} \mu^\star(A_{i}) \le \sum_{i=1}^{\infty}
            \sum_{j=1}^{\infty} \mu^\star(A_{i} \cap I_{j}) \overset{1.}{=}
            \sum_{j=1}^{\infty} \mu^\star(B_{j})
        \]
        Avendo invertito le serie nell'ultimo passaggio (serie assolutamente
        convergente). Analizziamo la ridotta
        \[
                \begin{aligned}
                \sum_{j=1}^{n} \mu^\star(B_{j}) 
                &\le \sum_{j=1}^{n} \mu^\star(F_{j}) 
                    + \sum_{j=1}^{n} \mu^\star(G_{j} \setminus F_{j}) \\
                &\le \mu^\star\left( \bigcup_{j = 1}^{n} F_{j} \right) 
                    + \sum_{j=1}^{n} \frac{\varepsilon}{2^{j}} \\
                &\le \mu^\star(A) + \varepsilon.
                \end{aligned}
        \]
        Dove nella diseguaglianza centrale si è usata la
        proposizione~\ref{prop:prop_2}. Assieme alla disuguaglianza precedente,
        per \(n\to \infty\) e per arbitrarietà di \(\varepsilon\)  otteniamo che
        \(\sum_{i=1}^{\infty} \mu^\star(A_{i}) \le \mu^\star(A)\), mentre
        l'altra diseguaglianza è data dalla sub-additività.
    \item Sia \(\{A_{n}\} \subseteq   \mathcal{M}\) e \(A = \bigcup_{i \in
        \mathbb{N}} A_{i} \). Vogliamo provare che \(A \in \mathcal{M}\). La
        dimostrazione è simile ad alcune già viste.
        Costruisco un'altra successione \(\{B_{n}\} \subseteq \mathcal{M}\) di
        insiemi a due a due disgiunti. Definisco \(B_{1} = A_{1}\), \(B_{2} =
        A_{2} \sminus A_{1}\), \(B_{3} = A_{3} \sminus (A_{1} \cup A_{2})\),
        ecc. Sono misurabili perché sappiamo già che \(\mathcal{M}\) è
        un'algebra. Ora poiché 
        \(
            A = \bigcup_{i \in \mathbb{N}} A_{i} = \bigcup_{i \in \mathbb{N}} B_{j}
        \), \(A\) è misurabile per il punto 2.
\end{enumerate}
\end{proof}
Quindi ora possiamo considerare lo spazio di misura di Lebesgue \(\left(
\mathbb{R}^{N}, \mathcal{M}, \mu \right) \) con \(\mathcal{M}\) i
misurabili secondo Lebesgue e \(\mu = \mu^\star\) la misura esterna.
\begin{theorem}[Caratterizzazione degli insiemi misurabili]
    Un insieme \(A \subseteq \mathbb{R}^{N} \) è misurabile secondo Lebesgue se e solo se \(A\)
    può essere rappresentato come
\begin{itemize}
    \item Unione numerabile di chiusi e di un insieme trascurabile
\end{itemize}
oppure 
\begin{itemize}
    \item Intersezione numerabile di aperti meno un trascurabile
\end{itemize}
\end{theorem}
\begin{proof}
    Gli intervalli sono misurabili, l'insieme vuoto è misurabile.
    Sia \(N\) un insieme trascurabile, allora \(N\) è misurabile. Infatti
    \(\forall \varepsilon >0\) prendo \(\varnothing =: F \subseteq N \subseteq G
    := \bigcup_{i=1}^{\infty} I_{i} \) con \(I_{i}\) intervalli aperti e
    \(\sum_{i=1}^{\infty} \mu^\star(I_{i}) < \varepsilon \), a questo punto
    naturalmente quindi \(\mu^\star(G \sminus F) < \varepsilon\).
    Gli aperti sono misurabili, infatti un aperto limitato si può scrivere come unione
    numerabile di intervalli (per II-numerabilità). Nel caso in cui \(A\) sia un aperto qualunque, \(A =
    \bigcup_{n=1}^{\infty} \left( A \cap {(-n, n)}^{N} \right)\), ciascuna delle intersezioni è unione numerabile di intervalli e l'unione numerabile di un'unione numerabile è numerabile, quindi è
    misurabile. Inoltre tutti i chiusi sono misurabili in quanto complementare
    di aperti. Ne consegue che la \(\sigma\)-algebra \(\mathcal{B}\) di Borel
    generata dalla famiglia \(\tau\) degli aperti di \(\mathbb{R}^{n}\) è
    contenuta in \(\mathcal{M}\).

    Ne consegue che se scrivo \(A\) come unione numerabile di chiusi e di un
    trascurabile allora \(A\) è misurabile. Stessa cosa se scrivo \(A\) come
    intersezione numerabile di aperti meno un trascurabile.

    Per il viceversa, supponiamo \(A\) misurabile, allora per ogni \(n \in
    \mathbb{N}\) esistono chiuso \(F_{n}\) e aperto \(G_{n}\) con \(F_{n}
    \subseteq A \subseteq G_{n}  \) e \(\mu^\star(G_{n} \sminus F_{n}) <
    \frac{1}{n}\). Considero \(F = \bigcup_{n=1}^{\infty}F_{n}\) e sia \(N =
    A \sminus F\). \(N\) è trascurabile perché \(\mu^\star(N) =
    \mu^\star(A \sminus F) \le \mu^\star(G_{n} \sminus F) \le \mu^\star(G_{n} \sminus 
    F_{n}) < \frac{1}{n}\) per ogni \(n\) quindi \(\mu^\star(N) = 0\). In
    pratica quindi \(A = \bigcup_{n \in \mathbb{N}} F_{n}  \cup N\) unione
    numerabile di chiusi e di un trascurabile. Il complementare di A quindi si
può rappresentare come \(A^{C} = {\left(\bigcup_{n \in \mathbb{N}} F_{n} \right)}^{C} \cap
N^{C} = \left(\bigcap_{n \in \mathbb{N}} F_{n}^{C}\right) \sminus N\) ossia nel
secondo modo.
\end{proof}
\begin{proposition}\label{prop:prop_6}
    Vale la seguente proprietà:
    \[
        \mu^\star(A) = \inf \{\mu(G) : G \text{ aperto }, G \supseteq A \} \quad
        \forall A \subseteq \mathbb{R}^{n} 
    \]
    Se inoltre \(A \in \mathcal{M}\) allora 
    \[
        \mu(A) = \mu^\star(A) = \sup \{\mu(F) : F \text{ chiuso e limitato}, F
        \subseteq A \} 
    \]
\end{proposition}
\begin{proof}
    La prima è una conseguenza della rappresentabilità di un aperto tramite
intervalli. Fissato ora \(\varepsilon>0\) e posto \(A_{n} = A \cap
{(-n,n)}^{N}\), per\(A\) misurabile abbiamo
\[
    \mu(A) = \lim_{n \to \infty} \mu(A_{n})
\]
Se \(\mu(A) < +\infty\) esiste \(n\) tale che \(\mu(A_{n}) > \mu(A) -
\frac{\varepsilon}{2}\) e \(A_{n}\) contiene un chiuso \(F\) tale che \(\mu(F) >
\mu(A_{n}) - \frac{\varepsilon}{2}\). Se invece \(\mu(A) = +\infty\) esiste
\(n\) con \(\mu(A_{n}) > \varepsilon\) e \(A_{n}\) contiene un chiuso \(F\) tale
che \(\mu(F) > \mu(A_{n}) - \frac{\varepsilon}{2}\), pertanto \(\mu(F) >
\frac{\varepsilon}{2}\).

\end{proof}

\subsection{Insiemi Trascurabili}
Un concetto molto importante della teoria della misura è quello di insieme
trascurabile, ovvero di misura nulla.
\begin{example}
    In \(\mathbb{R}\) i punti sono trascurabili e le unioni numerabili di
    trascurabili sono trascurabili per \(\sigma\)-additività.
    In particolare, \(\mathbb{Q}\) è trascurabile in \(\mathbb{R}\) 
\end{example}

La funzione di Dirichlet è un esempio di funzione che non è integrabile secondo
Riemann, ma è integrabile secondo Lebesgue. Vedremo più avanti in dettaglio ma
per ora notiamo che la funzione di Dirichlet è
\[
    d(x) = \begin{cases}
        1 & x \in \mathbb{Q}  \\
        0 & x \notin \mathbb{Q} 
    \end{cases}
\]
Allora \(d = 0\) quasi ovunque in \(\mathbb{R}\) (quasi ovunque in \(X\)
significa in \(X \sminus N\) dove \(N\) è un trascurabile, come nella
definizione~\ref{def:def_misura}).

\begin{example}
    In \(\mathbb{R}^2\) segmenti e rette sono insiemi trascurabili. L'insieme
    \[
        A = \{(x, y) \in \mathbb{R}^2 : x \in \mathbb{Q}\} 
    \]
    è trascurabile in \(\mathbb{R}^2\) poiché unione numerabile di rette \(x=q\)
    con \(q \in \mathbb{Q}\) 
\end{example}

\begin{example}[Insieme di Cantor]\label{ex:cantor}
    L'insieme di Cantor è un trascurabile di \(\mathbb{R}\) che ha la cardinalità del continuo.
    Si costruisce prendendo la seguente successione di insiemi chiusi in \(\mathbb{R}\): 
    \begin{align*}
        C_{0} &= [0, 1] \\
        C_{1} &= \left[ 0, \frac{1}{3} \right] \cup \left[ \frac{2}{3}, 1 \right] \\
        C_{2} &= \left[ 0, \frac{1}{9} \right] \cup \left[ \frac{2}{9}, \frac{3}{9} \right] \cup \left[ \frac{6}{9}, \frac{7}{9} \right] \cup \left[ \frac{8}{9}, 1 \right] \\
        &\vdots
    \end{align*}
\begin{figure}[ht]
    \centering
    \incfig{cantor}
    \caption{Successione la cui intersezione è l'insieme di Cantor}\label{fig:cantor}
\end{figure}
    \(C_{n}\) è composto da \(2^{n}\) intervallini ciascuno di lunghezza
    \(\frac{1}{3^n}\) 
    L'insieme di Cantor è definito come
    \begin{equation}\label{eq:cantor}
        C = \bigcap_{n \in \mathbb{N}} C_{n}
    \end{equation}
    \(C\) è chiuso perché ogni \(C_{n}\) è chiuso, e \(C\) è non vuoto
    perché ad esempio \(0 \in C\).

    \(C_{n}\) è una successione decrescente di insiemi, di cui \(\mu(C_{0}) = 1
    < +\infty\). Allora per continuità della misura esterna
    \[
        \mu(C) = \lim_{n \to \infty} \mu(C_{n}) = \lim_{n \to \infty} {\left( 1 -
    \frac{1}{3} \right)}^{n} = 0
    \]
    quindi \(C\) è trascurabile.

    Ora vogliamo dimostrare che ha la cardinalità del continuo. Scriviamo ogni numero di \([0, 1]\) in base 3
    come \(0.c_{1}c_{2}c_{3}\dots c_{n}\dots_3\) con \(c_{i}\in \{0, 1, 2\}\), scrittura equivalente a \(\sum_{n=1}^{\infty} c_n 3^{-n}\). La scrittura non è univoca: ad esempio il punto
    \(\frac{1}{3}\) si può scrivere come \(0.1\) oppure \(0.0\overline{2}\) dove
    la barra indica la periodicità. Notiamo che i punti dell'insieme di
    Cantor si \textbf{possono} rappresentare in base ternaria utilizzando le sole cifre
    \(0\) e \(2\).

    I punti dell'intervallo \([0, 1]\) si possono rappresentare
    anche in base binaria, ossia \(y \in [0, 1]\) si può scrivere come
    \(0.d_{1}d_{2}\dots d_{n} \dots_2\) dove \(d_{i} \in \{0, 1\}\) per ogni
    \(i\) e \(y = \sum_{n=1}^{\infty} d_{n} 2^{-n} \). Ad esempio \(1 =
    0.\overline{1}_2\).

    Possiamo costruire una funzione suriettiva
    dall'insieme di Cantor ai punti di \([0, 1]\) (ossia determinare che la cardinalità di \(C\) è almeno quella del continuo) come segue. Si consideri \(x\) scritto usando le sole cifre \(0, 2\). 
    \begin{align*}
        x \in C &\longmapsto y \in [0, 1] \\
        x = 0.c_{1}c_{2}\dots c_{n}\dots_3 &\longmapsto y =
        0.d_{1}d_{2}\dots d_{n}\dots_2 \\
        d_{n} = \frac{c_{n}}{2} \,&\quad\quad\quad \forall n \in \mathbb{N}
    \end{align*}
    Ossia associamo a ogni punto dell'insieme di Cantor il numero reale ottenuto
    dividendo ogni sua cifra in base ternaria per due e leggendolo in base
    binaria. È una funzione suriettiva perché per ogni punto \(y \in [0, 1]\) possiamo
    ottenere un \(x \in C\) moltiplicando per due ogni cifra e leggendo il
    numero in base ternaria. Notare che questa funzione non è iniettiva poiché,
    ad esempio, sia \(\frac{1}{3} = 0.0\overline{2}_3\) che \(\frac{2}{3} =
    0.2_3\) hanno come immagine \(\frac{1}{2} = 0.1_2 = 0.0\overline{1}_2\). Per
    determinare che la cardinalità è al più quella del continuo ho bisogno di
    una funzione iniettiva, ed è sufficiente l'inclusione. Concludo, per il
    teorema di Schröder–Bernstein, che esiste una biiezione tra \(C\) e \(
    [0,1]\), ossia \(C\) ha la cardinalità del continuo. 
\end{example}
\subsection{Funzioni misurabili}
Sia \((\Omega, \mathcal{M})\) uno spazio misurabile e sia \(f: \Omega \to
\mathbb{R} \cup \{-\infty, \infty\}\) 
\begin{definition}[Funzione misurabile]
    La funzione \(f : \Omega \to \mathbb{R} \cup \{-\infty, \infty \}\) si dice \textbf{misurabile} se \(\forall \alpha \in \mathbb{R}\) l'insieme
    \[
        f^{-1}((\alpha, +\infty]) = \{x \in \Omega : f(x) > \alpha\} \in \mathcal{M}
    \]
\end{definition}
La definizione verrà parzialmente motivata dalla seguente proposizione:
\begin{proposition}
    Le seguenti sono equivalenti:
\begin{enumerate}[label = \roman*)]
    \item \(f ^{-1}\left((\alpha, +\infty]\right) \in \mathcal{M} \quad \forall \alpha \in \mathbb{R}\)
    \item \(f ^{-1}\left([\alpha, +\infty]\right) \in \mathcal{M} \quad \forall \alpha \in
        \mathbb{R}\)
    \item \(f ^{-1}\left([-\infty, \alpha)\right) \in \mathcal{M} \quad \forall \alpha \in
        \mathbb{R}\)
    \item \(f ^{-1}\left([-\infty, \alpha]\right) \in \mathcal{M} \quad \forall \alpha \in 
        \mathbb{R}\) 
\end{enumerate}
\end{proposition}

\begin{proof}
    Dimostriamo che \(i) \implies ii) \implies iii) \implies iv) \implies i)\).
    
    Scriviamo quindi
    \[f ^{-1}\left( [\alpha, +\infty] \right) = \bigcap_{n \in \mathbb{N}}  \left\{x \in \Omega :
    f(x) > \alpha - \frac{1}{n}\right\}\] che è intersezione numerabile di
    insiemi misurabili (se vale la \(i)\)), quindi è misurabile.
    
    Se ora vale la \(ii)\), allora 
    \[
        f ^{-1} \left( [-\infty, \alpha) \right) = \left( f ^{-1} \left(
        [\alpha, +\infty] \right) \right)^{C} \in \mathcal{M}
    \]
    per cui vale la \(iii)\). Analogamente alla prima implicazione, se vale la \(iii)\) allora 
    \[
        f ^{-1} \left( [-\infty, \alpha] \right) = \bigcap_{n \in \mathbb{N}}  \left\{x \in \Omega :
        f(x) > \alpha + \frac{1}{n}\right\} \in \mathcal{M}
    \]
    e quindi vale la \(iv)\). Infine se vale la \(iv)\) allora, analogamente
    alla seconda implicazione,
    \[
        f ^{-1} \left( (\alpha, +\infty] \right) = \left( f ^{-1} \left(
        [-\infty, \alpha] \right) \right)^{C} \in \mathcal{M}
    \]
    e quindi vale la \(i)\).
\end{proof}

Grazie alla proposizione so che \(f\) è misurabile se e solo se le
controimmagini di tutte le semirette sono misurabili. Ma quindi anche tutti i
segmenti sono misurabili, siccome \([a, b] = [a, +\infty] \cap [-\infty, b]\).
Essendo misurabili le controimmagini degli intervalli, abbiamo che anche le
controimmagini dei boreliani sono misurabili (i boreliani sono unioni numerabili
di intervalli). 

Le funzioni tipicamente incontrate sono misurabili, costruire una funzione non
misurabile non è banale e richiede l'assioma della scelta. Ora procediamo con
alcune proprietà della classe delle funzioni misurabili.
\begin{proposition}
    Siano \(f,g\) funzioni misurabili. Allora anche \(\max(f, g)\) e \(\min(f,
    g)\) sono misurabili.
\end{proposition}
\begin{proof}
    \[
        \{x \in \Omega : \max(f, g) (x) > \alpha\} = \{x \in \Omega : f(x) >
        \alpha \} \cup \{x \in \Omega : g(x) > \alpha\} 
    \]
    che è unione di insiemi misurabili, quindi è misurabile. Analogamente per il
    minimo con l'intersezione.
\end{proof}

\begin{proposition}
    Sia \(f\) una funzione misurabile, allora anche \(-f, f^{+}, f^{-}, |f|\)
    sono misurabili
\end{proposition}
\begin{proof}
    Per \(-f\):
    \[
        \{x \in \Omega : -f(x) > \alpha\} = \{x \in \Omega : f(x) < -\alpha\}
    \]
    che è misurabile per ipotesi.

    Naturalmente anche la funzione \(0\) è misurabile, poiché la controimmagine
    delle semirette è \(\varnothing\) oppure \(\Omega\) che sono entrambi
    misurabili. Quindi anche \(f^{+} = \max(f, 0)\) e \(f^{-} = -\min(f, 0)\)
    sono misurabili per sopra e per la proposizione precedente.

    Per \(|f|\):
    \[
    \{x \in \Omega: |f(x)| > \alpha\}  = \begin{cases}
        \{x \in \Omega : f(x) > \alpha\} \cup \{x \in \Omega : f(x) < -\alpha\}
        & \alpha \ge  0 \\
        \Omega & \alpha < 0
    \end{cases}
    \]
\end{proof}

\begin{proposition}
    Se \(f_{n}\) è una successione di funzioni misurabili allora
    \[g(x)=\sup_{n}f_{n}(x), \quad h(x)=\inf_{n}f_{n}(x),\quad
        u(x)=\limsup_{n}f_{n}(x),\quad
    v(x)=\liminf_{n}f_{n}(x)\] sono tutte misurabili
\end{proposition}
\begin{corollary}
    Se \(f_{n}\) converge puntualmente a \(f\) allora \(f\) è misurabile.
\end{corollary}
\begin{proof}
    Sia \(g(x) = \sup_n f_{n}(x)\), allora
    \[
        \{x \in \Omega : g(x) > \alpha\} = \bigcup_{n=1}^{\infty} \{x \in \Omega
        : f_{n}(x) > \alpha\}
    \]
    poiché significa che esiste almeno un \(n\) tale che \(f_{n}(x) > \alpha\). 

    Sia \(h(x) = \inf_{n} f_{n}(x)\), consideriamo
    \[
        \{x \in \Omega : h(x) \ge \alpha\} = \bigcap_{n=1}^{\infty} \{x \in
        \Omega : f_{n}(x) > \alpha\}
    \]
    poiché significa che per ogni \(n\) vale \(f_{n}(x) > \alpha\).

    Per quanto riguarda \(u(x) = \sup_n \inf_{k \ge n} f_k(x)\) e \(v(x) =
    \inf_n \sup_{k \ge n} f_k(x)\) segue dal risultato su inf e sup. 

    Il corollario segue ovviamente poiché se la funzione converge allora il
    limite è ad esempio uguale al \(\liminf\) 
\end{proof}

\begin{proposition}
    Siano \(f, g\) misurabili. Allora la somma \(f+g\), se è ben
    definita\footnote{ossia quando non succede mai che una delle due faccia
    \(+\infty\) e l'altra \(-\infty\)}, è
    misurabile.
\end{proposition}
\begin{proof}
    \[
        \{x \in \Omega : f(x) + g(x) > \alpha\} = \bigcup_{q \in \mathbb{Q}}
        \big( \{x \in \Omega : f(x) > \alpha - q\} \cap \{x \in \Omega: g(x) >
            q\} \big)
    \]
    che è unione numerabile di insiemi misurabili, quindi è misurabile.
    L'eguaglianza è giustificata dal fatto che se \(f(x) + g(x) > \alpha\) e
    \(|g(x)| < \infty\) 
    allora ad esempio \(f(x) > \alpha - g(x) > \alpha - q\) per qualche \(q <
    g(x)\) razionale, che esiste perché sicuramente tra \(\alpha - f(x)\) e
    \(g(x)\) esiste un razionale per densità di \(\mathbb{Q}\), mentre se \(f(x)
    = +\infty\) allora sicuramente \(f(x) > \alpha - q\) per ogni \(q \in
    \mathbb{Q}\) quindi basta sceglierne uno tale che \(g(x) > q\) che è
    fattibile sempre poiché per ipotesi \(g(x) > -\infty\). L'altra
    implicazione invece è data dal fatto che se, per
    qualche \(q\), \(f(x) > \alpha - q\) e \(q < g(x)\) allora \(f(x) > \alpha -
    g(x)\) da cui \(x \in {(f+g)}^{-1}((\alpha, +\infty])\). Infine se invece \(g(x) =
    +\infty\) allora qualsiasi \(x\) è in \({(f+g)}^{-1}((\alpha, +\infty])\),
    ed esiste sempre un \(q\) tale che \(f(x) > \alpha - q\) poiché \(f(x) >
    -\infty\). È facile similmente notare che se \(f(x)\) oppure \(g(x)\) sono
    eguali a \(-\infty\) allora entrambi gli insiemi sono \(\varnothing\).
\end{proof}

\begin{proposition}
    Siano \(f, g\) misurabili. Allora \(f\cdot g\) è misurabile, purché
    l'operazione sia ben definita.
\end{proposition}
\begin{proof}
    Iniziamo provando che se \(h\) è misurabile allora \(h^{2}\) è misurabile.
    Questo perché \(h^2(x) > \alpha \iff |h(x)| > \sqrt{\alpha}\) se \(\alpha\)
    è positivo (altrimenti la controimmagine è banalmente misurabile). Ma allora
    chiedere che \(h^2\) sia misurabile è equivalente a chiedere che lo sia
    \(|h|\).

    Inoltre se \(h\) è misurabile, allora \(c\, h\), con \(c \in \mathbb{R}\),
    è misurabile in quanto \(c\cdot h(x) > \alpha \iff h(x) >
    \frac{\alpha}{c}\).

    Notare adesso che \(\displaystyle \frac{{(f+g)}^2 - {(f-g)}^2}{4} = fg\). 
\end{proof}

\begin{proposition}
    Siano \(f,g\) misurabili. Allora \(\frac{f}{g}\) è misurabile, purché
    l'operazione sia ben definita.
\end{proposition}
\begin{proof}
    Basta controllare che se \(h\) è misurabile e \(h\neq 0\) allora anche
    \(\frac{1}{h}\) è misurabile, poi usare la proposizione precedente.
    Infatti \(\frac{1}{h(x)} > \alpha\) se e solo se
\begin{itemize}[label = --]
    \item \(0 < h(x) < \frac{1}{\alpha}\) se \(\alpha > 0\)
    \item \(h(x) < \frac{1}{\alpha}\) o \(h(x) > 0\)  se \(\alpha < 0\)
    \item \(h(x) > 0\) se \(\alpha = 0\)
\end{itemize}
    In tutti i tre e casi gli \(x\) che soddisfano tale requisito formano per
    ipotesi un insieme misurabile.
\end{proof}

\begin{definition}[Funzione semplice]
Consideriamo uno spazio di misura \((\Omega, \mathcal{M}, \mu)\). Le
\textbf{funzioni semplici}
sono le funzioni che assumono un numero finito di valori reali. Quindi
\(s : \Omega \to  \mathbb{R}\) è semplice se si può scrivere come combinazione
lineare finita di funzioni caratteristiche, ossia
\[
    s = \sum_{i=1}^{n} c_{i} \rchi_{E_{i}}
\]
dove \(E_{1}, \dots, E_{n}\) sono sottoinsiemi di \(\Omega\) e \(c_{1}, \dots,
c_{n} \in \mathbb{R}\).

Inoltre la funzione è semplice misurabile se \(E_{1}, \dots, E_{n} \in
\mathcal{M}\).
\end{definition}
Esiste sempre una rappresentazione in tale modo di \(s\) dove i coefficienti
\(c_{1}, \dots, c_{n}\) sono diversi tra loro e gli insiemi \(E_{1}, \dots,
E_{n}\) sono a due a due disgiunti. Queste funzioni sono particolarmente utili
nell'approssimare funzioni. Più precisamente
\begin{proposition}\label{prop:esistenza_semplici}
    Sia \(f : \Omega \to  \mathbb{R} \cup \{-\infty, \infty\} \). Allora esiste
    una successione \(\{s_{n}\} \) di funzioni semplici tali che \(s_{n} \to f\)
    puntualmente. Se \(f\) è misurabile, allora anche le \(s_{n}\) possono
    essere scelte tutte misurabili. Inoltre se \(f \ge 0\) (\(f \le 0\)) in \(\Omega\), allora
    la successione \(\{s_{n}\} \) può essere presa monotona non decrescente (non
    crescente).
\end{proposition}
\begin{proof}
    Cominciamo da \(f\) non negativa. Per \(n\) fissato scegliamo gli insiemi in
    base ai \textbf{valori} di \(f\). Consideriamo \(i = 1, \dots, n2^{n}\) e
    prendiamo \[E_{n, i} = \left\{x \in \Omega : \frac{i-1}{2^{n}} \le f(x) <
    \frac{i}{2^{n}}\right\} \quad \forall n \in \mathbb{N}, \,\, \forall i \in \{1,
\dots, n2^{n}\}  \] 
Inoltre sia \[ F_{n}=\{x \in \Omega : f(x) \ge n\} \]

    Ora possiamo scrivere
    \[
        s_{n}(x) := \sum_{i=1}^{n{2}^{n}} \frac{i-1}{2^{n}} \rchi_{E_{n, i}}(x) +
        n \rchi_{F_{n}}(x)
    \]
    Abbiamo \(s_{n} \le f\) per costruzione. Vogliamo
    mostrare che per ogni \(x \in \Omega\) abbiamo \(s_{n}(x) \to f(x)\).
\begin{itemize}[label = --]
    \item Se \(f(x) = +\infty\) allora \(s_{n}(x) = n \to +\infty\)
    \item Se \(f(x) = 0\) allora \(s_{n}(x) = 0 \to 0\)
    \item Se \(n \le f(x) < n+1\) allora \(|f(x) - s_{n}(x)| \le \frac{1}{2^{n}}
        \to 0\) 
\end{itemize}

È chiaro che se \(f\) è misurabile allora ogni \(s_{n}\) è misurabile, gli
insiemi scelti sono controimmagini di segmenti (gli \(E_{n,i}\)) e una semiretta
(\(F_n\)).

Controlliamo che la successione \(s_{n}\) sia monotona non decrescente. Passando
da \(s_{n}\) a \(s_{n+1}\) abbiamo un intervallo in più \([n, n+1)\), quindi se
\(f(x) < n\) allora \(s_{n+1}(x) = s_{n}(x)\) oppure \(s_{n+1}(x) = s_{n}(x) +
\frac{1}{2^{n+1}}\). Quindi la successione è non decrescente.

Consideriamo ora \(f\) di segno qualsiasi. Abbiamo \(f = f^{+} - f^{-}\), dove
\(f^{+}\) e \(f^{-}\) sono non negative. Costruiamo due successioni di funzioni
semplici \(s_{n}^{+}\) e \(s_{n}^{-}\) che convergono rispettivamente a
\(f^{+}\) e \(f^{-}\) e osserviamo che \(s_{n} = s_{n}^{+} -
s_{n}^{-}\) è ancora una successione di funzioni semplici che converge a \(f\).
\end{proof}
\begin{remark}
    Se \(f\) è limitata allora la successione \(s_{n}\) converge uniformemente a
    \(f\), infatti se \(f = f^{+} - f^{-}\) e sia \(f^{+}\) che \(f^{-}\) sono
    limitate, per cui succede che \(|f^{+} - s_{n}^{+}| \le \frac{1}{2^{n}}\)
    definitivamente e analogamente per \(f^{-}\).
\end{remark}

\begin{lemmao}\label{le:nulle_fuori_compatti}
Sia ora \(\Omega = \mathbb{R}^{N}\) e sia \(\mathcal{L}\) la \(\sigma\)-algebra
degli insiemi misurabili secondo Lebesgue. Allora valgono tutte le
considerazioni della proposizione precedente e inoltre la successione
\(\{s_{n}\} \) può essere scelta in modo che tutte le \(s_{n}\) siano nulle al
di fuori di un compatto 
\end{lemmao}
\begin{proof}
    Posso considerare una successione \(K_{n}\) di compatti che invade tutto
    \(\mathbb{R}^{N}\) (esempio le palle, gli ipercubi, ecc) e operiamo come
    prima ma con una modifica (caso \(f \ge 0\)):
    \[
        s_{n}(x) = \sum_{i=1}^{n{2}^{n}} \frac{i-1}{2^{n}} \rchi_{E_{n, i} \cap
        K_{n}}(x) +
        n \rchi_{F_{n} \cap K_{n}}(x)
    \]
\end{proof}

\subsection{Integrale di Lebesgue}
Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura. Cominciamo dalle
funzioni semplici misurabili non negative, ossia
\[
    s(x) = \sum_{i=1}^{n} c_{i} \rchi_{E_{i}}(x) \quad c_{i} \ge 0 \,\,
    E_{i} \in \mathcal{M} \,\, \forall i \in \{1, \dots, n\}
\]
Allora definiamo un \emph{integrale elementare} su \(E \in \mathcal{M}\) 
\[
    I_E(s) = \sum_{i=1}^{n} c_{i} \mu(E \cap E_{i})
\]
Dove per convenzione \(c_{i}\mu(E \cap E_{i}) = 0\) se \(c_{i} = 0\) e \(\mu(E
\cap E_{i}) = +\infty\). 
\begin{example}
    In \(\mathbb{R}\) con la misura di Lebesgue, se prendo \(s = \rchi_{[0,
    +\infty)}\), allora \(I_{\mathbb{R}}(s) = \mu([0, +\infty)) = +\infty \) 
\end{example}
\begin{definition}[Integrale di Lebesgue]
    Sia \(f: \Omega \to [0, +\infty]\) misurabile e non negativa. Allora per
    ogni \(E \in \mathcal{M}\) definiamo 
    \[
        \int_E f \, d\mu = \sup \{I_{E}(s) : s \text{ semplice misurabile }, 0 \le s \le f
        \text{ in \(E\) }\}
    \]
Se ora \(f\) è misurabile e di segno qualunque allora scrivendo \(f = f^{+} -
f^{-}\) che noto sono misurabili e non negative, quindi, se almeno uno tra
\(\int_E f^{+} d\mu\) e \(\int_E f^{-} d\mu\) è finito definiamo
\[
    \int_{E} f \, d\mu = \int_{E} f^{+} \, d\mu - \int_{E} f^{-} \, d\mu
\]
Se entrambi \(f^{+}\) e \(f^{-}\) hanno integrale finito su \(E\) allora \(f\) 
è detta \textbf{integrabile} (o sommabile) su \(E\) e si scrive \(f \in L^{1}(E)\). 
\end{definition}
Si tratta di una buona definizione? L'insieme su cui si valuta il sup non è vuoto, poiché la funzione \(0 \le f\) è una funzione
semplice. Inoltre il sup può essere sia finito che \(+\infty\).Inoltre è consistente con l'integrale elementare: se \(f\) è una
funzione semplice, allora \(\int_{E} f \, d\mu = I_{E}(f)\), infatti \(f \le f\)
è semplice e per ogni \(s\) misurabile e tale che \(0 \le s\le f\) in \(E\) avrò
che \(I_E(s) \le I_E(f)\).

\paragraph{Proprietà dell'integrale}
\begin{enumerate}[label = \arabic*.]
    \item Se \(f \in L^{1}(E)\) e \(\alpha \in \mathbb{R}\), allora \(\alpha f
        \in  L^{1}(E)\) e \(\int_E \alpha f d\mu = \alpha \int_E f d\mu\) 
    \begin{proof}
        Sia \(f\) misurabile e non negativa, sia \(\alpha > 0\). Allora
        \(\forall s\) semplice con \(0 \le s \le f\) in \(E\) si ha che
        \(I_E(\alpha s) = \alpha I_E(s)\) e che \(0 \le \alpha s \le \alpha f\);
         procedendo con il sup il lato sinistro diventa \(\alpha \int_E f d\mu\)
         e il lato destro notiamo che ogni \(\alpha s\) è una funzione semplice
         \(u\) che rispetta la definizione di integrale per \(\alpha f\), quindi
         procedendo con il sup otteniamo la proprietà. 

         Ora possiamo estendere a \(f\) misurabile e \(\alpha \in \mathbb{R}\)
         scrivendo \(f = f^{+} - f^{-}\) e osservando che \(\alpha f =
         \text{sign}(\alpha) |\alpha| f^{+} - \text{sign}(\alpha) |\alpha|
         f^{-}\) dove se \(\alpha < 0\)  allora \(-\text{sign}(\alpha) f^{-}\) e
     \(- \text{sign}(\alpha) f^{+}\) sono non negative e misurabili.
    \end{proof}
    \item Se \(f, g \in L^{1}(E)\) e \(f(x) \le g(x)\) per ogni \(x \in E\),
        allora \(\int_{E} f d\mu \le \int_{E} g d\mu\)
    \begin{proof}
        Sia \(f = f^{+} - f^{-}\) e \(g = g^{+} - g^{-}\). Allora naturalmente
        \(f^{+} \le g^{+}\) perché la funzione \(x \mapsto x^{+}\) è non
        decrescente e \(f^{-} \ge g^{-}\) perché la funzione \(x \mapsto x^{-}\)
        è non crescente. Necessariamente ora \(\int_E f^{+} d\mu \le \int_E
        g^{+} d\mu\) per definizione col sup e similmente \(\int_E g^{-} d\mu
        \le \int_E f^{-} d\mu\) e infine dalle due diseguaglianze si ottiene
        quella richiesta.
    \end{proof}
    \item Se \(\mu(E) < +\infty\), \(f\)  è misurabile, e esistono \(a, b \in
        \mathbb{R}\) tali che \(a \le f(x) \le b\) per ogni \(x \in E\) allora
        \(f \in L^{1}(E)\) e \(a \mu(E) \le \int_E f d\mu \le b\mu(E)\) 
    \begin{proof}
        \(f = f^{+} - f^{-}\) e abbiamo che \(0 \le a^+ \le f^{+} \le b^{+}\) e
        \(a^{-} \ge f^{-} \ge b^{-} \ge 0\). Le funzioni che valgono \(a^{+},
        b^{+}, a^{-}, b^{-}\) su \(E\) sono funzioni semplici misurabili con
        integrale dato da \(a^{+} \mu(E), b^{+} \mu(E), a^{-} \mu(E), b^{-}
        \mu(E)\) rispettivamente. Ora per definizione con il \(\sup\) abbiamo
        che \(\int_E f^{+} d\mu \ge a^{+} \mu(E)\) e \(\int_E f^{-} d\mu \ge
        b^{-} \mu(E)\). Sempre pensando alla definizione col \(\sup\) notiamo
        che se \(s\) è una funzione semplice misurabile tale che \(0 \le s \le
        f^{+}\) allora \(s \le b^{+}\) e quindi necessariamente \(\int_E f^{+}
        d\mu \le \int_E b^{+} d\mu = I_E(b^{+}) = b^{+} \mu(E)\). Similmente si
        trova anche \(\int_E f^{-}d\mu \le a^{-} \mu(E)\). Il risultato segue.
    \end{proof}
    \item Se \(f \in L^{1}(E)\), \(A \in \mathcal{M}\) e \(A \subseteq E \)
        allora \(f \in L^{1}(A)\) 
    \begin{proof}
        Abbiamo che \(\int_E f^{+} d\mu\) e \(\int_E f^{-} d\mu\) sono entrambi
        finiti e \[\int_A f^{+} d\mu = \int_E f^{+} \rchi_A d\mu \le \int_E
        f^{+} d\mu\] Similmente per \(f^{-}\).
    \end{proof}
    \item Se \(\mu(E) = 0\) e \(f\) è misurabile allora \(f \in L^{1}(E)\) e
        \(\int_E f d\mu = 0\)
    \begin{proof}
        Consideriamo la definizione col sup di \(\int_E f^{+} d\mu\) e allora
        per ogni \(s\) semplice misurabile tale che \(0 \le s \le f^{+}\)
        abbiamo che \\\(I_E(s) = \sum_{i=1}^{n} c_{1} \mu(E \cap E_{i}) = 0 \) 
    \end{proof}

\end{enumerate}
\begin{theorem}[Teorema di generazione di misure]\label{thm:gen_mis}
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura e sia \(f : \Omega
    \rightarrow [0, +\infty]\) una funzione misurabile e non negativa. Allora la
    funzione di insieme 
    \[
        \nu(E) = \int_E f d\mu \quad \forall E \in \mathcal{M}
    \]
    è una misura
\end{theorem}
\begin{proof}
    \begin{enumerate}[label = \arabic*.]
        \item \(\nu(\varnothing) = \int_{\varnothing} f d\mu = 0\)
        \item Siano \(A = \bigcup_{n=1}^{\infty} A_{n} \) con \(A_{n} \in
            \mathcal{M}\) a due a due disgiunti, vogliamo provare che 
            \[
                \nu(A) = \int_{A} f d\mu = \sum_{n=1}^{\infty} \int_{A_{n}} f
                d\mu = \sum_{n=1}^{\infty} \nu(A_{n})
            \]
            Innanzitutto assumeremo che tutti i \(\nu(A_{n}) < +\infty\) per
            ogni \(n\), altrimenti naturalmente \(\nu(A) = +\infty\) poiché
            \(A_{n} \subseteq A \).
            Se \(f = s = \sum_{i=1}^{n} c_{i}\rchi_{E_{i}} \) semplice misurabile non negativa allora
            \[
                \int_A s d\mu = I_A(s) = \sum_{i=1}^{n} c_{i} \mu(A \cap E_{i}) = \sum_{i=1}^{n}
                c_{i} \sum_{k=1}^{\infty} \mu(A_k \cap E_{i})
            \]
            Dove si è usata la \(\sigma\)-additività di \(\mu\). Scambiamo
            la somma e la serie. Lo possiamo fare perché:
            
            \begin{enumerate}
                \item se sono tutte convergenti non c'è problema;
                \item se una delle serie corrispondenti a un \(c_{i} >0\)
                    dovesse divergere allora necessariamente l'integrale
                    originale è \(+\infty\), ma anche la serie ottenuta
                    scambiando somma e serie diverge, poiché ha termine generale
                    maggiore di quello della serie divergente.
            \end{enumerate}

            Quindi 

            \[
                I_A(s) = \sum_{k=1}^{\infty} \sum_{i=1}^{n} c_{i} \mu(A_k \cap
                E_{i}) = \sum_{k=1}^{\infty} I_{A_k}(s) = \sum_{k=1}^{\infty}
                \int_{A_k} s d\mu
            \]
            Sia ora \(f\) misurabile e non negativa e \(0 \le s \le f\) in
            \(A\). Abbiamo che
            \[
                I_A(s) = \sum_{k=1}^{\infty} I_{A_k}(s) \le  \sum_{k=1}^{\infty}
                \int_{A_k}  f d\mu
            \]
            Usando la definizione col sup otteniamo la diseguaglianza 
            \[
                \int_{A} f d\mu \le \sum_{k=1}^{\infty} \int_{A_k} f d\mu
            \]
            Ora vogliamo dimostrare la diseguaglianza inversa. Per definizione di integrale, per ogni
            \(\varepsilon>0\) e \(k = 1, \dots, m\) esistono \(s_{1}, \dots,
            s_{m}\) semplici, misurabili e \(0 \le s_{i} \le f\) in \(A_{i}\)
            tali che 
            \[
                \int_{A_{i}} f d\mu \le \int_{A_{i}} s_{i} d\mu +
                \frac{\varepsilon}{m}
            \]
            Osservo ora la funzione \(s(x) = s_{i}(x)\) se \(x \in A_{i}\) per
            \(i = 1, \dots, m\). Allora \(s\) è semplice, misurabile e \(0 \le s
            \le f\) in \(\bigcup_{i=1}^{m} A_{i} \). A questo punto
            \[
                \sum_{i=1}^{m} \int_{A_{i}} f d\mu  - m \frac{\varepsilon}{m}
                \le   \sum_{i=1}^m \int_{A_{i}} s_{i} d\mu =
                \int_{\bigcup_{i=1}^{m} A_{i} } s d\mu \le \int_{A} f d\mu
            \]
            Da cui troviamo che 
            \[
                \varepsilon + \int_{A} f d\mu \ge \sum_{i=1}^{m} \int_{A_{i}} f
                d\mu \quad \forall \varepsilon >0 \,,\, \forall m \in \mathbb{N}
            \]
            per arbitrarietà di \(\varepsilon\) e per \(m \to +\infty\)
            otteniamo la diseguaglianza desiderata.
    \end{enumerate}
\end{proof}
\begin{corollary}[\(\sigma\)-additività dell'integrale]
    Se \(f \in L^{1}(A)\) e \(\{A_{n}\}\) è una successione di insiemi
    disgiunti a due a due, con \(A = \bigcup_{n=1}^{\infty} A_{n} \), allora \(f
    \in L^{1}(A_n)\) per ogni \(n\) e
    \[
        \int_{A} f d\mu = \sum_{n=1}^{\infty}
        \int_{A_{n}} f d\mu
    \]
\end{corollary}
\begin{proof}
    Sia \(f = f^{+} - f^{-}\) e per \(f^{+}\) e \(f^{-}\) vale il teorema di
    generazione di misure.
\end{proof}
\begin{corollary}
    Se \(f, g \in L^{1} (\Omega)\) e \(f = g\) quasi ovunque in \(\Omega\),
    allora \[\forall E \in \mathcal{M} \quad \int_{E} f d\mu = \int_{E} g d\mu\]
\end{corollary}
\begin{proof}
    Se \(f=g\) quasi ovunque allora esiste un insieme \(F \in \mathcal{M}\) con
    \(\mu(F) = 0\) tali che \(f(x) = g(x)\) per ogni \(x \in \Omega \sminus F\).
    Allora abbiamo
    \[
        \int_{E} f d\mu = \int_{E \cap F} f d\mu + \int_{E \sminus F} f d\mu =
        \int_{E \cap F} g d\mu + \int_{E \sminus F} g d\mu = \int_{E} g d\mu
    \]
    Dove i due integrali su \(E \cap F\) sono uguali in quanto entrambi
    integrali su un trascurabile quindi uguali a 0
\end{proof}
\begin{proposition}\label{help:cau_sch_int}
    Sia \(f \in L^{1}(E)\). Allora \(|f| \in L^{1}(E)\) e
    \[
        \left| \int_{E} f d\mu \right| \le \int_{E} |f| d\mu
    \]
\end{proposition}
\begin{proof}
    \(|f|\) è misurabile perché \(f\) è misurabile. Gli insiemi \(A = \{x \in E:
    f(x) \ge 0\} \) e \(B = \{x \in E : f(x) < 0\} \) sono entrambi misurabili
    per misurabilità di \(f\). Allora abbiamo che
    \[
        \int_E |f| d\mu = \int_{A} |f| d\mu + \int_{B} |f| d\mu = \int_{A} f^{+}
        d\mu + \int_B f^{-} d\mu < +\infty
    \]
    dove gli ultimi due integrali sono finiti per ipotesi.

    La diseguaglianza è ovvia, infatti
    \[
        \left|\int_{E} f d\mu\right| =\left| \int_{A} f^{+} d\mu - \int_{B}
        f^{-} d\mu \right| \le \int_{A}
        f^{+}
        d\mu + \int_{B} f^{-} d\mu = \int_{E} |f| d\mu
    \]
\end{proof}
\begin{theorem}[CNES per l'integrabilità]\label{th:cnes_L1}
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura. Sia \(f : \Omega
    \to  \mathbb{R}\cup \{\pm\infty\} \) misurabile. Allora \(f\) è integrabile
    se e solo se esiste \(g\) integrabile tale che \(|f| \le g\) quasi ovunque,
    in simboli: 
    \[
        f \in L^{1}(\Omega) \iff \exists g \in L^{1}(\Omega) \quad |f| \le g
        \quad \text{q.o.}
    \]
\end{theorem}
\begin{note}
    In questi casi si usa dire che \(f\) è  ``dominata'' da \(g\). L'enunciato
    precedente quindi si può anche dire \(f\) è integrabile se e solo se è
    misurabile e dominata da una funzione integrabile.
\end{note}
\begin{proof}
    Se \(f\)  è integrabile, allora è misurabile e dominata da
        \(|f|\). Viceversa, se
    \(|f| \le g\) in \(\Omega\) allora \(f^{+} < g\) e
        \(f^{-} < g\). Allora \(f^{+}, f^{-} \in L^{1}{(\Omega)}\) e dunque \(f
        \in L^{1}{(\Omega)}\)
\end{proof}
\begin{corollary}
    In particolare se \(|f|\) è integrabile e \(f\) è misurabile allora \(f\) è
    integrabile.
\end{corollary}
Con questo risultato l'integrale di Lebesgue si distingue molto dall'integrale
di Riemann. Ad esempio la funzione definita su \([0, 1]\) come 1 sui razionali e
\(-1\) su \(\mathbb{R}\sminus \mathbb{Q}\) non è integrabile secondo Riemann ma
lo è secondo Lebesgue perché \(|f| = 1\) è integrabile.

\paragraph{Integrale di Riemann} L'integrale di Lebesgue che abbiamo introdotto
è un'estensione dell'integrale di Riemann, cioè \emph{ogni funzione
R-integrabile è anche L-integrabile e, quando esistono entrambi gli integrali, questi coincidono}. Infatti una
funzione \(f\) si dice R-integrabile in \(E\) se per ogni \(\varepsilon>0\)
esistono una somma inferiore \(S\) e una somma superiore \(T\) tali che \(T-S <
\varepsilon\). Per ogni somma (superiore e inferiore) possiamo considerare la
funzione a scala che su ogni elemento di suddivisione (intervallino, quadratino,
ecc) prende il valore specifico che appare nella somma.
\begin{remark}
    Le funzioni a scala sono particolari funzioni semplici, anche se la
    ``filosofia'' è diversa: per le funzioni a scala si divide il dominio,
    mentre per le funzioni semplici si guardano i valori assunti dalla funzione
    e poi si costruiscono gli insiemi su cui la funzione assume quei valori.
\end{remark}
Chiamiamo 
\[
    I_R = \sup_{\substack{s\text{ a scala} \\ s \le f}} \int_{E} s dx = 
    \inf_{\substack{S\text{ a scala} \\ t \ge f}} \int_{E} t dx
\]
Invece \(f\) è L-integrabile se \(f^{+}, f^{-} \in L^{1}{(E)}\). Se \(f\) è
R-integrabile allora anche \(f^{+}\) e \(f^{-}\) lo sono. Basta quindi mostrare
che se \(g\) è non-negativa e R-integrabile allora è anche L-integrabile e i due
integrali coincidono. Esiste quindi \(I_R{(g)} = \int_{E} g dx\) integrale di
Riemann. Per \(g\) tale esiste anche \[I_L{(g)} = \sup \left\{\int_E s d\mu : s
\text{ semplice, misurabile, e } 0\le s\le g \text{ in E} \right\} \] Dobbiamo
quindi provare che \(I_R{(g)} = I_L{(g)}\). A tale scopo possiamo controllare
che sia \(I_R{(g)} < I_R{(g)}\) che \(I_R{(g)} < I_L{(g)}\) portano a
contraddizioni. Nel primo caso abbiamo \(I_R{(g)} < I_L{(g)}\) quindi esiste una
funzione a scala \(t\) tale che \(t \ge g\) in \(E\) e \(I_R{(g)} \le  \int_E t dx
< I_L{(g)}\). Per tale funzione a scala, essendo \(t\) anche semplice abbiamo
che \(\int_E t dx = \int_E t d\mu\) ma allora ogni \(s\) nell'insieme il cui sup
è \(I_L{(g)}\) verifica \(0 \le s\le t\) e quindi
\[
    \int_E s d\mu \le \int_E t d\mu < I_L{(g)}
\]
e quindi \(\int_E t d\mu\) è un maggiorante dell'insieme, per cui \(I_L{(g)}\)
non ne può essere il sup.

Supponiamo ora invece che \(I_R{(g)} > I_L{(g)}\), allora esiste una funzione a
scala \(s\) tale che \(s \le g\) in \(E\) e \(I_L{(g)} < \int_E s d\mu \le
I_R{(g)}\). Ma allora \(s\) appartiene all'insieme il cui sup è \(I_L{(g)}\) e
ha un integrale più grande del sup stesso. 

Ne consegue necessariamente che \(I_L{(g)} = I_R{(g)}\) 

\subsection{Teoremi di passaggio al limite sotto il segno di integrale}
\begin{theorem}[Beppo Levi \-- versione base]\label{th:beppo_levi_base}
Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura. Sia \(f_{n}\) una
successione monotona non decrescente di funzioni misurabili e non negative su \(\Omega\).
Posto \(f(x) = \lim_{n \to \infty} f_{n}(x)\) per ogni \(x \in \Omega\), allora
\(\forall E \in \mathcal{M}\) si ha
\[
    \int_E f d\mu = \lim_{n \to \infty} \int_E f_{n} d\mu
\]
\end{theorem}
\begin{proof}
    Sia \(\alpha := \lim_{n \to \infty} \int_E f_{n} d\mu\), dove \(\alpha \in [0,
    +\infty]\). Per monotonia dell'integrale e della successione di funzioni si ha 
    \[
        \int_E f d\mu \ge \int_E f_{n} d\mu \quad \forall n \in \mathbb{N}\,\,
        \overset{n\to \infty}{\implies }
        \int_E f d \mu \ge \alpha    
    \]
    
    Vogliamo dimostrare l'altra diseguaglianza. Sia \(s\) semplice,
    misurabile e tale che \(0 \le s \le f\) in \(E\). Fissiamo \(\delta \in (0,
    1)\) e definiamo la successione di insiemi
    \[
        E_{n} := \{ x \in E : f_{n}(x) \ge \delta s(x)\} 
    \]
    Affermiamo che \(E_{n} \subseteq E_{n+1}\) e che \(\bigcup_{n=1}^{\infty} E_{n}
    = E\). Infatti, se \(x\) è tale che \(f(x) < +\infty\) allora sicuramente esiste
    \(\overline{n} \in \mathbb{N}\) tale che \(f_{n}(x) \ge \delta s(x)\) per
    ogni \(n \ge \overline{n}\) (per l'osservazione a~\ref{prop:esistenza_semplici}). Nei punti in cui \(f(x) = +\infty\), per limitatezza di
    \(s\), vale lo stesso senza bisogno di ricorrere
    all'uso del \(\delta\).
    Quindi:
    \[
        \int_E f_{n} d\mu \ge \int_{E_{n}} f_{n} d\mu \ge \delta \int_{E_{n}} s
        d\mu
    \]
    Nel limite per \(n \to +\infty\) otteniamo
    \[
        \alpha \ge \delta \int_E s d\mu \quad \forall \delta \in (0, 1)
    \]
    Per definizione di \(\alpha\) e per continuità della misura data da \(s\).
    Poiché vale per ogni \(\delta \in (0, 1)\) deve valere anche per \(\delta
    = 1\). Otteniamo quindi
    \[
        \alpha \ge \int_E s d\mu \quad \forall s \text{ semplice, misurabile e }
        0 \le s \le f \text{ in } E
    \]
    Prendendo il sup otteniamo la diseguaglianza desiderata.
\end{proof}
\begin{lemmao}[Lemma di Fatou \-- versione base]\label{le:fatou_base}
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura. Sia \(f_{n}\) una
    successione di funzioni misurabili e non negative su \(\Omega\). Allora, per
    ogni \(E \in \mathcal{M}\),
    \[
        \int_E \liminf_{n \to \infty} f_{n} d\mu \le \liminf_{n \to \infty}
        \int_E f_{n} d\mu
    \]
\end{lemmao}
\begin{proof}
    Sia \(g_{n} = \inf_{k \ge n} f_{k}\). La successione \(\{g_{n}\}\) è non negativa e
    di funzioni misurabili, inoltre \(0 \le g_{n} \le f_{n}\) e \(g_{n} \le
    g_{n+1} \). Quindi \(g_{n}\) è una successione non decrescente e
    per il teorema di Beppo Levi abbiamo che
    \[
        \int_E \lim_{n \to \infty} g_{n} d\mu = \lim_{n \to \infty} \int_E g_{n}
        d\mu
    \]
    Poiché \(g_{n} \le f_{n}\) per ogni \(n\), e poiché \(\lim_{n \to
    \infty} g_{n}(x) = \sup_{n \in N} g_{n}(x) =\\= \liminf_{n \to \infty} f_{n}(x)\) 
    \[
        \begin{aligned}
            \int_E \liminf_{n \to \infty} f_n \, d\mu 
            &= \int_E \lim_{n \to \infty} g_n \, d\mu \\
            &= \lim_{n \to \infty} \int_E g_n \, d\mu \\
            &= \liminf_{n \to \infty} \int_E g_n \, d\mu \\
            &\leq \liminf_{n \to \infty} \int_E f_n \, d\mu.
        \end{aligned}
    \]
    Poiché \(\lim = \liminf\) se il limite esiste e il \(\liminf\) conserva le diseguaglianze di
    successioni.
\end{proof}

\begin{proposition}[Linearità dell'integrale di Lebesgue]
    Se \(f_{1}, f_{2} \in L^{1}(E)\) allora \(f = f_{1}+f_{2} \in L^{1}{(E)}\) e
    inoltre
    \[
        \int_E f d\mu = \int_E f_{1} d\mu + \int_E f_{2} d\mu
    \]
\end{proposition}
\begin{proof}
    Siano \(u,v\) misurabili e non negative. Posto \(w = u +v\) si ha 
    \begin{equation}\label{eq:linearita_integrale_1}
        \int_E w d\mu = \int_{E} u d\mu + \int_E v d\mu
    \end{equation}
    Infatti esistono due successioni \(s_{n}\) e \(t_{n}\) di funzioni semplici
    tali che \(s_{n} \to u\) e \(t_{n} \to v\) puntualmente dove sia \(\{s_{n}\} \)
    che \(\{t_{n}\} \) sono crescenti. Definiamo \(h_{n} := s_{n} + t_{n}\)
    ottenendo ancora una successione crescente di funzioni semplici misurabili
    non negative. Notiamo che  
    \[
        \int_E h_{n} d\mu = \int_E s_{n} d\mu + \int_E t_{n} d\mu
    \]
    per linearità degli integrali elementari. Prendendo il limite e applicando Beppo
    Levi, ossia~\ref{th:beppo_levi_base}
    otteniamo~\eqref{eq:linearita_integrale_1}. 

    Siano ora \(f_{1}, f_{2}\) integrabili, quindi misurabili, so che
    \(|f_{1}|, |f_{2}| \in L^{1}{(E)}\). Poiché \(|f| = |f_{1}+f_{2}| \le
    |f_{1}|+|f_{2}|\), ho l'integrabilità per la CNES~\ref{th:cnes_L1}.
    Sappiamo che 
    \[
        f^{+}- f^{-} = f_{1}^{+} -f_{1}^{-} + f_{2}^{+} - f_{2}^{-} \iff f^{+} +
        f^{-}_1 +f^{-}_2 = f_{1}^{+} + f_{2}^{+} + f^{-}
    \]
    che è un uguaglianza tra due funzioni somme di funzioni misurabili non
    negative, per cui posso applicare la prima parte, ottenendo
    \[
        \int_E f^{+} d\mu + \int_E f^{-}_1 d\mu + \int_E f^{-}_2 d\mu = \int_E
        f_{1}^{+} d\mu + \int_E f_{2}^{+} d\mu + \int_E f^{-} d\mu 
    \]
    da cui, riordinando i termini otteniamo la tesi.
\end{proof}

Nel lemma di Fatou~\ref{le:fatou_base} vale la disuguaglianza larga. L'uguaglianza vale, ad esempio, quando
\(f_{n}\) è crescente in virtù di Beppo Levi~\ref{th:beppo_levi_base}, e
i \(\liminf \)  sono dei \(\lim\). Ci sono casi l'uguaglianza effettivamente non
è verificata

\begin{example}[Uguaglianza a \(+\infty\)]
    Sia \(\Omega = \mathbb{R}\) con la misura di Lebesgue. Sia \(f_{n}{(x)} =
    \rchi_{[-n, n]}\). Allora \(\lim_{n \to \infty} f_{n} = 1\) e
    \(\int_{\mathbb{R}} f_{n} d\mu = 2n\) otteniamo quindi
    \[
        \int_{\mathbb{R}} \lim_{n \to \infty} f_{n} d\mu = +\infty =
        \lim_{n \to \infty} \int_{\mathbb{R}} f_{n} d\mu
    \]
    In accordo con Beppo Levi. 
\end{example}
\begin{example}[Disuguaglianza stretta]\label{ex:limite_integrale_NO}
    Sia \(\Omega = \mathbb{R}\) con la misura di Lebesgue. Sia \(f_{n} =
    \rchi_{[n, n+1]}\). Allora \(\lim_{n \to \infty} f_{n} = 0\) e
    \(\int_{\mathbb{R}} f_{n} d\mu \rightarrow +\infty\) otteniamo quindi 
    \[
        \int_{\mathbb{R}} \liminf_{n \to \infty} f_{n} d\mu = 0 \le \liminf_{n
        \to \infty} \int_{\mathbb{R}} f_{n} d\mu = +\infty
    \]
    Una variante è \(f_{n} = \rchi_{[n, n+1]}\) per cui
    \[
        \int_{\mathbb{R}} \liminf_{n \to \infty} f_{n} d\mu = 0 \le \liminf_{n
        \to \infty} \int_{\mathbb{R}} f_{n} d\mu = 1
    \]
\end{example}

Se ho una funzione integrabile su \(E\), questa può prendere i valori
\(+\infty\) e \(-\infty\)? Sì, ma solo in un sottoinsieme trascurabile. In caso
contrario la funzione non sarebbe integrabile perché \(f^{+}\) oppure \(f^{-}\)
sarebbero non limitate

\begin{lemma}[Lemma di Fatou \-- versione estesa a successioni di funzioni di segno qualunque]\label{th:fatou_esteso}
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura. Sia \(\{f_{n}\}\) una
    successione di funzioni misurabili su \(\Omega\). Allora
\begin{enumerate}[label = \arabic*.]
    \item Se esiste \(g\) integrabile su \(E\) tale che \(g \le f_{n}\) su \(E\)
        allora
        \[
        \int_E \liminf_{n \to \infty} f_{n} d\mu \le \liminf_{n \to \infty} 
        \int_E f_{n} d\mu
        \]
    \item Se esiste \(h\) integrabile in \(E\) tale che \(f_{n} \le h\) su \(E\)
        allora
        \[
            \int_E \limsup_{n \to \infty} f_{n} d\mu \ge \limsup_{n \to \infty}
            \int_E f_{n} d\mu
        \]
\end{enumerate}
\end{lemma}
\begin{proof}[Dimostrazione parte 1]
    Poniamo \(f{(x)} = \liminf_{n \to \infty} f_{n}{(x)} \ge g{(x)}\) per \(x
    \in E\). Possiamo considerare la successione \(u_{n}{(x)} = f_{n}{(x)} -
    g{(x)}\) che verifica le ipotesi di Fatou base~\ref{le:fatou_base} in \(E\)
    e allora 
    \[
        \liminf_{n \to \infty} u_{n}{(x)} = f{(x)} - g{(x)}
        \implies 
        \int_E {\left( f-g \right)} d\mu \le \liminf_{n \to \infty} \int_E
        {\left( f_{n} - g \right)} d\mu
    \]
    usando la linearità dell'integrale abbiamo
    \[
        \int_E f d\mu - \underbrace{\int_E g d\mu}_{\text{finito}}  \le 
        \liminf_{n \to \infty} \left(\int_E f_{n}
        d\mu - \underbrace{\int_E g d\mu}_{\text{finito}} \right) = 
        \liminf_{n \to \infty} \int_E f_{n} d\mu - \int_E g d\mu
    \]
    da cui otteniamo la tesi.
\end{proof}
\begin{proof}[Dimostrazione parte 2]
    La successione \(v_{n} = -f_{n}\) verifica \(v_{n} \ge -h\) in \(E\) dove
    \(-h\) è una funzione integrabile. Allora possiamo applicare la parte 1 a
    \(v_{n}\) ottenendo 
    \[
        \int_E \liminf_{n \to \infty} v_{n} d\mu \le \liminf_{n \to \infty}
        \int_E v_{n} d\mu
    \]
    poiché \(\liminf_{n \to \infty} (-f_{n}) = -\limsup_{n \to \infty} f_{n}\)
    segue che
    \[
        \int_E -\limsup_{n \to \infty} f_{n} d\mu \le -\limsup_{n \to \infty}
        \int_E f_{n} d\mu \iff \int_E \limsup_{n \to \infty} f_{n} d\mu \ge 
        \limsup_{n \to \infty} \int_E f_{n} d\mu
    \]
\end{proof}

\begin{lemmao}[Lemma di Fatou \-- definitivo]\label{thm:fatou}
    Sia \(\{f_{n}\} \) una successione di funzioni integrabili in \(E\) tali che
    \(\{\int_E f_{n} d\mu\} \) sia limitata. Allora
\begin{enumerate}[label = \arabic*.]
    \item Se esiste \(g \in L^{1}{(E)}\) tale che \(g \le f_{n}\) in \(\Omega\)
        per ogni \(n\), allora \(\liminf_{n \to \infty} f_{n}\) è integrabile in
        \(E\) e
        \[
            \int_E \liminf_{n \to \infty} f_{n} d\mu \le \liminf_{n \to \infty}
            \int_E f_{n} d\mu
        \]
    \item Se esiste \(h \in L^{1}{(E)}\) tale che \(f_{n} \le h\) in \(\Omega\)
        per ogni \(n \in \mathbb{N}\) allora \(\limsup_{n \to \infty} f_{n}\) è
        integrabile in \(E\) e
        \[
            \int_E \limsup_{n \to \infty} f_{n} d\mu \ge \limsup_{n \to \infty}
            \int_E f_{n} d\mu
        \]
\end{enumerate}
\end{lemmao}
\begin{proof}
    Segue semplicemente da Fatou esteso~\ref{th:fatou_esteso}, e il liminf è
    integrabile perché 
    \[
        -\infty < \int_E g d\mu \le \int_E{\left( \liminf_{n \to \infty} f_{n}
        \right)} d\mu \le \liminf_{n \to \infty} \int_E f_{n} d\mu < +\infty
    \]
    dove le prime diseguaglianze sono per integrabilità di \(g\) e \(g
    \le f_{n}\) e l'ultima perché la successione degli integrali è limitata.

    Analogo il caso 2.
\end{proof}

\begin{theorem}[Beppo Levi \-- seconda versione]\label{thm:beppo-levi}
    Sia \({(\Omega, \mathcal{M}, \mu)}\) uno spazio di misura. Sia \(\{f_{n}\}
    \) una successione monotona di funzioni integrabili in \(E \in \mathcal{M}\)  tali che la successione
    degli integrali \(\displaystyle \left\{\int_E f_{n} d\mu\right\} \) sia limitata.
    Allora posto
    \[
        f{(x)} := \lim_{n \to \infty} f_{n}{(x)} \quad \forall x \in \Omega
    \]
    si ha che \(f \in L^{1}{(E)}\) e inoltre
    \[
        \int_E f d\mu = \lim_{n \to \infty} \int_E f_{n} d\mu 
    \]
\end{theorem}
\begin{remark}
    Si potrebbe estendere l'enunciato al caso di una successione che sia
    monotona solo quasi ovunque, cioè che esista \(N \subseteq \Omega \) trascurabile
    tale che \(f_{n}{(x)} \lessgtr f_{n+1}{(x)} \) per ogni \(n \in \mathbb{N}\)
    e per ogni \(x \in \Omega \sminus N\)
\end{remark}
\begin{proof}
    Assumiamo \(f_{n}\) una successione decrescente. Quindi \(f_{1} \ge f_{2}
    \ge \dots\ge f_{n}\ge \dots\). 
    Tutte le \(f_{n}\) sono integrabili e inoltre \(f \le f_{n} \le f_{1}\) per ogni
    \(n \in \mathbb{N}\) e \(f_{1}\) è integrabile.
    Allora \(f = \limsup_{n \to \infty} f_{n}\) e dunque è integrabile per la
    parte 2 del lemma di Fatou~\ref{thm:fatou}.
    Ora possiamo applicare la parte 1 del lemma di Fatou~\ref{thm:fatou} ottenendo
    \[
        \int_E \liminf_{n \to \infty} f_{n} d\mu \le \liminf_{n
        \to \infty} \int_E f_{n} d\mu \le \limsup_{n \to \infty} \int_E f_{n}
        d\mu \le  \int_E \limsup_{n \to \infty} f_{n} d\mu
    \]
    poiché \(\displaystyle \liminf_{n \to \infty} f_{n} = \limsup_{n \to \infty}
    f_{n} = f\) segue la tesi.
\end{proof}
\begin{corollary}[Beppo Levi per le serie]\label{cor:beppo-levi-serie}
    Sia \(f_{n}\) una successione di funzioni misurabili e non negative. Allora
    la serie \(\sum_{n=1}^{\infty} f_{n}{(x)} \) converge a una funzione \(s:
    \Omega \to [0, +\infty]\) tale che
    \[
        \int_E s d\mu = \sum_{n=1}^{\infty} \int_E f_{n} d\mu \quad \forall E
        \in \mathcal{M} 
    \]
    In particolare se la serie degli integrali converge allora \(s \in L^{1}{(E)}\) 
\end{corollary}
\begin{proof}
    Si consideri la successione \(s_{n}\) delle ridotte, questa costituisce una
    successione crescente di funzioni misurabili e non negative e si può quindi
    applicare Beppo Levi base~\ref{th:beppo_levi_base} ottenendo la tesi. Se poi
    la serie degli integrali converge allora la successione degli integrali
    delle ridotte è limitata e si può applicare Beppo Levi~\ref{thm:beppo-levi}
\end{proof}

\begin{theorem}[Convergenza Dominata di Lebesgue]\label{thm:Lebesgue_conv_dom}
    Sia \({(\Omega, \mathcal{M}, \mu)}\) uno spazio di misura. Sia \(f_{n}\) una
    successione di funzioni misurabili tale che \(f_{n} \to f\) puntualmente.
    Inoltre sia \(g\) una funzione integrabile in \(E \in \mathcal{M}\) tale che 
    \[
        |f_{n}{(x)}| \le g{(x)} \quad \forall x \in E, \quad \forall n \in \mathbb{N}
    \]
    allora \(f \in L^{1}{(E)}\) e inoltre
    \[
        \int_E f d\mu = \lim_{n \to \infty} \int_E f_{n} d\mu
    \]
\end{theorem}
\begin{proof}
    Per poter applicare il lemma di Fatou abbiamo bisogno che \(f_{n}\) siano
    integrabili questo è vero perché sappiamo che \(|f_{n}| \le g\) e dunque
    \(f_{n} \in L^{1}{(E)}\) per la CNES~\ref{th:cnes_L1}.

    Ora per sappiamo che
    \[
        -g{(x)} \le f{(x)} \le g{(x)} \quad \forall x \in E
    \]
    possiamo allora applicare Fatou~\ref{thm:fatou} che ci dice che \(f =
    \liminf_{n \to \infty} f_{n} = \\ = \limsup_{n \to \infty} f_{n} \) è integrabile
    in \(E\) e inoltre 
    \[
        \int_E \liminf_{n \to \infty} f_{n} d\mu \le \liminf_{n \to \infty} \int_E f_{n} d\mu \le \limsup_{n
        \to \infty} \int_E f_{n} d\mu \le \int_E \limsup_{n \to \infty}f_{n}  d\mu
    \]
    ma poiché \(\liminf_{n \to \infty} f_{n} = \limsup_{n \to \infty} f_{n} =
    f\) otteniamo la tesi.
\end{proof}
Notare come non abbiamo mai richiesto la convergenza uniforme, cosa che invece
era essenziale per lo stesso risultato nell'integrale di Riemann

\begin{note}
    La convergenza puntuale, l'integrabilità di \(f_{n}\) e la limitatezza della
    successioni \(\{f_{n}\} \)  non bastano per passare al limite sotto il segno
di integrale. Basti pensare all'esempio~\ref{ex:limite_integrale_NO}
\end{note}

\begin{remark}
    Come nel teorema di Beppo Levi~\ref{thm:beppo-levi} possiamo estendere il
    teorema della convergenza dominata rilassando le ipotesi \(f_{n} \to f\)
    puntualmente a \(f_{n} \to f\) q.o.~e \(|f_{n}| \le g\) q.o.
\end{remark}


\paragraph{Funzioni \(\frac{1}{x^{\alpha}}\)} Consideriamo le funzioni \(f{(x)}
= \frac{1}{x^{\alpha}}\), con \(\alpha>0\) sia su \((0,1)\) che in \({(1,
+\infty)}\). Queste funzioni sono non limitate oppure hanno dominio non
limitato, e possiamo estendere l'integrale di Riemann per integrarle in senso improprio in
alcuni casi. In particolare

\begin{itemize}[label = --]
    \item \(\frac{1}{x^{\alpha}}\) è integrabile in senso improprio su
        \({(0,1)}\) se e solo se \(\alpha<1\) 
    \item \(\frac{1}{x^{\alpha}}\) è integrabile in senso improprio in
        \({(1,+\infty)}\) se e solo se \(\alpha>1\)
\end{itemize}
dove l'integrale in senso improprio è definito come
\[
    \int_{0}^{1} \frac{1}{x^{\alpha}} dx = \lim_{\varepsilon \to 0^{+}}
    \int_{\varepsilon}^{1} \frac{1}{x^{\alpha}} dx = \begin{cases}
        \frac{1}{1-\alpha} & \text{se } \alpha < 1 \\
        +\infty & \text{se } \alpha \ge 1
    \end{cases}
\]
Se consideriamo le funzioni
\[
    f_{\varepsilon} {(x)} = \begin{cases}
        \frac{1}{x^{\alpha}} & \text{se } \varepsilon \le x\le 1 \\
        0 & \text{se } 0 \le x < \varepsilon
    \end{cases}
\]
allora la famiglia di funzioni \(\{f_\varepsilon\} \) risulta monotona rispetto
a \(\varepsilon \to 0^{p}\) ossia \(\forall {(\varepsilon_{1},
\varepsilon_{2})}\) con \(\varepsilon_{1} < \varepsilon_{2}\) si ha che 
\[
    f_{\varepsilon_{1}}{(x)} \ge f_{\varepsilon_{2}}{(x)} \quad \forall x \in
    {(0,1)}
\]
passando al limite per \(\varepsilon \to 0^{+}\), per il teorema di Beppo
Levi, concludiamo che la funzione limite \(f{(x)} = \frac{1}{x^{\alpha}}\) è
L-integrabile se e solo se \(\alpha < 1\).

Queste informazioni sono molto utili quando dobbiamo valutare l'integrabilità di
una funzione. Ad esempio data una qualunque funzione misurabile \(f{(x)}\)
definita in \({(1, +\infty)}\) tale per cui esistano \(C > 0\) e \(\alpha > 1\)
tali che \(\left| f{(x)} \right| \le \frac{C}{x^{\alpha}}\) per ogni \(x \in
{(1, +\infty)}\) allora questa è integrabile. D'altro canto se \(g{(x)}\) è una
funzione su \({(1, +\infty)}\) tale che \(g{(x)} \ge \frac{1}{\sqrt{x}}\) per
ogni \(x > \overline{x}\) allora necessariamente \(g\) non è integrabile.

\begin{example}
    Consideriamo la funzione \(g{(x)} = \frac{1}{\ln x}\) in \((2,
    +\infty)\). Sappiamo che \(\lim_{x \to \infty} \frac{\ln x}{\sqrt{x}} = 0\) ossia
    \(\forall \varepsilon > 0\) \(\exists \overline{x}\) tale che \(\forall x \ge
    \overline{x}\) si ha che \(\frac{\ln x}{\sqrt{x}} \le \varepsilon\) ossia
    \(\frac{1}{\ln x} \ge \frac{1}{\varepsilon \sqrt{x}}\). Quindi \(g\) non è
    L-integrabile in \((1, +\infty)\). 

    Ora consideriamo la funzione \(g\) su \({(1, 2)}\). Sappiamo che \(\ln x
    \sim x- 1\) per \(x \to 1^{+}\). Ma sappiamo che \(\frac{1}{\sqrt{x}}\) non
    è integrabile perché \(\frac{1}{x-1}\) non è L-integrabile in \({(1, 2)}\) 
\end{example}

\begin{eser}
    Studiare l'integrabilità della funzione 
    \[
    f_{\alpha}(x) = {\left| \log x \right|}^{\alpha} \quad x \in (0, 1)
    \]
    quindi quand'è che \(f_\alpha \in L^{1}(0, 1)\) al variare di \(\alpha \in
    \mathbb{R}\)?
\begin{itemize}[label = --]
    \item se \(\alpha = 0\) è chiaramente \(f_0 = 1\) integrabile
    \item se \(\alpha > 0\) dobbiamo studiare il comportamento vicino a \(0\).
        Vogliamo confrontare la funzione con \(\frac{1}{x^{\beta}}\) che
        sappiamo essere integrabile per \(\beta \in (0, 1)\). Abbiamo quindi ad
        esempio, per \(\beta = \frac{1}{2}\) 
        \[
            \lim_{x \to 0^{+}} \frac{{|\ln x|}^{\alpha}}{\frac{1}{\sqrt{x}}} =
            \frac{{(-\ln x)}^{\alpha}}{x^{-\frac{1}{2}}} \overset{\text{ L'H
            }}{=} \frac{- \alpha {(-\ln
            x)}^{\alpha-1} \cdot \frac{1}{x} }{ -\frac{1}{2} x^{-\frac{3}{2}} }
            = 2 \alpha \frac{{(-\ln x)}^{\alpha - 1}}{x^{\frac{1}{2}}}
        \]
        procedendo con l'Hôpital finché l'esponente non diventa negativo
        otteniamo che il limite non è più una forma indeterminata. Quindi
        otteniamo che il limite è \(0\). Abbiamo dunque che \(\sqrt{x} |\ln x
        |^{\alpha}\) è limitata in \((0, 1)\) e quindi \(\exists C >0\) tale che 
        \[
            |\ln x|^{\alpha} \le \frac{C}{\sqrt{x}} \text{ che è integrabile } \quad \forall x \in (0, 1)
        \]
        Quindi \(f_{\alpha} \in L^{1}(0, 1)\) per ogni \(\alpha > 0\).
    \item se \(\alpha < 0\) Sia \(\alpha = -\gamma\), con \(\gamma > 0\).
        Abbiamo dunque
        \[
            f_\alpha (x) = \frac{1}{{|\ln x|}^{\gamma}} \overset{ x \to
            0^{+}}{\longrightarrow} 0
        \]
        ora poiché \(\ln x \sim x - 1\) per \(x \to 1\) abbiamo che 
        \[
            f_\alpha (x) \sim \frac{1}{|x-1|^{\gamma}} 
        \]
        che è integrabile per \(\gamma < 1\). Quindi \(f_{\alpha} \in L^{1}(0,1)
        \iff \alpha > -1\).
\end{itemize}
\end{eser}
\begin{remark}
    Ci sono funzioni integrabili in senso improprio che tuttavia non sono \(\mathcal L\)-integrabili. Il
    prossimo esempio ne è un esempio (scusate il gioco di parole) (scusato):
\end{remark}
\begin{example}
        Sia \(f(x) = \frac{\cos x}{x}\) in \([\frac{\pi}{2}, +\infty]\). Allora
\begin{enumerate}[label = \arabic*.]
    \item \(f\) è integrabile in senso improprio:
        \[
            \int_{\frac{\pi}{2}}^{R} \frac{\cos(x)}{x} dx = \frac{\sin x}{x}
            \Big|_{\frac{\pi}{2}}^{R} + \int_{\frac{\pi}{2}}^{R} \frac{\sin
            x}{x^{2}} dx = \frac{\sin R}{R} - \frac{2}{\pi} + \int_{\frac{\pi}{2}}^{R}
            \frac{\sin x}{x^{2}} dx
        \]
        Per \(R \to \infty\) otteniamo che l'integrale converge in quanto anche
        il secondo integrale converge perché il suo valore assoluto è maggiorato
        da \(\frac{1}{x^{2}}\).
    \item \(f\) non è integrabile in senso di Lebesgue. Infatti se così fosse
        allora anche \(|f| = |\cos x| / x\) sarebbe integrabile 
        \begin{align*}
            \int_{\frac{\pi}{2}}^{\frac{\pi}{2} + n\pi} \frac{|\cos x|}{x} dx &=
            \sum_{k=1}^{n} \int_{\frac{\pi}{2} + (k-1)\pi}^{\frac{\pi}{2} +
        k\pi} \frac{|\cos x|}{x} dx \ge \\ &\ge \sum_{k=1}^{n}
                \frac{1}{\frac{\pi}{2} + k\pi} \int_{\frac{\pi}{2} +
                (k-1)\pi}^{\frac{\pi}{2} + k\pi} |\cos x| dx
        \end{align*}
        dove l'eguaglianza è data dalla minorazione per il minimo.
        Ora evidentemente tutti gli integrali sono uguali e valgono
        \[
            \int_{\frac{\pi}{2}}^{\frac{\pi}{2} + \pi} |\cos x| dx =
            \int_{\frac{\pi}{2}} ^{\frac{3\pi}{2}} -\cos x  dx = 2
        \]
        quindi la ridotta della serie ora vale
        \[
            \sum_{k=1}^{n} \frac{2}{\frac{\pi}{2} + k\pi} \to +\infty   
        \]
        e quindi \(|f|\) e \(f\) non sono integrabili.
\end{enumerate}
\end{example}

\begin{example}
    Quali sono le funzione integrabili per la misura di Dirac? Consideriamo lo
    spazio di misura \((\mathbb{R}^{N}, 2^{\mathbb{R}^{N}}, \delta_O)\). Allora
    ogni funzione \(f : \mathbb{R}^{N} \to \mathbb{R} \cup \{\pm \infty\} \) è
    misurabile perché ogni insieme è misurabile. Se \(f\) è non negativa allora 
    \[
        \int_{\mathbb{R}^{N}} f d\delta_O = \sup \{ I(s) : s \text{ semplice
        tale che } 0\le s\le f\} 
    \]
    Quindi \(s(x) = \sum_{i=1}^{n} c_{i} \rchi_{E_{i}}(x)\) e \(I(s) =
    \sum_{i=1}^{n} c_{i} \delta_O(E_{i}) \) che quindi
    \[
        I(s) = \sum_{i:O \in E_{i}} c_{i} \le f(O)
    \]
    dove l'ultima uguaglianza è data da \(0 \le s\le f\) 
    Ne concludiamo dunque che 
    \[
        \int_{\mathbb{R}^{N}} f d\delta_O = f(O)
    \]
    Se ora \(f\) è di segno qualunque allora 
    \[
        \int_{\mathbb{R}^{N}} f d\delta_O = f^{+}(O) - f^{-}(O) = f(O)
    \]
    Dunque \(f\) è integrabile se e solo se \(f(O) \in \mathbb{R}\).
\end{example}

\begin{example}[Serie come integrali con misura del contare]
    Consideriamo ora la misura del contare e lo spazio \((\mathbb{N},
    2^{\mathbb{N}}, \#)\). Le funzioni considerate sono le successioni
    \(f : \mathbb{N} \to \mathbb{R} \cup \{\pm \infty\} \). Anche in questo caso sono
    misurabili perché tutti gli insiemi sono misurabili. Quali sono le funzioni
    integrabili? Sia \(f \ge 0\).
    Abbiamo che
    \[
        \int_{\mathbb{N}} f d\# = \sup \{ I(s) : s \text{ semplice tale che } 0
        \le s \le f\}
    \]
    dove \(s(x) = \sum_{i=1}^{n} c_{i} \rchi_{E_{i}}(x) \) dove chiediamo che gli
    \(E_{i}\) siano a due a due disgiunti. Osserviamo che posso usare una scrittura standard \(\sum_{i=1}^{k} c_{i}
    \rchi_{\{i\} } (x) \), che sono particolari funzioni semplici. Deve essere
    \(c_{i} \le f(i)\) per \(i = 1, \dots, k\).
    Concludiamo che
    \[
        \int_{\mathbb{N}} f d\# = \sum_{i=1}^{+\infty} f(i) \#(\{i\} ) =
        \sum_{i=1}^{+\infty} f(i)
    \]
    Se \(f(i) = +\infty\) per qualche \(i\) oppure la serie diverge allora
    l'integrale è \(+\infty\).
    Concludiamo \(f\) non negativa, allora \(f \in L^{1}(\mathbb{N})\) se
    \(\sum_{n=1}^{\infty} f(n) \) converge. Se ora \(f\) è di segno qualunque
    allora \(f \in  L^{1}(\mathbb{N})\) se 
    \[
        \sum_{n=1}^{+\infty} f^{+}(n) < +\infty \quad \text{ e } \quad
        \sum_{n=1}^{+\infty} f^{-}(n) < +\infty
    \]
    Notare che è verificata la proprietà \(f \in L^{1} \iff |f| \in L^{1}\).
\end{example}

\begin{eser}
    Per ogni \(n \in \mathbb{N}\) definiamo \[f_{n}(x) =
        \begin{cases}
            \displaystyle
        \frac{|\ln (n^{7} x^2)|}{3 + n^{4}x^2} & \text{ se } x \neq 0 \\
        1 & \text{ se } x = 0
\end{cases}
\]
\begin{enumerate}[label = \alph*)]
    \item Per quali \(n\) \(f_{n}\) è integrabile su \(\mathbb{R}\)? 
        Esiste \(C_{n}\) tale che 
        \[
            |\ln (n^{7} x^2)| \le \frac{C_{n}}{\sqrt{ |x| }} \quad \forall x \in
            (-1, 1) \sminus \{0\}
        \]
        Quindi \(f_{n}\) è integrabile in tutto \((-1, 1)\).
        Ora poiché
        \[
            \frac{f_{n}}{x^{-\frac{3}{2}}} \to 0 \quad \text{ per } x \to +\infty
        \]
        da cui
        \[
            \exists  \overline{x} > 0 \text{ tale che } \forall x \ge
            \overline{x} \quad 0\le f_{n}(x) \le \frac{1}{x^{\frac{3}{2}}}
        \]
        dunque \(f_{n}\) è integrabile su tutto \(\mathbb{R}\) 
    \item Consideriamo ora la serie
        \[
            \sum_{i=1}^{\infty} f_{n}(x) \quad x \in \mathbb{R}
        \]
        e sia \(C\) l'insieme di convergenza della serie, allora \(s: C \to
        \mathbb{R}\) sia la somma della serie. Discutiamo ora la misurabilità di
        \(C\) e di \(s\).
        Se \(x = 0\) chiaramente diverge, mentre se \(x \neq 0\) allora
        \[
            s(x) = \sum_{n=1}^{\infty} \frac{|7 \ln n + 2 \ln|x|}{3 + n^{4}x^2} 
        \]
        Quindi \(C = \mathbb{R} \sminus \{0\} \) è misurabile, inoltre \(s\) è
        misurabile in quanto limite di una successione di ridotte tutte
        misurabili.
    \item Vale l'uguaglianza 
        \[
            \int_{C}  s dx = \sum_{n=1}^{\infty} \int_{C} f_{n} dx  \text{ ? }
        \]
        SÌ \textbf{alla grande} per Beppo Levi, infatti \(f_{n} \ge 0\) e nel nostro caso
        i termini della serie sono tutti finiti.

        Vogliamo ora vedere se \(s \in L^{1} (C)\) sfruttando l'uguaglianza.
        \[
            \int_{\mathbb{R}} \frac{|\ln(n^{7}x ^2)}{3 + n^{4}x^2} dx =
            \int_{\mathbb{R}} \frac{1}{n^2} \frac{|\ln(n^3 t^2)|}{ 3 + t^2 } dt
            \le \frac{1}{n^2} \int_{\mathbb{R}} \frac{|3 \ln n + 2 \ln |t||}{ 3 +
            t^2} dt
        \]
        operando la sostituzione \(n^2x = t\), \(n^2 dx = dt\). Ora nuovamente
        maggioriamo dividendo la frazione con la diseguaglianza triangolare
        \[
            \le \frac{3 |\ln n|}{ n^2 } \int_{\mathbb{R}} \frac{1}{3 + t^2} dt +
            \frac{2}{n^2} \int_{\mathbb{R}} \frac{|\ln |t||}{3 + t^2} dt
        \]
        che sono entrambi termini generali di serie convergente. Quindi \(s \in
        L^{1}(C)\)

\end{enumerate}
\end{eser}

\subsection{Convergenze di funzioni misurabili}
Di seguito vengono introdotti diversi concetti di convergenza di successioni di funzioni e relative implicazioni, 
il risultato chiave è il teorema di (Severini)-Egorov (\ref{thm:severini-egorov}).
\begin{definition}[Convergenza quasi ovunque]
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura. Una successione di
    funzioni misurabili \(f_{n} : \Omega \to \mathbb{R} \cup \{\pm \infty\} \)
    converge quasi ovunque a \(f : \Omega \to \mathbb{R} \cup \{\pm \infty\} \)
    se esiste un insieme \(F \in \mathcal{M}\) tale che \(\mu(F) = 0\) e
    \(\lim_{n \to \infty} f_{n}(x) = f(x) \quad \forall x \in \Omega \sminus F\)
\end{definition}
\begin{definition}[Convergenza quasi uniforme]
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura. Una successione di
    funzioni misurabili \(f_{n} : \Omega \to \mathbb{R} \cup \{\pm \infty\} \)
    converge quasi uniformemente a \(f : \Omega \to \mathbb{R} \cup \{\pm \infty\} \)
    se per ogni \(\varepsilon > 0\) esiste un insieme \(F \in \mathcal{M}\) tale
    che \(\mu(F) < \varepsilon\) e \(f_{n} \to f\) uniformemente in \(\Omega
    \sminus F\).
\end{definition}
\begin{definition}[Convergenza in misura]
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura. Una successione di
    funzioni misurabili \(f_{n} : \Omega \to \mathbb{R} \cup \{\pm \infty\} \)
    converge in misura a \(f : \Omega \to \mathbb{R} \cup \{\pm \infty\} \) se
    per ogni \(\varepsilon > 0\) 
    \[
        \lim_{n \to \infty} \mu(\{x \in \Omega : |f_{n}(x) - f(x)| \ge
        \varepsilon\}) = 0
    \]
\end{definition}
\begin{example}
    Consideriamo la successione \(f_{n}{(x)} = x^{n}\) in \([0,1]\). Allora
    \(f_{n} \to 0\) q.o.~in \([0, 1]\), perché per ogni \(x \in [0, 1)\)
    \(f_{n}{(x)} \to 0\) e chiaramente \(\mu{[0,1] \sminus {[0,1)}} =
    \mu{(\{1\} )} = 0\). Ma anche \(f_{n} \to f\) quasi uniformemente, infatti
    per ogni \(\varepsilon > 0\) scegliamo \(F=[1-\frac{\varepsilon}{2} , 1]\) e
    nel complementare c'è convergenza uniforme. Infine, per la convergenza in
    misura, \[
        \{x \in [0,1] : |x^{n}| > \varepsilon\} = \{x \in
        [0,1] : |x| > \varepsilon^{\frac{1}{n}}\} = (\varepsilon^{\frac{1}{n}},
        1]
    \]
    e poiché \(\mu{(\varepsilon^{\frac{1}{n}}, 1]} = 1-\varepsilon^{\frac{1}{n}}
    \to 0\) allora \(f_{n} \overset{\mu}{\to} 0\).
\end{example}
\begin{example}
    Consideriamo la successione \(f_{n}{(x)} = \frac{x}{n}\) in \(\mathbb{R}\).
    Allora \(f_{n} \to 0\) q.o.~in \(\mathbb{R}\). Anche qui non abbiamo
    convergenza uniforme, e neanche quasi uniforme, in quanto ogni insieme su
    cui c'è convergenza uniforme è limitato e ha complementare di misura non
    finita.
    Infine \(\{x \in \mathbb{R} : | \frac{x}{n}| > \varepsilon\} = {(-\infty,
    - \varepsilon n) \cup {(\varepsilon n , +\infty)}} \) che ha sempre misura
    infinita, quindi \(f_{n} \not\to f \) in misura.
\end{example}
Dal precedente esempio possiamo dedurre che q.o.~\(\not\implies\) q.u.~e che
q.o.~\(\not\implies\) in misura. Ora invece mostriamo le implicazioni che
valgono. 
\begin{theorem}[\(f_n \overset{q.u.}{\to} f \implies f_{n} \overset{q.o.}{\to}
    f\)]\label{thm:qu_qo}
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura.
    Sia \(f_{n}\) una successione di funzioni misurabili tale che \(f_{n}
    \overset{q.u.}{\to } f\) funzione misurabile. Allora \(f_{n}
    \overset{q.o}{\to } f\) 
\end{theorem}
\begin{proof}
    Per ogni \(k \in \mathbb{N}\) esiste un insieme \(E_k \in
    \mathcal{M}\) tale che \(\mu{(\Omega \sminus E_k)} <\frac{1}{k}\) e \(f_{n}
    \to f\) uniformemente, quindi anche puntualmente, in \(E_k\). Ora prendiamo
    \[
        E = \bigcup_{k \in \mathbb{N}} E_k
    \]
    allora dico che \(f_{n} \to f\) puntualmente in \(E\). Infatti per ogni
    punto \(x \in E\) esiste \(k\) tale che \(x \in E_k\) e quindi \(f_{n}{(x)} \to
    f{(x)}\). Infine
    \[
        \mu{(E^{C})} = \mu{\left( \bigcap_{k \in \mathbb{N}} E^{C}  \right)} \le
        \mu{\left( E^{C} \right)} < \frac{1}{k} \quad \forall k \in \mathbb{N}
    \]
    e quindi necessariamente \(\mu{(E^{C})} = 0\) e quindi \(f_{n} \to f\) q.o.
\end{proof}

\begin{theorem}[Severini-Egorov]\label{thm:severini-egorov}
    Sia \({(\Omega, \mathcal{M}, \mu)}\) uno spazio di misura finito, ossia
    \(\mu{(\Omega)} < +\infty\). Se \(f_{n} \to f\) q.o.~in \(\Omega\), allora
    \(f_{n} \to f\) q.u.~in \(\Omega\).
\end{theorem}
\begin{proof}
    Iniziamo fissando \(\varepsilon>0\).
    \(f_{n} \overset{q.o.}{\to } f\) in \(\Omega\), quindi esiste \(N\)
    trascurabile tale che \(f_{n} \to f\) puntualmente in \(\Omega \sminus N\).
    Per ogni \(k \in \mathbb{N}\) introduciamo gli insiemi \[A_{m} = \bigcap_{n
    \ge m} \left\{x \in \Omega \sminus N : \left| f_{n}{(x)} - f{(x)} \right| \le
\frac{1}{k}\right\} \]

    Gli insiemi \(A_{m}\) formano una successione crescente e inoltre 
    \(
        \bigcup_{m \in \mathbb{N}} A_{m} = \Omega \sminus N
    \).
    Infatti se \(x \in A_{m}\) per \(m\) fissato, si ha che
    \(|f_{n}{(x)} - f{(x)}| \le \frac{1}{k}\) per ogni \(n\ge m\), quindi
    \(f_{n}{(x)} \to f{(x)}\). Per continuità della misura 
    \[
        \lim_{m \to \infty} \mu{(A_{m})} = \mu{(\Omega \sminus N)} = \mu{(\Omega)}
    \]
    dunque esisterà certamente un \(m_k\) tale che \(A_{m_k}\) ha complementare
    di misura minore di \(\frac{\varepsilon}{2^{k}}\) \((\star)\). In \(A_{m_k}\) si avrà
    che \(|f_{n}{(x)} - f{(x)}| \le \frac{1}{k}\) per ogni \(n \ge m_k\) e per
    ogni \(x \in A_{m_k} \). Poniamo allora
    \[
        E := \bigcap_{k \in \mathbb{N}} A_{m_k}
    \]
    Allora su \(E\) c'è convergenza uniforme di \(f_{n}\) a \(f\) perché
    se \(x \in E\) allora per ogni \(k \in \mathbb{N}\) esiste \(m_k \in
    \mathbb{N}\) tale che per ogni \(n \ge m_k\) si ha che \(|f_{n}{(x)} -
    f{(x)}| \le \frac{1}{k}\). 

    Per mostrare che \(\mu {\left( E^{C} \right)} < \varepsilon\) usiamo la subadditività:
    \[
        \mu{\left( E^{C} \right)} = \mu {\left( \bigcup_{k \in \mathbb{N}}
    \left\{ A_{m_k}^C \right\} \right)} \le \sum_{k=1}^{\infty} \mu{(A_{m_k}^{C})} <
    \sum_{k=1}^{\infty} \frac{\varepsilon}{2^{k}} = \varepsilon 
    \]
\end{proof}
\begin{note}
    L'ipotesi di \(\mu{(\Omega)} < +\infty\) è stata usata in \((\star)\),
    infatti sappiamo che
    \[
        \mu{\left( A_{m_k}  \right)} +\mu{\left( A_{m_k} ^{C} \right)} = \mu{(\Omega)}
    \]
    e per dire che \(\mu{\left( A_{m_k} ^{C} \right)} \to 0\) dobbiamo poter
    sottrarre \(\mu{\left( A_{m_k}  \right)} \) da entrambi i lati
    dell'uguaglianza.
\end{note}

\begin{theorem}[\(f_n \overset{q.u.}{\to} f \implies f_{n} \overset{\mu}{\to}
    f\)]\label{thm:2}
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura. Se \(f_{n} \to f\)
    quasi uniformemente allora \(f_{n} \to f\) in misura.
\end{theorem}
\begin{proof}
    \(\forall \sigma > 0\) esiste \(E \in \mathcal{M}\) tale che \(\mu{(E^{C})}
    < \sigma\) e \(f_{n} \to f\) uniformemente in \(E\), quindi 
    \(\forall  \varepsilon>0\) esiste un \(n_\varepsilon\) tale che \(\forall n
    \ge n_\varepsilon\) e \(\forall x \in E\), \(|f_{n}{(x)} - f{(x)}| \le
    \varepsilon\). Proseguendo
    \begin{align*}
        \{x \in \Omega : \left| f_{n}{(x)} - f{(x)} \right| > \varepsilon\} &=
        \underbrace{\{x \in E : \left| f_{n}{(x)} - f{(x)} \right| > \varepsilon 
        \}}_{\text{vuoto per } n \ge n_\varepsilon}  \cup \\
     &\cup \underbrace{\{x \in E^{C} : \left| f_{n}{(x)} - f{(x)}\right| >\varepsilon
         \}}_{\text{sottoinsieme di \(E^{C}\), quindi di misura \(<
        \sigma\)}}  
    \end{align*}
    ma allora abbiamo provato che
    \[
        \forall \sigma > 0 \quad \exists n_\varepsilon : \forall n \ge
        n_\varepsilon \quad \mu{\left( \{x \in \Omega : \left| f_{n}{(x)} -
        f{(x)} \right| > \varepsilon \}  \right)} < \sigma
    \]
    e quindi \(f_{n} \to f\) in misura.
\end{proof}


\begin{theorem}[\(f_n \overset{\mu}{\to} f \implies f_{n_k} \overset{q.o.}{\to}
    f\)]\label{thm:3}
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura. Sia \(f_{n}\) una
    successione di funzioni misurabili e \(f\) una funzione misurabile. Allora
    se \(f_{n} \to f\) in misura, allora esiste una sottosuccessione \(f_{n_{k}}\)
    che converge quasi ovunque a \(f\).
\end{theorem}

\begin{proof}
    Sappiamo che
    \[
        \forall k \in \mathbb{N} \quad \exists n_k : \forall n \ge n_k \quad \mu
        {\left( \left\{ x \in \Omega : \left| f_{n}{(x)} - f{(x)}\right| >
        \frac{1}{k} \right\}  \right)} < \frac{1}{k^2}
    \]
    Definisco \(\displaystyle E_k := \left\{ x \in \Omega : \left| f_{n_k}{(x)}
    - f{(x)}\right| < \frac{1}{k} \right\}  \) e l'insieme \(\displaystyle E =
    \bigcap_{m \in \mathbb{N}} \bigcup_{k \ge m} E_k\). Noto ora che
    \(\displaystyle \mu{\left( E \right)} \le \sum_{k=m}^{\infty}
    \frac{1}{k^2}\) che tende a \(0\) per \(m\to \infty\) in quanto coda di
    serie convergente e per \(x \in E^{C}\) ho che \(f_{n_k}{(x)} \to f{(x)}\)
    in quanto 
    \[
        E^{C} = \bigcup_{m \in \mathbb{N}} \bigcap_{k \ge m} \left\{ x \in
        \Omega : \left| f_{n_k} {(x)} - f{(x)}  \right| \le \frac{1}{k} \right\} 
    \]
    ossia esiste un \(m\) tale che per ogni \(k \ge m\) si ha che
    \(|f_{n_k}{(x)} - f{(x)} | \le \frac{1}{k}\) e quindi \(f_{n_k} \to f\) in
    \(E^{C}\).
    In questo modo abbiamo trovato una sottosuccessione \(f_{n_k}\) che converge quasi
    ovunque a \(f\).
\end{proof}
\begin{example}
    È importante evidenziare che la convergenza in misura non implica la
    convergenza quasi ovunque, ma solo la convergenza di una sottosuccessione,
    ad esempio se \(\Omega = [0, 1]\) e prendiamo
\begin{align*}
    f_{1} &= \rchi_{[0, 1]} \\ \quad f_{2} &= \rchi_{[0, \frac{1}{2}]}, \quad f_{3} =
    \rchi_{[\frac{1}{2}, 1]} \\
    f_{4} &= \rchi_{[0, \frac{1}{3}]}, \quad f_{5} = \rchi_{[\frac{1}{3},
    \frac{2}{3}]}, \quad f_{6} = \rchi_{[\frac{2}{3}, 1]} \\ 
    f_{7} &= \rchi_{[0, \frac{1}{4}]}, \quad f_{8} = \rchi_{[\frac{1}{4},
    \frac{2}{4}]}, \quad f_{9} = \rchi_{[\frac{2}{4}, \frac{3}{4}]}, \quad
    f_{10} = \rchi_{[\frac{3}{4}, 1]}   \\
          &\vdots
\end{align*}
    Allora \(f_{n} \to 0\) in misura, infatti 
    \[
        \mu{\{ x \in [0,1] : |f_{n}{(x)}| > \varepsilon\}} \to 0 \quad \text{per
        \(n\to \infty\)}
    \]
    ma non c'è convergenza quasi ovunque, infatti fissato \(x \in [0,1]\), la
    successione numerica \(f_{n}{(x)}\) non ha limite, perché purché assuma
    principalmente il valore 0, ogni tanto assume il valore 1, e per ogni \(n\)
    esiste un \(\overline{n} \ge  n\) tale che \(f_{\overline{n}} {(x)} = 1 \),
    per cui non può esistere il limite. Poiché questo è vero per ogni \(x \in
    [0,1]\), non c'è convergenza puntuale in nessun sottoinsieme.
\end{example}
\begin{eser}
    Sia
    \[
        f_{n}(x) = \frac{2 n \sqrt[3]{x} + 3}{1 + {(nx)}^2} \quad x \in \mathbb{R}
    \]
    studiare:
\begin{enumerate}[label = \alph*)]
    \item per \(n\) fissato la misurabilità e l'integrabilità di \(f_{n}\)
        \[
            f_{n} \sim c_{n} \frac{\sqrt[3]{x}}{x^2} \sim c_{n}
            \frac{1}{x^{\frac{5}{3}}} \quad \text{ per } x \to \pm\infty
        \]
        Quindi \(f_{n}\) è integrabile su tutto \(\mathbb{R}\) in quanto
        \(\frac{5}{3} > 1\) 
    \item Dimostrare che \(|f_{n}(x)| \le \frac{5}{n}\) per ogni \(x\) con \(|x|
        \ge 1\) 
        \[
            |f_{n}(x)| \le \frac{2 n |x|^{\frac{1}{3} }+3}{1 + n^2x^2} \le
            \frac{\frac{2}{n}|x|^{\frac{1}{3}} + \frac{3}{n^2}}{\frac{1}{n^2} +
            x^2} \le \frac{2}{n} \frac{|x|^{\frac{1}{3}}}{x^2} +
            \frac{\frac{3}{n^2}}{1} \le \frac{2}{n}\cdot 1 + \frac{3}{n} =
            \frac{5}{n}
        \]
    \item \(f_{n}\) converge quasi ovunque in \(\mathbb{R}\)? E quasi
        uniformemente? E in misura?

        \(f_{n} \overset{\text{q.o.}}{\to} 0\). Infatti per \(x = 0\)
        \(f_{n}(0) \to 3\) mentre per \(x \neq 0\) abbiamo che \(f_{n}(x) \to
        0\).

        Il punto b) ci dice che \(f_{n}\) converge quasi uniformemente a 0 in
        \(\mathbb{R} \sminus (-1, 1)\).
        Ora possiamo considerare che in
        \((-1,1)\) \(f_{n} \to \) q.o., per cui per Severini-Egorov \(f_{n} \to
        0\) quasi uniformemente.
        Infine avendo convergenza q.u.~in \((-1,1)\) e convergenza
        q.u.~in \(\mathbb{R}\sminus (-1,1)\) allora abbiamo convergenza q.u.~in
         \(\mathbb{R}\). 
        Infine \(f_{n} \overset{\mu}{\to} 0\) in quanto la convergenza uniforme
        implica la convergenza in misura.
    \item C'è convergenza in \(L^{1}\)? Ossia è vero che
      \[
            \lim_{n \to \infty} \int_{\mathbb{R}} |f_{n} - 0| d\mu = 0 \quad ?
        \]
       \[
           \int_{\mathbb{R}} |f_{n}| d\mu \le  \int_{\mathbb{R}} \frac{2n
           |x|^{\frac{1}{3}}}{1 + n^2x^2} dx + \underbrace{\int_{\mathbb{R}}\frac{3}{1 +
       n^2x^2}dx}_{\le \frac{3}{1+x^2} \in L^{1}(\mathbb{R})\text{ per Lebesgue
       \(\to 0\) }}
       \] 
       Invece per il primo integrale operiamo la sostituzione \(nx = t\), \(ndx
       = dt\) 
       \[
           \frac{1}{\cancel{n}}\int_{\mathbb{R}} \frac{2\cancel{n}
           \sqrt[3]{\frac{t}{n}}}{1+t^2} dt = \frac{2}{\sqrt[3]{n}}
           \int_{\mathbb{R}} \frac{\sqrt[3]{t} }{1+t^2} dt \to 0 \text{ per
           $n\to \infty$}
       \]
       poiché l'integrale è finito.

\end{enumerate}
\end{eser}

\subsection{Teoremi di Fubini e Tonelli}
Vogliamo analizzare gli integrali multipli, per farlo consideriamo gli spazi
prodotto. L'insieme ambiente 
e la \(\sigma\)-algebra sono definiti in maniera naturale, mentre richiede qualche accortezza aggiuntiva
la definizione della misura prodotto. 

Siano \((X, \mathcal{M}, \mu)\) e \((Y, \mathcal{N}, \nu)\) spazi di misura
\(\sigma\)-finiti. Vogliamo costruire uno spazio di misura prodotto.
L'insieme ambiente è \(X \times Y\) e definiamo \(\mathcal{M} \times
\mathcal{N}\) come la \(\sigma\)-algebra generata da tutti gli insiemi del tipo
\(A \times B\), con \(A \in \mathcal{M}\) e \(B \in \mathcal{N}\). Si ha che
\((X \times Y, \mathcal{M} \times \mathcal{N})\) è uno spazio misurabile con una 
misura indotta da \(\mu\) e \(\nu\). A tale scopo introduciamo nuovi insiemi e
costruzioni.
Sia \(E \in \mathcal{M} \times \mathcal{N}\). Allora per ogni \((x,y) \in X
\times Y\) abbiamo i due insiemi  \(E_x := \{y \in Y : (x, y)
\in E\} \) e \(E_{y} := \{x \in X : (x, y) \in E\} \). Introduciamo una proposizione finalizzata alla 
definizione della misura prodotto: 
\begin{proposition}\label{prop:def_misura_prodotto}
    Per ogni \(x \in X\) si ha che \(E_x \in \mathcal{N}\) e per ogni \(y
    \in Y\) si ha che \(E_y \in \mathcal{M}\). Inoltre le funzioni \(x \mapsto
    \nu(E_x)\) e \(y \mapsto \mu(E_y)\) sono misurabili in \((X,
    \mathcal{M})\) e \((Y, \mathcal{N})\) rispettivamente. Si ha che
    \[
        \int_X \nu(E_x) d\mu = \int_Y \mu(E_y) d\nu =: (\mu \times \nu)(E)
    \]
\end{proposition}
Per la dimostrazione di questa proposizione si usano le \emph{famiglie
monotone} di misure.
\begin{definition}[Famiglia monotona]
Una collezione \(\mathcal{A}\) di sottoinsiemi di un
insieme ambiente \(\Omega\) si dice \emph{famiglia monotona} se per ogni
successione \(\{A_{n}\} \) crescente di insiemi in \(\mathcal{A}\) e per ogni
successione \(\{B_{n}\} \) decrescente di insiemi in \(\mathcal{A}\) si ha che
\[
    \bigcup_{n=1}^{\infty} A_{n} \in \mathcal{A} \quad \text{ e } \quad
    \bigcap_{n=1}^{\infty} B_{n} \in \mathcal{A}
\]
\end{definition}
Data una collezione \(\mathcal{F}\) di sottoinsiemi di \(\Omega\), si definisce
\(\nu(\mathcal{F})\) famiglia monotona generata da \(\mathcal{F}\) come la più
piccola famiglia monotona di insiemi contenente \(\mathcal{F}\) (attenzione al
bisticcio di simboli, qui \(\nu\) non c'entra nulla con la misura introdotta
poc'anzi). 
\begin{remark}
    Dato \(\mathcal{F}\), si possono definire \(\sigma(\mathcal{F})\) e
    \(\nu(\mathcal{F})\), con \(\sigma(\mathcal{F})\) che rappresenta la
    minima~\(\sigma\)-algebra contenente \(\mathcal{F}\).
\end{remark}

\begin{lemma}
    Se \(\mathcal{F}\) è un'algebra, allora \(\nu(\mathcal{F})\) è anche una
    \(\sigma\)-algebra e coincide con \(\sigma(\mathcal{F})\).
\end{lemma}
Possiamo ora utilizzare questo lemma perché \(\mathcal{M} \times \mathcal{N}\) è
anche la \(\sigma\)-algebra generata dalle unioni finite di insiemi
``rettangolari'', ossia del tipo \(A \times B\), con \(A \in \mathcal{M}\) e \(B
\in \mathcal{N}\), che formano un'algebra di insiemi.

Notiamo che
\begin{align*}
    {\left( \mu \times \nu \right)} (E) &= \int_{X} \nu(E_x) d\mu = \int_{Y}
    \mu(E_y) d\nu = \int_{X \times Y} \rchi_{E}(x, y) d(\mu \times \nu) \\
        &= \int_X {\left( \int_Y \rchi_E(x, y) d\nu\right)} d\mu = \int_Y
        {\left( \int_X \rchi_E(x, y) d\mu\right)} d\nu
\end{align*}
\begin{theorem}[Tonelli]
    Sia \(F\) una funzione misurabile in \((X \times Y, \mathcal{M} \times
    \mathcal{N})\) e non negativa. Allora
    \begin{itemize}
        \item \(F(x, y)\) è misurabile sia rispetto a \(x\) per q.o.~\(y\) che
            rispetto a \(y\) per q.o.~\(x\)
        \item La funzione \(\displaystyle x \mapsto \int_Y F(x,y) d\nu\) è
            misurabile in \((X, \mathcal{M})\).
        \item La funzione \(\displaystyle y \mapsto \int_X F(x,y) d\mu\) è
            misurabile in \((Y, \mathcal{N})\).
        \item Valgono le seguenti uguaglianze
            \[
                \int_{X \times Y} F d(\mu \times \nu) = \int_X \left( \int_Y
                    F(x,y) d\nu \right) d\mu = \int_Y \left( \int_X F(x,y) d\mu
                        \right) d\nu
            \]
            dove il secondo e il terzo integrale vengono chiamati
            \emph{integrali iterati}. In particolare se esiste finito uno degli
            integrali iterati, allora \(F \in L^{1}(X \times Y)\) e esiste
            finito anche l'altro integrale iterato.
    \end{itemize}
\end{theorem}
\begin{proof}
    Dimostriamo il teorema di Tonelli per funzioni semplici. Sia \(F = \sum_{i=1}^{n}
    c_{i} \rchi_{E_i}\). Allora, per quanto affermato sulla misura prodotto,
    \[
        \begin{aligned}
            \int_{X \times Y} F \, d(\mu \times \nu) 
            &= \sum_{i=1}^{n} c_{i} (\mu \times \nu )(E_i) \\
            &= \sum_{i=1}^{n} c_{i} \int_X \left( \int_Y \rchi_{E_{i}}(x, y) \, d\nu \right) d\mu \\
            &= \int_X \left( \int_Y F(x, y) \, d\nu \right) d\mu
        \end{aligned}
    \]

    Ora per passare da funzioni semplici a funzioni non negative, consideriamo
    una successione crescente di funzioni semplici \(F_{n} \nearrow F\). Allora
    per il teorema di Beppo Levi abbiamo che
    \[
        \int_{X \times Y} F d(\mu \times \nu) = \lim_{n \to \infty} \int_{X
        \times Y} F_{n} d(\mu \times \nu) = \lim_{n \to \infty} \int_X \left(
        \int_Y F_{n}(x,y) d\nu \right) d\mu
    \]
    Ora per il teorema di Beppo Levi abbiamo che
    \[
        \int_X \left( \int_Y F_{n}(x,y) d\nu \right) d\mu \to \int_X \left(
        \int_Y F(x,y) d\nu \right) d\mu
    \]
\end{proof}
\begin{remark}
    La non-negatività di \(F\) è essenziale per il teorema di Tonelli. Si
    consideri come esempio
    \[
    f(x, y) =
    \begin{cases} 
    \displaystyle \frac{xy}{{\left( x^2 + y^2 \right)}^2} & \text{se } (x, y) \neq (0, 0), \\[10pt]
    0 & \text{se } (x, y) = (0, 0).
    \end{cases}
    \]
    su \(\mathbb{R}^2\). Allora \(f\) è~\(\mathcal{L}\)-integrabile su \(\mathbb{R}\) rispetto a \(x\) e a \(y\), e l'integrale
    vale 0 per simmetria, in simboli:
    \[
        \int_{\mathbb{R}} \left( \int_{\mathbb{R}} f(x, y) dx \right) dy = 
        \int_{\mathbb{R}} \left( \int_{\mathbb{R}} f(x, y) dy \right) dx = 0 
    \]
    Eppure \(f\) non è \(\mathcal{L}\)-integrabile su \(\mathbb{R}^2\), infatti
    \[
        \int_{\mathbb{R}^2} |f(x, y)| d(x, y) = \int_{\mathbb{R}^2}\left| \frac{xy}{{\left(
        x^2 + y^2 \right)}^2} \right|d(x, y) = \int_{0}^{2\pi} \int_{0}^{+\infty}
        \frac{\cancel{r^2} |\cos \theta \sin \theta|}{r^{\cancel{4}}} \cancel{r}dr d\theta
    \]
    e rispetto a \(r\) viene l'integrale di \(\frac{1}{r}\) che non è
    integrabile né in un intorno di \(0\) né in un intorno di \(+\infty\).
\end{remark}
\begin{theorem}[Fubini]
    Sia \(F \in L^{1}(X \times Y)\). Allora 
\begin{itemize}
    \item per q.o.~\(x \in X\), \(F(x, \cdot ) \in L^{1}(Y)\) e per q.o.~\(y \in
        Y\), \(F(\cdot, y) \in L^{1}(X)\)
    \item La funzione \(\displaystyle x \mapsto \int_Y F(x, y) d\nu\) è
        integrabile su \(X\) e la funzione \(\displaystyle y \mapsto \int_X F(x,
        y) d\mu\) è integrabile su \(Y\)
    \item Valgono le seguenti uguaglianze
        \[
            \int_{X \times Y} F d(\mu \times \nu) = \int_X \left( \int_Y F(x,y)
                d\nu \right) d\mu = \int_Y \left( \int_X F(x,y) d\mu \right) d\nu
        \]
\end{itemize}
\end{theorem}
\begin{proof}
    Sia \(F = F^{+} - F^{-}\), e in particolare \(F^{+}, F^{-} \in L^{1}(X
    \times Y)\). Allora per il teorema di Tonelli abbiamo che
    \[
        \int_{X \times Y} F^{+} d(\mu \times \nu) = \int_X \left( \int_Y F^{+}(x,y)
        d\nu \right) d\mu
    \]
    e
    \[
        \int_{X \times Y} F^{-} d(\mu \times \nu) = \int_X \left( \int_Y F^{-}(x,y)
        d\nu \right) d\mu
    \]
    e infine per sottrazione e linearità dell'integrale deduciamo l'uguaglianza
    finale.
\end{proof}
\begin{eser}
    Si considerino in \(\mathbb{R}^2\) le funzioni del tipo \((x_{1}, x_{2})
    \mapsto |x|^{-\alpha}\), dove \(|x| = \sqrt{x_{1}^2 + x_{2}^2}\). Per quali
    \(\alpha\) queste funzioni sono integrabili in \(B_{1}(0)\)? E in
    \(\mathbb{R}^2 \sminus B_{1}(0)\)?
\end{eser}
\begin{definition}[Convoluzione]
    Siano due funzioni \(f, g : \mathbb{R}^{N} \to \mathbb{R}\). Allora la
    funzione
    \[
        (f \star g)(x) = \int_{\mathbb{R}^{N}} f(x-y) g(y) dy
    \]
    viene detto \textbf{prodotto di convoluzione} di \(f\) e \(g\).
\end{definition}
\begin{proposition}\label{prp:convoluzione_l1}
    Se \(f, g \in L^{1}(\mathbb{R}^{N})\) allora \(f \star g \in
    L^{1}(\mathbb{R}^{N})\) (ed è ben definita).
\end{proposition}
\begin{proof}
    Consideriamo la funzione \(F(x, y) = f(x-y) g(y)\), quindi
    \(|F(x-y)| = |f(x-y)||g(y)|\). Abbiamo che
    \[
\int_{\mathbb{R}^{N}}
        |f(x-y)||g(y)| dx = |g(y)| \int_{\mathbb{R}^{N}} |f(x-y)| dx = |g(y)|
        \int_{\mathbb{R}^{N}} |f| d\mu
    \]
    E abbiamo che
    \[
        \int_{\mathbb{R}^{N}} {\left( \int_{\mathbb{R}^{N}} |f(x-y)| |g(y)| dx
        \right)} dy = \int_{\mathbb{R}^{N}} |g(y)| \int_{\mathbb{R}^{N}} |f|
        d\mu dy = \int_{\mathbb{R}^{N}} |g| d\mu \int_{\mathbb{R}^{N}} |f| d\mu
    \]
    che è finito, quindi per il teorema di Tonelli abbiamo che
    \[
        \int_{\mathbb{R}^{N}} |F(x, y)| d\mu =
         \int_{\mathbb{R}^{N}}
        \int_{\mathbb{R}^{N}} |f(x-y)||g(y)| dy dx =
        \int_{\mathbb{R}^{N}}|f|d\mu \int_{\mathbb{R}^{N}} |g|d\mu < +\infty    
    \]
    Quindi ora sapendo che \(F \in L^{1}\), possiamo applicare il teorema di
    Fubini e ottenere che \(f \star g \in L^{1}\).
\end{proof}
\begin{eser}
    La precedente proprietà non è vera per il prodotto normale di funzioni,
    trovare un controesempio dove \(f, g \in L^{1}(\mathbb{R})\) ma \(f \cdot g
    \not\in L^{1}(\mathbb{R})\).
\end{eser}

\newpage
\subsection{Misure Relative}
In questo paragrafo si introduce il concetto di misura relativa, si dimostra il
teorema di decomposizione di Hahn e si introducono i concetti di misura
assolutamente continua e di misura singolare.
\begin{definition}[Misura Relativa]
Sia \((\Omega, \mathcal{M})\) uno spazio misurabile. \(\varphi: \mathcal{M} \to
\mathbb{R}\) si dice \textbf{misura relativa} se valgono le seguenti proprietà:
\begin{enumerate}[label = \arabic*.]
    \item \(\varphi(\varnothing) = 0\)  
    \item Se \(\{A_{n}\} \subseteq\mathcal{M} \) è una successioni di insiemi a
        due a due disgiunti, allora
        \[
            \varphi\left( \bigcup_{i \in \mathbb{N}} A_{i} \right) =
            \sum_{i=1}^{\infty} \varphi(A_{i}) 
        \]
\end{enumerate}
\end{definition}

Ora procediamo con alcune osservazioni sulle misure relative

\begin{enumerate}[label = \arabic*.]
    \item Le misure relative possono assumere valori negativi, ma sono sempre
        finite
    \item La serie \(\sum_{i=1}^{\infty} \varphi(A_{n})\) è una serie
        convergente come conseguenza della \\ \(\sigma\)-additività
    \item Le misure finite sono anche misure relative
    \item \emph{(\(\lnot\)monotonia)} Infatti se \(B \in \mathcal{M}\) tale che
        \(\varphi(B) < 0\) abbiamo che \(\varnothing \subseteq B \) ma \(0 >
        \varphi(B)\) 
    \item \emph{(sottrattività)} Per la stessa dimostrazione di prima vale
        ancora, quindi se \(A \subseteq B \) sono misurabili, allora abbiamo che
        \(\varphi(B \sminus A) = \varphi(B) - \varphi(A)\) 
    \item \emph{(\(\lnot\)subadditività)} Consideriamo lo spazio di misura
        relativa \((\mathbb{R}, \mathcal{B}(\mathbb{R}), \delta_1 + \delta_{-1}
        - \delta_0)\), che mostreremo più avanti che è una misura. Sia \(A =
        [-1, 0], B = [0, 1]\). Allora \(A \cap B = \{0\} \) e \(A \cup B = [-1,
        1]\).
        \[
            1 = 1 + 1 - 1 = \varphi(A \cup B) > \varphi(A) + \varphi(B) = (1 -
            1) + (-1 + 1) = 0
        \]
    \item \emph{(continuità)} La dimostrazione del
        teorema~\ref{thm:cont_misura}, parte 1,
        non usava la positività né la monotonia, né la subadditività, ma solo
        \(\sigma\)-additività, ossia abbiamo che
        se \(A_{n}\) è una successione crescente di insiemi misurabili,
        \[
            \lim_{n \to \infty} \varphi(A_{n}) = \varphi\left( \bigcup_{n \in
            \mathbb{N}} A_{n} \right) 
        \]
        Per quanto riguarda le successioni decrescenti la dimostrazione del
        teorema~\ref{thm:cont_misura} usava solo \(\sigma\)-additività e
        sottrattività, quindi abbiamo anche che se \(A_{n}\) è una successione
        decrescente di insiemi misurabili,
        \[
            \lim_{n \to \infty} \varphi(A_{n}) = \varphi \left( \bigcap_{n \in
            \mathbb{N}} A_{n} \right)
        \] 
        notare che non necessitiamo di aggiungere l'ipotesi \(\varphi(A_{1}) <
        +\infty\) 
\end{enumerate}
\begin{example}
    La misura \(\delta_O\) di Dirac è una misura finita quindi è una misura
    relativa, mentre la misura del contare e la misura di Lebesgue non sono
    misure relative, perché \(\# \mathbb{N} = +\infty\) e \(\mu(\mathbb{R}) =
    +\infty\).
\end{example}
\begin{proposition}
    Se \(\varphi_{1}, \varphi_{2}: \mathcal{M} \to  [0, +\infty]\) sono misure
    finite su \((\Omega, \mathcal{M})\), allora 
    \begin{align*}
        \varphi_+ := \varphi_{1} + \varphi_{2}: \mathcal{M} &\longrightarrow \mathbb{R} \\
        E &\longmapsto (\varphi_{1} + \varphi_{2})(E) = \varphi_{1}(E) +
        \varphi_{2}(E)
    \end{align*}
    è una misura finita (e quindi relativa).
    \begin{align*}
        \varphi_- := \varphi_{1} - \varphi_{2}: \mathcal{M} &\longrightarrow \mathbb{R} \\
        E &\longmapsto (\varphi_{1} - \varphi_{2})(E) = \varphi_{1}(E) -
        \varphi_{2}(E)
    \end{align*}
    è una misura relativa
\end{proposition}
\begin{proof} \(\) 
La prima parte, \(\varphi_+\) misura finita, è ovvia. Procediamo con la seconda.

\begin{enumerate}[label = \arabic*.]
    \item \((\varphi_{1} - \varphi_{2})(E) = \varphi_{1}(E) - \varphi_{2}(E) \in
        \mathbb{R}\) per ogni \(E \in \mathcal{M}\) 
    \item \((\varphi_{1}-\varphi_{2})(\varnothing) = \varphi_{1}(\varnothing) -
        \varphi_{2}(\varnothing) = 0\)
    \item Sia \(\{A_{n}\} \) una successione di insiemi disgiunti. Allora
        \begin{align*}
            (\varphi_{1}-\varphi_{2})\left( \bigcup_{n \in \mathbb{N}} A_{n}
            \right) &= \varphi_{1}\left( \bigcup_{n \in \mathbb{N}} A_{n} \right)
            - \varphi_{2}\left( \bigcup_{n \in \mathbb{N}} A_{n}  \right) = \\
                    &= \sum_{i=1}^{\infty} \varphi_{1}(A_{i}) - \varphi_{2}(A_{i})
        \end{align*}
\end{enumerate}
\end{proof}

\begin{proposition}[Generazione di misure relative]\label{prop:gen_mis_rel}
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura e sia \(f : \Omega
    \to \mathbb{R}\) una funzione, \(f \in L^{1}\). Allora
    \begin{align*}
        \varphi : \mathcal{M} &\longrightarrow \mathbb{R} \\
        E &\longmapsto \varphi (E) = \int_E f d\mu
    \end{align*}
    è una misura relativa
\end{proposition}
\begin{proof} \(\) 
\begin{enumerate}[label = \arabic*.]
    \item \(\varphi(E) \in \mathbb{R}\) poiché \(f \in L^{1}\) 
    \item \(\varphi(\varnothing) = \int_\varnothing f d\mu = 0\)
    \item Sia \(\{E_{n}\} \) una successione disgiunta di insiemi misurabili.
        Allora
        \[
            \varphi\left( \bigcup_{n \in \mathbb{N}} E_{n} \right) =
            \int_{\bigcup_{n \in \mathbb{N}} E_{n} } f d\mu =
            \sum_{n=1}^{\infty} \int_{E_{n}} f d \mu =
            \sum_{n=1}^{\infty} \varphi(E_{n}) 
        \]
\end{enumerate}
\end{proof}

\begin{definition}[Insiemi positivi e negativi]
    Sia \((\Omega, \mathcal{M})\) uno spazio misurabile e sia \(\varphi:
    \mathcal{M} \to  \mathbb{R}\) una misura relativa. Allora 
\begin{itemize}[label = --]
    \item diciamo che \(P \in \mathcal{M}\) è positivo per \(\varphi\) se 
        \[
            \forall E \in \mathcal{M}, \quad E \subseteq P, \quad \varphi(E) \ge
            0
        \]
    \item diciamo che \(N \subseteq \mathcal{M} \) è negativo per \(\varphi\) se 
        \[
            \forall E \in \mathcal{M}, \quad E \subseteq N, \quad \varphi(E) \le
            0
        \]
\end{itemize}
\end{definition}
\begin{remark}
    \(\varnothing\) è sia positivo che negativo per ogni misura relativa.
\end{remark}
\begin{remark}
    Non è da confondere il concetto di insieme a misura positiva/negativa
    con quello di insieme positivo/negativo.
\end{remark}
\begin{theorem}[Teorema di decomposizione di Hahn]
    Sia \((\Omega, \mathcal{M})\) uno spazio misurabile e \(\varphi : \mathcal{M
    \to \mathbb{R}}\) una misura relativa. Allora esistono due insiemi \(A, B
    \in \mathcal{M}\) tali che \(A \cup B = \Omega\), \(A \cap B =
    \varnothing\), \(A\) è positivo e \(B\) è negativo.
\end{theorem}
\begin{remark}
    La decomposizione di Hahn \textbf{non} è unica. Consideriamo \((\mathbb{R},
    \mathcal{B}(\mathbb{R}), \delta_{0} - \delta_{1})\). Allora \((A,
    B) = (\{0\}, \mathbb{R} \sminus \{0\} )\) è una buona decomposizione di
    Hahn, ma anche \((A, B) = (\mathbb{R} \sminus \{1\}, \{1\} )\) lo è. In
    generale basta prendere \(1 \not\in A \ni 0\) e \(B = A^C\).
\end{remark}
Si dimostrano due lemmi strumentali alla dimostrazione del teorema di decomposizione di Hahn.
\begin{lemma}
    Sia \((\Omega, \mathcal{M})\) uno spazio misurabile e \(\varphi :
    \mathcal{M} \to \mathbb{R}\) una misura relativa. Allora se esiste \(A \in
    \mathcal{M}\) tale che \(\varphi(A) > 0\) allora esiste \(P \subseteq A \),
    con \(P \in \mathcal{M}\) tale che \(P\) è positivo per \(\varphi\) e
    \(\varphi(P)>0\).
\end{lemma}
\begin{proof}
    Il caso in cui \(A\) sia positivo è banale, supponiamo quindi che \(A\) non sia
    positivo. Esiste dunque un sottoinsieme di \(A\) con misura negativa. Sia
    \[
        n_{1} := \min \left\{n \in \mathbb{N} : \exists A' \in \mathcal{M}, \quad A'
        \subseteq A, \quad \varphi(A') < - \frac{1}{n} \right\} 
    \]
    quindi \(A_{1} \subseteq A \), \(A_{1} \in \mathcal{M}\), è tale
    che \(\varphi(A_{1}) < -\frac{1}{n_{1}}\).

    Se \(A\sminus A_{1}\) è positivo abbiamo concluso, infatti \(\varphi(A \sminus
    A_{1}) = \varphi(A) - \varphi(A_{1}) > \varphi(A)>0\), supponiamo quindi che
    \(A \sminus A_{1}\) non sia positivo e ripetiamo il procedimento.
    \[
        n_{2} := \min \left\{n \in \mathbb{N}: \exists A' \in \mathcal{M}, \quad A'
        \subseteq A \sminus A_{1}, \quad \varphi(A') < -\frac{1}{n} \right\} 
    \]
    quindi \(A_{2} \in \mathcal{M}\), \(A_{2} \subseteq A - A_{1} \) e
    \(\varphi(A_{2}) < -\frac{1}{n_{2}}\).

    Ora se \(A \sminus (A_{1} \cup A_{2})\) è positivo concludiamo, altrimenti
    ripetiamo.
    Se esiste un \(N \in \mathbb{N}\) tale che \(A \sminus (\bigcup_{i=1}^{N}
    A_{i} )\) è positivo abbiamo concluso, infatti
    \[
        \varphi\left(A \sminus \bigcup_{i=1}^{N} A_{i}\right) = \varphi(A) - \sum_{i=1}^{N}
        \varphi(A_{i}) > \varphi(A) + \sum_{i=1}^{N} \frac{1}{n_{i}} > 0
    \]
    Supponiamo quindi che non esista un tale \(N\). Otteniamo una successione
    \(\{A_k\} \) di insiemi \(A_k \in \mathcal{M}\) con:
    \begin{align*}
        A_{i} \cap A_{j} &= \varnothing \quad \forall i \neq j, \quad
        \varphi(A_k) < -\frac{1}{n_{k}} \quad \forall k \in \mathbb{N} \\
        n_k &:= \min \{n \in \mathbb{N}: \exists A' \in \mathcal{M}, \quad A'
        \subseteq A - \left( \bigcup_{i=1}^{k-1} A_{i}  \right), \quad
    \varphi(A') < -\frac{1}{n} \} 
    \end{align*}
    
    Allora affermiamo che \(P = A \sminus \left( \bigcup_{k \in \mathbb{N}} A_K
    \right) \in \mathcal{M}\) sia positivo e abbia misura positiva.
    \[
        \varphi(P) = \varphi(A) - \sum_{k=1}^{\infty} \varphi(A_{k}) >
        \varphi(A) > 0
    \]
    Ci rimane da verificare che \(P\) sia positivo. Supponiamo per assurdo che
    esista un \(E \in \mathcal{M}\) tale che \(E \subseteq P \) e \(\varphi(E) <
    -\varepsilon\). Abbiamo che
    \[
        \mathbb{R} \ni \varphi(P) = \varphi(A) + \sum_{i=1}^{\infty}
        \frac{1}{n_{i}} 
    \]
    quindi la serie è convergente, per cui \(\lim_{k \to \infty} \frac{1}{n_k} =
    0\) e quindi esiste un \(\overline{k} \in \mathbb{N}\) tale che 
    \[
        \frac{1}{n_{\overline{k} - 1}} < \varepsilon \implies \varphi(E) <
        -\varepsilon < -\frac{1}{n_{\overline{k} - 1}}
    \]
    ma si era supposto che fosse 
    \[
        E \subseteq A \sminus \left( \bigcup_{k \in \mathbb{N}} A_k \right)
        \subseteq A \sminus \left( \bigcup_{k=1}^{\overline{k}-1} A_k \right)  
    \]
    che è assurdo poiché in uno dei passi successivi \(E\) dovrebbe venir
    ``eliminato'' (un certo termine non si può ripetere all'infinito perché la
    serie \(\sum_{i=1}^{\infty} \frac{1}{n_{i}}\) converge).
\end{proof}
\begin{lemma}
    Sia \((\Omega, \mathcal{M})\) con misura relativa \(\varphi : \mathcal{M}
    \to \mathbb{R}\) e sia \(\{P_k\} \) una successione di insiemi positivi.
    Allora 
    \[
        \bigcup_{k \in \mathbb{N}} P_k \text{ è positivo}
    \]
\end{lemma}
\begin{proof}
    Costruiamo la successione \({\tilde{P}_k}\), dove \(\tilde{P}_1 = P_{1}\),
    \(\tilde{P}_2 = P_{2} \sminus P_{1}\) e in generale
    \[
        \tilde{P}_{k+1}  = P_{k+1} \sminus \left( \bigcup_{i=1}^{k} P_{i}
            \right)
    \]
    Abbiamo che \(\tilde{P}_{k} \subseteq P_{k}\) e quindi \(\tilde{P}_{k}\) è
    positivo. Inoltre per ogni \(i \neq j\) abbiamo che \(\tilde{P}_{i} \cap
    \tilde{P}_{j} = \varnothing\). Infine l'unione dei \(\tilde{P}_{k}\) è
    uguale all'unione dei \(P_{k}\), ossia
    \[
        \bigcup_{k \in \mathbb{N}} P_k = \bigcup_{k \in \mathbb{N}} \tilde{P}_k 
    \]
    Sia \(E \in \mathcal{M}\) con \(E \subseteq \bigcup_{k \in \mathbb{N}} P_k\).
    Allora
    \[
        \varphi(E) = \varphi\left(E \cap \bigcup_{k \in \mathbb{N}} \tilde{P}_k
        \right) = \varphi\left( \bigcup_{k \in \mathbb{N}} \left( E \cap
        \tilde{P}_k \right)   \right) = \sum_{k=1}^{\infty}
        \varphi(\underbrace{E \cap
        \tilde{P}_k}_{\subseteq \tilde{P}_k })  > 0
    \]
\end{proof}
\begin{proof}[Dimostrazione del teorema di decomposizione di Hahn]
    Sia
    \[
        p := \sup \{ \varphi(P) : P \in \mathcal{M}, \quad P \text{ positivo}\} 
    \]
    dove il \(\sup\) è ben definito perché l'insieme è non vuoto in quanto contiene \(\varphi(\varnothing) = 0\). Si consideri
    una successione \(\{A_{n}\}_{n \in \mathbb{N}} \) di \(A_{n}\) positivi
    tale che \(\lim_{n \to \infty} \varphi(A_{n}) = p\). Si definisca \(A := \bigcup_{n \in
    \mathbb{N}} A_{n}\), allora \(A \in \mathcal{M}\) e \(A\) è positivo per il
    lemma precedente. Per definizione di \(p\) abbiamo che \(\varphi(A) \le p\). Inoltre
    \[
        \varphi(A) = \varphi((A \sminus A_{n}) \cup A_{n}) = \varphi(A \sminus
        A_{n}) + \varphi(A_{n}) \ge \varphi(A_{n}), \quad \forall n \in \mathbb{N}
    \]
    e quindi \(\varphi(A) \ge \lim_{n \to \infty} \varphi(A_{n}) =  p\). Abbiamo
    quindi che \(\varphi(A) = p\).

    Ora prendiamo \(B = \Omega \sminus A \implies A \cap B = \varnothing\) e \(A
    \cup B = \Omega\). Vogliamo mostrare che \(B\) è negativo. Assumiamo per
    assurdo che non lo sia, ossia che ammetta un certo sottoinsieme di misura positiva. 
    Per il primo lemma questo ammette un sottoinsieme positivo, e quindi esiste un insieme positivo \(P \subseteq B \) con \(P
    \in \mathcal{M}\). Ma allora \(A \cup P\) è positivo e 
    \[
        \varphi(A \cup P) = \varphi(A) + \varphi(P) = p + \varphi(P) > p
    \]
    che è assurdo per la massimalità di \(p\). Dunque \(B\) non ammette sottoinsiemi
    di misura positiva ed è quindi negativo.
\end{proof}
\begin{theorem}[Invarianza della decomposizione di Hahn]
    Sia \((\Omega, \mathcal{M})\) uno spazio di misura con \(\varphi :
    \mathcal{M} \to \mathbb{R}\) una misura relativa. Siano \((A, B)\) e \((A',
    B')\) due decomposizioni di Hahn di \(\Omega\) rispetto a \(\varphi\).
    Allora \(\forall E \in \mathcal{M}\) si ha che 
    \[
        \varphi(A \cap E) = \varphi(A' \cap E) \quad \text{ e } \quad \varphi(B
        \cap E) = \varphi(B' \cap E)
    \]
\end{theorem}
\begin{proof}
\begin{figure}[ht]
    \centering
    \incfig{diminvaranza}\label{fig:diminvaranza}
\end{figure}
Partiamo dalla prima:
\[
    \varphi(A \cap E) = \varphi(A \cap A' \cap E) + \varphi((A \sminus A') \cap E)
\]
ma allora poiché \((A \sminus A') \cap E \subseteq A \cap B'\) abbiamo che ha
misura necessariamente \(0\) da cui \(\varphi(A \cap E) = \varphi(A \cap A' \cap
E)\). Analogamente si dimostra che \(\varphi(A' \cap E) = \varphi(A \cap A \cap
E)\) da cui la tesi. Similmente si dimostra l'altra eguaglianza.
\end{proof}

\begin{definition}[Variazione superiore, inferiore, totale]
    Sia \((\Omega, \mathcal{M})\) uno spazio di misura e \(\varphi : \mathcal{M}
    \to \mathbb{R}\) una misura relativa. Sia \((A, B)\) una decomposizione di
    \(Hahn\). Allora
\begin{itemize}[label = --]
    \item \(\varphi^{+}\), definita con \(\varphi^{+}(E) = \varphi(A \cap E)\) è
        detta \textbf{variazione superiore}
    \item \(\varphi^{-}\), definita con \(\varphi^{-}(E) = -\varphi(B \cap E)\)
        è detta \textbf{variazione inferiore}
    \item \(|\varphi| = \varphi^{+} + \varphi^{-}\) è detta \textbf{variazione totale}
\end{itemize}
\end{definition}
\begin{remark}
    La precedente è una buona definizione per il teorema di invarianza della
    decomposizione di Hahn.
\end{remark}
\begin{example}
    Consideriamo \((\mathbb{R}, \mathcal{M}, \mu)\) con la misura di Lebesgue, e
    sia \(f \in L^{1}\). Allora \(\varphi(E) = \int_E f d\mu\) è una misura
    relativa. Consideriamo la decomposizione di Hahn \((A, B) = (\{ f \ge 0, f
    \le 0\})\). Allora
    \[
        \varphi^{+}(E) = \int_{E} f^{+} d\mu, \quad 
        \varphi^{-}(E) = -\int_{E} f^{-} d\mu, \quad 
        |\varphi|(E) = \int_{E} |f| d\mu
    \]
\end{example}
\begin{eser}
    Come sono fatte le variazioni inferiori e totali della misura relativa data
    da somme di misure di Dirac?
\end{eser}

\begin{theorem}\label{thm:misure-relative-osservazioni}
    Sia \((\Omega, \mathcal{M})\) uno spazio di misura con \(\varphi:
    \mathcal{M} \to \mathbb{R}\) una misura relativa. Allora 
\begin{enumerate}[label = \arabic*)]
    \item \(\varphi^{+}, \varphi^{-}, |\varphi|\) sono misure finite (positive)
    \item \(\forall E \in \mathcal{M}\) abbiamo che 
        \(
            \varphi(E) = \varphi^{+}(E) - \varphi^{-}(E)
        \)
        e 
        \(
            |\varphi(E)| \le |\varphi|(E)
       \)
\end{enumerate}
\end{theorem}
\begin{proof}
\begin{enumerate}[label = \arabic*.]
    \item \(\forall E \in \mathcal{M}\), tutte le \(\varphi^{+}(E), \varphi^{-}(E),
        |\varphi|(E) \in [0, +\infty)\). Inoltre \(\varphi^{+}(\varnothing) =
        \varphi^{-}(\varnothing) = |\varphi|(\varnothing) = 0\).
    \item \(\varphi(E) = \varphi((E \cap A) \cup (E \cap B)) = \varphi(E \cap A)
        + \varphi(E \cap B) = \varphi^{+}(E) - \varphi^{-}(E)\) e \(|\varphi(E)|
        = |\varphi^{+}(E) - \varphi^{-}(E)| \le \varphi^{+}(E) + \varphi^{-}(E)
        = |\varphi|(E)\) 
\end{enumerate}
\end{proof}

\begin{definition}[\(\mu\)-Assoluta continuità]
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura. Sia \(\varphi\) una
    misura (o misura relativa) su \((\Omega, \mathcal{M})\). Allora \(\varphi\)
    si dice \(\mu\)-\textbf{assolutamente continua} (denotato \(\mu\)-a.c.) se
    vale 
    \[
        \mu(E) = 0 \implies \varphi(E) = 0, \quad \forall E \in \mathcal{M}
    \]
\end{definition}
\begin{example}
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura. Sia \(f \in
    L^{1}(\Omega)\), con \(\varphi(E) = \int_E f d\mu\) misura relativa. Allora
    \(\varphi\) è \(\mu\)-assolutamente continua. Infatti preso un insieme \(E \in
    \mathcal{M}\) tale che \(\mu(E) = 0\) abbiamo che \(\varphi(E) = 0\) perché
    integra su un insieme trascurabile.
\end{example}
\begin{example}
    Sia \((\mathbb{R}, \mathcal{L}(\mathbb{R}))\) lo spazio misurabile di
    Lebesgue. Consideriamo su tale spazio due misure: \(\delta_O\)
    di Dirac centrata in \(x=0\) e \(\lambda\) la misura di Lebesgue
    1-dimensionale. 

    Allora \(\delta_0\) non è \(\lambda\)-assolutamente continua, infatti, per \(E =\{0\} \)
    si ha \(\lambda(E) = 0\) ma \(\delta_0(E) = 1\). 

    Similmente \(\lambda\) non è \(\delta_0\)-assolutamente continua, infatti preso
    \(E = (1, 2)\) abbiamo che \(\delta_0(E) = 0\) ma \(\lambda(E) = 1\).
\end{example}
\begin{example}
    Ora sempre su \((\mathbb{R}, \mathcal{L}(\mathbb{R}))\) consideriamo la
    misura \(\lambda_{\star} : \mathcal{L}(\mathbb{R}) \to
    \mathbb{R}\) che mappa \(E \mapsto \lambda(E \cap [0, 1])\). Si verifica facilmente che \(\lambda_\star\) è una misura (finita).

    Allora \(\lambda_\star\) è \(\lambda\)-assolutamente continua, infatti preso \(E\) trascurabile per \(\mathcal{L}^{1}\) abbiamo
    che \(E \cap [0, 1] \subseteq E \) quindi anche \(\lambda_{\star}(E)
    = \lambda(E \cap [0,1]) \le \lambda(E) = 0\).

    \(\lambda\) non è tuttavia \(\lambda_\star\)-assolutamente
    continua, infatti preso \(E = (1, 2)\) abbiamo che \(\lambda(E) =
    1\) ma \(\lambda_\star(E) = \lambda(\varnothing)= 0\).
\end{example}
\begin{proposition}\label{prop:equivalenti_ac}
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura. Sia \(\varphi\) una
    misura relativa su \((\Omega, \mathcal{M})\). Allora sono equivalenti:
\begin{enumerate}[label = \roman*)]
    \item \(\varphi\) è \(\mu\)-assolutamente continua
    \item \(\varphi^{+}, \varphi^{-}\) sono \(\mu\)-assolutamente continue
    \item \(|\varphi|\) è \(\mu\)-assolutamente continua
\end{enumerate}
\end{proposition}
\begin{proof}
    \(\text{i)} \implies \text{ii)}\). Sia \((A, B)\) una decomposizione di Hahn
    di \(\Omega\) per \(\varphi \). Supponiamo che \(\varphi\) sia
    \(\mu\)-assolutamente continua. Sia \(E \in \mathcal{M}\) tale che
    \(\mu(E) = 0\) e quindi anche \(\mu(E \cap A) = 0\) e \(\mu(E \cap B) = 0\).
    Quindi per \(\mu\)-a.c.~\(\varphi^{+}(E) =
    \varphi(E \cap A) = 0\) e similmente \(\varphi^{-}(E) = -\varphi(E \cap B) = 0\).

    \(\text{ii)} \implies \text{iii)}\). Supponiamo che \(\varphi^{+}\) e
    \(\varphi^{-}\) siano \(\mu\)-assolutamente continue. Sia \(E \in \mathcal{M}\)
    tale che \(\mu(E) = 0\). Allora \(\varphi^{+}(E) = 0\) e \(\varphi^{-}(E) =
    0\), ma allora \(|\varphi|(E) = \varphi^{+}(E) + \varphi^{-}(E) = 0\).

    \(\text{iii)} \implies \text{i)}\). Supponiamo che \(|\varphi|\) sia
    \(\mu\)-assolutamente continua. Sia \(E \in \mathcal{M}\) tale che \(\mu(E) =
    0\). Allora, per la parte 2 del
    teorema~\ref{thm:misure-relative-osservazioni}, \(|\varphi (E)| \le |\varphi
    |(E) = 0\), quindi \(\varphi (E) = 0\) 
\end{proof}

\begin{proposition}
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura e sia \(\varphi \)
    una misura relativa su \((\Omega, \mathcal{M})\). Se \(\varphi \) è
    \(\mu\)-a.c.~allora 
    \[
        \forall \varepsilon>0 \quad \exists \delta >0 \text{ t.c. } \forall E
        \in \mathcal{M} \quad \mu(E) <\delta \implies |\varphi |(E) < \varepsilon
    \]
\end{proposition}
\begin{proof}
    Procediamo per assurdo. Supponiamo quindi che valendo le ipotesi si abbia
    \[
        \exists \varepsilon >0 \quad \forall n \in \mathbb{N} \quad \exists E_{n} \in
        \mathcal{M} \quad \mu(E_n) < \frac{1}{2^{n}} \text{ ma } |\varphi|(E_n) \ge
        \varepsilon
    \]
    Sia 
    \[
        E := \bigcap_{n=1}^{\infty} \bigcup_{k=n}^{\infty} E_k \in \mathcal{M} 
    \]
    Dove la successione interna all'intersezione è una successione decrescente.
    Inoltre abbiamo che \(\mu{\left( \bigcup_{k=1}^{\infty}E_k  \right)}\le
    \sum_{k=1}^{\infty} \mu(E_k) < \sum_{k=1}^{\infty} \frac{1}{2^{k}} = 1\) che è
    finito, e quindi si può usare la continuità della misura:
    \[
        \mu(E) = \lim_{n \to \infty} \mu\left( \bigcup_{k=n}^{\infty} E_k
        \right) \le \lim_{n \to \infty} \sum_{k=n}^{\infty} \mu(E_k) < \lim_{n
        \to \infty} \sum_{k=n}^{\infty} \frac{1}{2^{k}} = 0 
    \]
    dove l'ultima uguaglianza è giustificata dal fatto che la serie geometrica
    converge. 

    Ora per concludere vogliamo mostrare che \(\varphi (E) \neq 0\) mostrando
    quindi che \(\varphi \) non è \(\mu\)-a.c. Sappiamo che \(|\varphi |\) è una
    misura finita. Allora per continuità abbiamo
    \[
        |\varphi |(E) = \lim_{n \to \infty} |\varphi |{\left(
        \bigcup_{k=n}^{\infty}E_k  \right)} \overset{\text{monotonia}}{\ge}
        \lim_{n \to \infty} |\varphi |(E_n) \ge \varepsilon >0
    \]
    ora per la proposizione precedente anche \(\varphi \) non è \(\mu\)-a.c.,
    ottenendo la contraddizione desiderata.
\end{proof}
\begin{corollary}
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura e sia \(f \in
    L^{1}(\Omega, \mathcal{M}, \mu)\). Allora 
    \[
        \forall \varepsilon > 0 \quad \exists \delta > 0 \text{ t.c. } \forall E
        \in \mathcal{M} \quad \mu(E) < \delta \implies \left|\int_{E} f
        d\mu\right| < \varepsilon
    \]
\end{corollary}
\begin{proof}
    Data \(f \in L^{1}\) possiamo associarle la misura relativa \(\varphi(E) =
    \int f d\mu\) che è \(\mu\)-a.c. Per la proposizione precedente sappiamo che
    \[
        \forall \varepsilon > 0 \quad \exists \delta > 0 \text{ t.c. } \forall E
        \in \mathcal{M} \quad \mu(E) < \delta \implies |\varphi|(E) = <
        \varepsilon
    \]
    Il corollario segue semplicemente da \( \left| \int_E f d\mu\right| =
    |\varphi(E)| \le |\varphi |(E) \) 
\end{proof}
\begin{definition}[Misura singolare]
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura e sia \(\varphi\)
    una misura o misura relativa su \((\Omega, \mathcal{M})\). Allora
    \(\varphi\) è \textbf{\(\mu\)-singolare} se esistono \(A, B \in
    \mathcal{M}\) tali che 
\begin{itemize}[label = --]
    \item \(A \cup B = \Omega\) e \(A \cap B = \varnothing\) 
    \item \(\mu(A) = 0\) e \(|\varphi |(B) = 0\) 
\end{itemize}
\end{definition}
\begin{remark}
    Se abbiamo \(\mu, \varphi \) misure su \((\Omega, \mathcal{M})\) allora
    \(\varphi \) è \(\mu\)-singolare se e solo se \(\mu\) è
    \(\varphi \)-singolare (si dice che \(\mu\) e \(\varphi\) sono mutuamente singolari).

    Infatti se \(\varphi \) è \(\mu\)-singolare allora esistono \(A, B \in
    \mathcal{M}\), con \(A\cup B =\Omega\) e \(A \cap B = \varnothing\)  tali
    che \(\mu(A) = 0\) e \(\varphi(B) = 0\). Allora chiaramente ``scambiando''
    \(A\) e \(B\) si ottiene che \(\mu\) è \(\varphi\)-singolare.
\end{remark}
\begin{proposition}
    Sia \(\varphi \) una misura o misura relativa su \((\Omega, \mathcal{M})\)
    e sia \(\mu\) una misura su \((\Omega, \mathcal{M})\). Se \(\varphi \) è
    \(\mu\)-assolutamente continua e \(\mu\)-singolare allora \(\varphi = 0\).
\end{proposition}
\begin{proof}
    Sia \(\varphi\) \(\mu\)-assolutamente continua e \(\mu\)-singolare. Per \(\mu\)-singolarità prendiamo
    la decomposizione di \(\Omega\) in \((A, B)\), dove:
    \[\mu(A) = 0 \quad \text{e} \quad
    |\varphi|(B) = 0\]
    Sia \(E \in \mathcal{M}\). Vogliamo mostrare che \(\varphi(E) = 0\). Per additività della misura relativa si ha:
    \[\varphi(E) = \varphi(E \cap A) + \varphi(E \cap B).\]
    Si mostra che entrambi i termini sono nulli. 
    \begin{itemize}[label = --]
        \item  \(\mu (E \cap A) \le \mu(A) \stackrel{\text{def di } A}{=} 0
            \stackrel{\mu-\text{a.c.}}{\implies} \varphi(E \cap A) = 0\); \item
            \(|\varphi (E \cap B)| \le |\varphi|(E \cap B) \le |\varphi| (B)
            \stackrel{\text{def di } B}{=} 0 \implies \varphi(E \cap B)=0\).
    \end{itemize} Pertanto, si conclude che \(\varphi(E) = 0\), che completa la
    dimostrazione.
\end{proof}
\begin{example}
    Sia \((\mathbb{R}, \mathcal{L}(\mathbb{R}), \mu)\) lo spazio di misura di
    Lebesgue e sia \(\delta_0\) la misura di Dirac in \(x=0\). Allora
    \(\delta_0\) è \(\mu\)-singolare. Infatti preso \(A = \{0\} \) e
    \(B=\mathbb{R}-\{0\} \) si ha che \(A \cap B = \mathbb{R}\), \(A \cap B =
    \varnothing\), \(\mu(A) = 0\) e \(\delta_0(B) = 0\).
    Inoltre \(\mu\) è \(\delta_0\)-singolare, per l'osservazione precedente
    ossia con \((A, B) = (B, A)\) 
\end{example}
\begin{proposition}\label{prop:equivalenti_sing}
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura e sia \(\varphi \)
    una misura relativa su \((\Omega, \mathcal{M})\). Allora sono equivalenti:
    \begin{enumerate}[label = \roman*)]
        \item \(\varphi \) è \(\mu\)-singolare
        \item \(\varphi^{+}, \varphi^{-}\) sono \(\mu\)-singolari
        \item \(|\varphi|\) è \(\mu\)-singolare
    \end{enumerate}
\end{proposition}
\begin{proof}
    \(\text{i)} \implies \text{ii)}\) Sia \(A, B\) partizione per la
    \(\mu\)-singolarità di \(\varphi \). Allora \(\mu(A) = 0\) e \(|\varphi|(B)
    = 0\). Allora \(|\varphi ^{+}|(B) = \varphi ^{+}(B) \le |\varphi |(B) = 0\)
    e similmente per \(\varphi^{-}\). Ne consegue che \(\varphi^{+}\) e
    \(\varphi^{-}\) sono \(\mu\)-singolari.

    \(\text{ii)} \implies \text{iii)}\) Sia \((A, B)\) partizione di \(\Omega\)
    tale che \(\mu(A) = 0\) e \(\varphi ^{+}(B) = 0\). Siano \((A', B')\)
    partizione di \(\Omega\) con \(\mu(A') = 0\) e \(\varphi ^{-}(B') = 0\).
    Prendiamo \((A \cup A', B \cap B')\) e mostriamo che è una
    decomposizione che rende \(\varphi \) \(\mu\)-singolare. Intanto è una
    partizione, infatti 
    \((A \cup A') \cup (B \cap B') = (A \cup A' \cup B) \cap (A \cup A' \cup B')
    = \Omega \cap \Omega = \Omega\) e \((A \cup A') \cap (B \cap B') = ((A \cap
    B) \cup (A' \cap B)) \cap B' = A' \cap B \cap B' = \varnothing \). Ora si ha
    che \(\mu(A \cup A') = \mu(A) + \mu(A') = 0 + 0 = 0\) e \(|\varphi |(B \cap
    B') = \varphi ^{+}(B \cap B') + \varphi ^{-} (B \cap B') \le \varphi ^{+}
    (B) + \varphi ^{-} (B') = 0+0 = 0\) 

    \(\text{iii)} \implies \text{i)}\) Ovvia.
\end{proof}

\subsection{Derivata di Radon-Nikodym}
Sia \({(\Omega, \mathcal{M})}\) uno spazio misurabile. L'obiettivo di questa
sottosezione è definire la derivata \(\frac{\partial \varphi }{\partial \mu}\)
di una misura relativa \(\varphi \) rispetto a una misura \(\sigma\)-finita
\(\mu\) su \((\Omega, \mathcal{M})\).
L'idea di base (che mi sono fatto io) è quella che se \(\varphi \) è una misura
di probabilità (ossia è positiva e \(\varphi (\Omega) = 1\)) e \(\mu\) e la misura di
Lebesgue allora la derivata \(\frac{\partial \varphi }{\partial \mu}\) è la
densità di probabilità di \(\varphi\). Poi cosa significhi generalizzare a una
misura relativa generica non lo sa nessuno, ma si può fare.
Arriveremo a una definizione tramite 2
generalizzazioni: prima la definiamo per misure finite, poi per \(\mu\) misura
\(\sigma\)-finita e infine anche per \(\varphi \) relativa. 

Per dare un'intuizione, sia \(\Omega=\mathbb R\) coi misurabili secondo Lebesgue
e la misura \(\mu\) di Lebesgue. Se si ricorda il teorema di generazione di
misure~\ref{thm:gen_mis} e la relativa generalizzazione per misure relative
~\ref{prop:gen_mis_rel}, una funzione \(f\in L^1\) genera una misura relativa
\(\varphi\): 
\[
\varphi (E) = \int_E f \, d\mu
\]
Nel caso in cui venisse assegnata \(\varphi\) si può invertire il procedimento e
trovare \(f\) che la genera? Verrà chiamata derivata di Radon-Nikodym quella
funzione \(\frac{\partial \varphi}{\partial \mu}\) tale per cui
\[
\int_E \frac{\partial \varphi}{\partial \mu} \, d\mu = \varphi(E)
\]
Si dimostrerà che, in generale, il giusto ambiente per definire una derivata di
Radon-Nikodym che abbia questa proprietà è il caso in cui la misura \(\mu\) sia
\(\sigma-\)finita e \(\varphi\) sia \(\mu-\)assolutamente continua
~\ref{thm:rad_nik_ac}.

Inoltre verrà dimostrato che per \(\varphi\) misura relativa \(\mu-\)singolare,
ossia per la quale è possibile trovare un insieme \(\mu-\)trascurabile su cui
questa misura compie l'interezza della sua variazione, la derivata di
Radon-Nikodym è nulla \(\mu-\)quasi ovunque (\ref{thm:rad_nik_singolari}). Ci si
può raffigurare il risultato nel caso in cui \(\{x_i\}_{i \in \mathbb N}\) sia
una successione di valori reali (quindi trascurabile) e \(\{\alpha_i\}\) dei
coefficienti, per cui
\[
\varphi= \sum_{i=0}^\infty \alpha_i \delta_{x_i}
\]
che intuitivamente ha una ``sorta'' di derivata Radon-Nikodym
\[
\sum_{i=0}^\infty \alpha_i \delta (x-x_i)
\]
dove la \(\delta\) è la funzione delta di Dirac. Questa funzione è chiaramente
nulla \(\mu-\)quasi ovunque.

Il teorema di Lebesgue~\ref{thm:dec_leb} è il risultato che unisce questi due aspetti: si dimostrerà che ogni misura relativa si può scomporre in una parte assolutamente continua e una singolare, così da poter calcolare la derivata di Radon-Nikodym in maniera più generale. 

\begin{theorem}[Decomposizione di Lebesgue-Radon-Nikodym]\label{thm:dec_rad_nik}
    Sia \((\Omega, \mathcal{M})\) uno spazio misurabile. Siano \(\mu\) e
    \(\varphi\) due misure finite su \((\Omega, \mathcal{M})\). 
    Sia
    \[
        \mathcal{F} := \left\{ 
        g : \Omega \to \mathbb{R} \, \middle| \,
        \begin{array}{ll}
            \text{(1)} & g \geq 0 \text{ \(\mu\)-q.o}, \\
            \text{(2)} & g \in L^1, \\
            \text{(3)} & \forall E \in \mathcal{M}, \, \,\, \int_E g \, d\mu \leq \varphi(E)
        \end{array}
        \right\}
    \]
    Allora esiste unica (a meno di uguaglianza \(\mu\)-q.o.) una funzione \(f
    \in \mathcal{F}\) tale che \[
        \int_\Omega f d\mu = \sup_{g \in \mathcal{F}}  \int_\Omega g d\mu
    \]
\end{theorem}
\begin{definition}[Derivata di Radon-Nikodym per misure finite]
\label{def:rad_nik_1}
    Siano \(\mu\) e \(\varphi \) misure finite su \((\Omega, \mathcal{M})\).
    Chiamiamo \textbf{derivata di Radon-Nikodym} di \(\varphi \) rispetto a
    \(\mu\) la funzione \(f \in \mathcal{F}\) del teorema precedente e viene
    denotata con
    \[
        f = \frac{\partial \varphi}{\partial \mu } \quad ;\quad \int_\Omega \frac{\partial
        \varphi}{\partial \mu } d\mu = \sup_{g \in \mathcal{F}} \int_\Omega g d\mu
    \]
\end{definition}
\begin{proof}[Dimostrazione del Teorema~\ref{thm:dec_rad_nik}, ossia
    che~\ref{def:rad_nik_1} è ben definita] \(\)  \\
    Iniziamo dimostrando l'unicità. Sia 
    \[
        I = \sup_{g \in \mathcal{F}} \int_\Omega g d\mu = \int_\Omega f_{1} d\mu
        = \int_\Omega f_{2} d\mu
    \]
    per due funzioni \(f_{1} ,f_{1} \in \mathcal{F}\).
    Ora costruiamo la seguente partizione di \(\Omega\):
    \begin{align*}
        E_{1} &= \{ x \in \Omega : f_{1}{(x)} > f_{2}{(x)}\} \\
        E_{2} &= \{x \in \Omega : f_{1}{(x)} <f_{2}{(x)}\} \\
        E_{3} &= \{x \in \Omega : f_{1}{(x)} = f_{2}{(x)}\}
    \end{align*}
    supponiamo ora per assurdo che \(\mu{(E_{1})} > 0\). Sia \(h = \max \{f_{1},
    f_{2}\} \), allora \(h \in \mathcal{F}\), infatti \(h \ge f_{1} \ge 0\), \(h
    \in L^{1}{(\Omega)}\), perché \(f_{1}, f_{2} \in L^{1}\) e per ogni \(E \in
    \mathcal{M}\), 
    \begin{align*}
        \int_E h d\mu &= \int_{E \cap E_{1}} h d\mu + \int_{E \cap E_{2}} h d\mu
        + \int_{E \cap E_{3}} h d\mu =\\
        &= \int_{E \cap E_{1}} f_{1} d\mu + \int_{E \cap E_{2}} f_{2} d\mu +
        \int_{E \cap E_{3}} f_{1} d\mu \le \\
        &\le \varphi {(E \cap E_{1})} + \varphi {(E \cap E_{2})} + \varphi {(E
        \cap E_{3})} = \varphi {(E)}
    \end{align*}
    tuttavia
    \[
        \int_{\Omega} h d\mu = \int_{E_{1}} f_{1} d\mu + \int_{E_{2} \cup E_{3}} f_{2} d\mu
    > \int_{E_{1}} f_{2} d\mu + \int_{E_{2} \cup E_{3}} f_{2}
        d\mu = \int_{\Omega} f_{2} d\mu = I
    \]
    ma la \(f_{2}\) avrebbe dovuto realizzare il \(\sup\), assurdo. Analogo per
    l'ipotesi assurda che \(\mu(E_2) >0\). Ne consegue che \(f_{1} = f_{2}\,\,
    \mu-\)q.o.

    Ora mostriamo l'esistenza. Chiamiamo 
    \[
        I = \sup_{g \in \mathcal{F}} \int_\Omega g d\mu 
    \]
\begin{enumerate}[label = \arabic*.]
    \item \(I\) esiste in quanto \(\mathcal{F} \neq \varnothing\) perché \( 0
        \in \mathcal{F}\).
    \item  \(I \ge 0\) poiché \(\int_\Omega g d\mu \ge 0\) per ogni \(g \in
        \mathcal{F}\).
    \item \(I < +\infty\) poiché \(\int_\Omega g d\mu \le \varphi {(\Omega)}\) per
        ogni \(g \in \mathcal{F}\).
\end{enumerate}
    quindi esiste una successione \(\{g_{n}\} \subseteq \mathcal{F} \) tale che
    \[
        \lim_{n \to \infty} \int_\Omega g_{n} d\mu = I
    \]
    allora ne estraiamo una sottosuccessione (poi rinominata \(g_{n}\) per comodità) tale
    che
    \[
        \forall n \in \mathbb{N} : I - \frac{1}{n} \le \int_\Omega g_{n} d\mu
        \le I
    \]
    e costruiamo per ogni \(n \in \mathbb{N}\) la successione \(f_{n} = \max
    \{g_{1}, \dots,g_{n}\} \). Dimostriamo ora che \(\{f_{n}\} \subseteq \mathcal{F}
    \): \(f_{n} \ge g_{1} \ge 0\), \(f_{n} \in L^{1}{(\Omega)}\) in quanto
    assume valori di funzioni integrabili e per ogni \(E \in \mathcal{M}\)
    \[
        \int_E f_{n} d\mu = \sum_{i=1}^{n} \int_{E \cap E_{i}} f_{n} d\mu 
    \]
    dove gli \(E_{i}\), per \(i = 1,\dots, n\) sono così definiti:
    \begin{align*}
        E_{1} &= \{x \in \Omega : g_{1}{(x)}\ge g_{j} {(x)} \, \forall j = 1,
        \dots, n \}  \\
        E_{2} &= \{x \in \Omega : g_{2}{(x)}\ge g_{j} {(x)} \, \forall j = 1,
        \dots, n \} \sminus E_{1} \\
        E_{3} &= \{x \in \Omega : g_{3}{(x)}\ge g_{j} {(x)} \, \forall j = 1,
        \dots, n \} \sminus {(E_{1} \cup E_{2})}  \\
        &\vdots \\
            E_{n} &= \{x \in \Omega : g_{n}{(x)}\ge g_{j} {(x)} \, \forall j = 1,
        \dots, n \} \sminus \left( \bigcup_{i=1}^{n-1} E_{i} \right)
    \end{align*}
    che formano una partizione di \(\Omega\) e sono misurabili, ne consegue che 
    \[
        \int_E f_{n} d\mu = \sum_{i=1}^{n} \int_{E \cap E_{i}}   f_{n} d\mu =
        \sum_{i=1}^{n} \int_{E \cap E_{i}} g_{i} d\mu
        \overset{g_{i} \in \mathcal{F}}{\le }
        \sum_{i=1}^{n} \varphi {(E \cap E_{i})} = \varphi {(E)}
    \]
    quindi \(f_{n} \in \mathcal{F}\) e inoltre 
    \begin{equation}\label{eq:helper_rad_nik}
         g_{n} \le f_{n} \implies I - \frac{1}{n} \le \int_\Omega g_{n} d\mu \le \int_\Omega f_{n}
        d\mu \le I
    \end{equation}
    inoltre le \(f_{n}\) formano una successione monotona non decrescente, e
    quindi per il teorema di Beppo Levi~\ref{thm:beppo-levi} abbiamo che \(f_{n}
    \to f : \Omega \to \mathbb{R}\) q.o.~e tale che per ogni \(E \in \mathcal{M} \) 
    \[
        \lim_{n \to \infty} \int_E f_{n} d\mu = \int_E f d\mu
    \]
    Si vuole mostrare che \(f \in \mathcal{F}\), che è
    vero perché \(f_{n} \ge 0 \implies f \ge 0\). Inoltre \(f \in L^{1}\) perché
    per ogni \(E \in \mathcal{M}\) (dunque anche \(E = \Omega\)) abbiamo che
    \[
        \int_E f_{n} d\mu \le \varphi {(E)} \overset{n \to
        \infty}{\longrightarrow} \int_E f d\mu \le \varphi {(E)}
    \]
    e quindi possiamo concludere \(f \in \mathcal{F}\) e inoltre da
    \eqref{eq:helper_rad_nik} otteniamo che
    \[
        I - \frac{1}{n} \le \int_\Omega f_{n} d\mu \le I
        \overset{n \to \infty}{\longrightarrow}I \le \int_\Omega f d\mu \le I
    \]
\end{proof}
Ora vogliamo generalizzare la definizione di derivata di Radon-Nikodym nel caso in cui
\(\mu\) che sia \(\sigma\)-finita, ossia si possa scrivere \(\Omega = \bigcup_{n=1}^{\infty}
E_{n}\) e \(\mu(E_{n}) < +\infty\) per ogni \(n \in \mathbb{N}\). Per farlo
dobbiamo prima mostrare tre lemmi.
\begin{lemma}\label{lem:rad_nik_1}
    Sia \(\Omega, \mathcal{M}\) uno spazio misurabile e siano \(\mu\) e
    \(\varphi \) due misure finite. Allora \(\forall g \in \mathcal{F}\) si ha
    che
    \[
        \frac{\partial \varphi}{\partial \mu} \ge g \quad \mu-q.o.
    \]
\end{lemma}
\begin{proof}
    Fissiamo \(g \in \mathcal{F}\). Sia \(f = \frac{\partial \varphi}{\partial \mu}\). Chiamiamo \(E_{\ge } = \{x \in \Omega :
    f {(x )} \ge g{(x)}\} \) e \(E_< = \Omega
    \sminus E_{\ge }  \). Chiamiamo \(h := \max \{f,
    g\} \). Allora \(h \in \mathcal{F}\) perché \(h \ge f\ge 0\), \(h \in
    L^{1}\) perché \(f, g \in L^{1}\) e \(\forall E \in \mathcal{M}\) abbiamo
    \[
        \int_E h d\mu = \int_{E \cap E_{\ge }} h d\mu + \int_{E \cap E_{<}} h
        d\mu = \int_{E \cap E_{\ge }} f d\mu + \int_{E \cap E_{<}} g d\mu \le \varphi
        {(E)}
    \]
    ma adesso assumiamo \(\mu{(E_<)} > 0\) e abbiamo
    \[
        \int_\Omega h d\mu = \int_{E_{\ge }} f d\mu + \int_{E_{<}} g d\mu >
        \int_{E_{\ge } } g d\mu + \int_{E_{<}} f d\mu = \int_\Omega f d\mu
    \]
    che è assurdo per la definizione di \(f\). Quindi \(\mu{(E_<)} = 0\)
\end{proof}

\begin{lemma}\label{lem:rad_nik_2}
    Sia \({(\Omega, \mathcal{M})}\) uno spazio misurabile e sia \(\mu\) una
    misura \(\sigma\)-finita. Allora esiste una famiglia \(\{\Omega_n\}\) tale
    che 
    \[
        \Omega_n \in \mathcal{M}, \quad \bigcup_{n \in \mathbb{N}} \Omega_n =
        \Omega, \quad \mu(\Omega_n) < +\infty\,\, \forall n \in \mathbb{N}, \quad
        \text{ gli \(\Omega_{n}\) sono \textbf{disgiunti} }
    \]
\end{lemma}
\begin{proof}
    Se abbiamo una misura \(\sigma\)-finita \(\mu\) allora sicuramente esiste
    una famiglia \(\{E_{n}\} \) che soddisfa le prime tre richieste. Se ora
    costruiamo
    \[
        \Omega_{n} = E_{n} \sminus \bigcup_{i=1}^{n-1} E_{i} \quad \forall n \in \mathbb{N}
    \]
    otteniamo una famiglia disgiunta che soddisfa tutte le richieste.
\end{proof}

\begin{lemma}\label{lem:rad_nik_3}
    Sia \(\Omega, \mathcal{M}\) uno spazio misurabile, sia \(\mu\) una misura
    \(\sigma\)-finita su di esso e sia \(\varphi \) una misura finita. Esisterà una
    collezione \(\Omega_n\) che soddisfa la tesi del lemma~\ref{lem:rad_nik_2}.
    Allora chiamiamo \(\mu_n = \mu|_{\mathcal{M}_n} \) con \(\mathcal{M}_n =
    2^{\Omega_n} \cap \mathcal{M}\) e similmente \(\varphi_n = \varphi
    |_{\mathcal{M}_n} \). Sia ora \(\{\Theta_n\} \) una collezione di insiemi
    che ha le stesse proprietà del lemma~\ref{lem:rad_nik_2} e definiamo come
    prima \(\hat{\mu}_n = \mu|_{\hat{\mathcal{M}}_n} \) e \(\hat{\varphi}_n =
    \varphi|_{\hat{\mathcal{M}}_n} \). 

    Se definiamo ora
    \[
        f = \sum_{n=1}^{\infty} \rchi_{\Omega_n} \frac{\partial
        \varphi_n}{\partial \mu_n} \quad \text{e} \quad \hat{f} =
        \sum_{n=1}^{\infty} \rchi_{\Theta_n} \frac{\partial
        \hat{\varphi}_n}{\partial \hat{\mu}_n}
    \]
    allora \(f = \hat{f}\) \(\mu\)-q.o.
\end{lemma}
\begin{proof}
    Vogliamo dimostrare che \(f = \hat{f}\) su ogni \(\Omega_{i} \cap
    {\Theta_{j}}\). Questo è vero perché essendo in \(\Omega_{i}\), per il
    lemma~\ref{lem:rad_nik_1} abbiamo che \(f \ge \hat{f}\) \(\mu_i\)-q.o. e
    essendo in~\({\Theta_{j}}\) abbiamo che \(\hat{f} \ge f\)
    \(\hat{\mu_{j}}\)-q.o.~ma poiché entrambe le misure sono proiezioni di
    \(\mu\), allora \(f = \hat{f}\) \(\mu\)-q.o.~in \(\Omega_{i} \cap
    {\Theta_{j}}\). Poiché l'unione di tutti questi insiemi è \(\Omega\),
    segue la tesi.
\end{proof}

\begin{definition}[Derivata di Radon-Nikodym con \(\mu\) \(\sigma\)-finita]
\label{def:rad_nik_2}
    Sia \(\Omega, \mathcal{M}\) lo spazio misurabile del
    lemma~\ref{lem:rad_nik_3}. Allora \(f\) come definita sopra è la
    \textbf{derivata di Radon-Nikodym} di \(\varphi \) misura finita rispetto a
    \(\mu\) misura \(\sigma\)-finita, ossia
    \[
        \frac{\partial \varphi }{\partial \mu} = \sum_{n=1}^{\infty}
        \rchi_{\Omega_n} \frac{\partial \varphi_n}{\partial \mu_n}
    \]
    e poiché le \(\mu_n\) sono misure finite, ogni termine della sommatoria
    segue la definizione~\ref{def:rad_nik_1}

\end{definition}

Procedendo con la generalizzazione, vogliamo ora definire la derivata di una
generica misura relativa \(\varphi \) rispetto a una misura \(\sigma\)-finita

\begin{definition}[Derivata di Radon-Nikodym]
\label{def:rad_nik}
    Sia \(\Omega, \mathcal{M}\) uno spazio misurabile, sia \(\mu\) una misura
    \(\sigma\)-finita e sia \(\varphi \) una misura relativa. Allora \(\varphi =
    \varphi^{+} - \varphi^{-}\) e definiamo la \textbf{derivata di Radon-Nikodym}
    \[
        \frac{\partial \varphi }{\partial \mu} = \frac{\partial \varphi^{+}}{\partial \mu} - \frac{\partial \varphi^{-}}{\partial \mu}
    \]
    e poiché \(\varphi^{+}, \varphi^{-}\) sono misure finite, seguono
    la definizione~\ref{def:rad_nik_2}
\end{definition}

\begin{theorem}[Teorema di Radon-Nikodym meno bello]\label{thm:rad_nik_singolari}
    Sia \({(\Omega, \mathcal{M})}\) uno spazio misurabile. Siano \(\mu\) e
    \(\varphi \) rispettivamente una misura \(\sigma\)-finita e una misura
    relativa su esso. Sia \(\varphi \) \(\mu\)-singolare. Allora
    \[
        \frac{\partial \varphi }{\partial \mu} = 0 \quad \mu-q.o.
    \]

\end{theorem}
\begin{proof}
    Supponiamo \(\mu, \varphi \) misure finite e sia \(\varphi \)
    \(\mu\)-singolare, ossia esiste una partizione \({(A, B)}\) di \(\Omega\)
    dove \(\mu{(A)} = 0\) e \(\varphi {(B)} = 0\). Consideriamo ora
    \(\mathcal{M} \ni E \subseteq B \), allora
    \[
        0 \le \int_E \underbrace{\frac{\partial \varphi }{\partial \mu}}_{\in
        \mathcal{F} \implies \ge 0}  d\mu \overset{\in \mathcal{F}}{\le }
        \varphi (E) \le \varphi {(B)} = 0
    \]
    e quindi, essendo \(\frac{\partial \varphi }{\partial \mu}\) non-negativa, vale
    \(0\) \(\mu\)-q.o.~su \(B\), ed essendo \(A\) \(\mu\)-trascurabile segue la
    tesi.

    Supponiamo ora che \(\mu\) sia \(\sigma\)-finita, \(\varphi \) misura finita
    e \(\mu\)-singolare. Sia \({(A, B)}\) la partizione di \(\Omega\) tale che
    \(\mu{(A)} = 0\) e \(\varphi {(B)} = 0\). Sia \(\{\Omega_n\}\) la partizione
    di \(\Omega\) tale che \(\mu{(\Omega_{n})}< \infty\) per ogni \(n \in
    \mathbb{N}\). Ora per ogni \(n \in \mathbb{N}\) consideriamo \({(A_{n},
    B_{n})} = {(\Omega_{n} \cap A, \Omega_{n} \cap B)}\). Allora ogni \({(A_{n},
B_{n})}\) è una partizione di \(\Omega_{n}\) e \(\mu_n{(A_{n})} \le \mu{(A)} =0\)
e \(\varphi_n {(B_{n})} \le \varphi {(B)} = 0\) per cui ogni \(\varphi _n\) e
\(\mu_{n}\)-singolare e per il punto precedente 
\[
    \frac{\partial \varphi_n }{\partial \mu_n} = 0 \quad \mu_n\text{-q.o.} \,\, \forall
    n \in \mathbb{N}\implies \frac{\partial \varphi }{\partial \mu} =
    \sum_{n=1}^{\infty} \rchi_{\Omega_n} \frac{\partial \varphi _n}{\partial
    \mu_{n}} = 0 \quad \mu\text{-q.o.}
\]
    
    Infine andiamo al caso generale, con \(\mu\) misura \(\sigma\)-finita e
    \(\varphi \) misura relativa \(\mu\)-singolare. Allora per la
    proposizione~\ref{prop:equivalenti_sing} abbiamo che \(\varphi^{+}\) e
    \(\varphi^{-}\) sono \(\mu\)-singolari e quindi per il caso precedente
    \[
        \frac{\partial \varphi }{\partial \mu} = \frac{\partial
        \varphi^{+}}{\partial \mu} - \frac{\partial \varphi^{-}}{\partial \mu} =
        0 - 0 = 0 \quad \mu\text{-q.o.}
    \]

\end{proof}

\begin{theorem}[Teorema di Radon-Nikodym più bello]\label{thm:rad_nik_ac}
    Sia \((\Omega, \mathcal{M})\) uno spazio misurabile. Siano \(\mu\) e
    \(\varphi\) rispettivamente una misura \(\sigma\)-finita e una misura
    relativa. Sia \(\varphi \) \(\mu\)-assolutamente continua. Allora
    \[
        \forall E \in \mathcal{M} \quad \int_E \frac{\partial \varphi }{\partial
        \mu} d\mu = \varphi(E)
    \]
\end{theorem}
\begin{proof}[Dimostrazione per \(\varphi , \mu\) misure finite]
    Supponiamo per assurdo che esista un insieme \(E_{0} \in \mathcal{M}\) tale
    che \(\int_{E_{0}} \frac{\partial \varphi }{\partial \mu} d\mu \neq \varphi
    (E_{0})\), segue dalla definizione~\ref{def:rad_nik_1} che necessariamente
    \(\int_{E_{0}} \frac{\partial \varphi }{\partial
    \mu} d\mu < \varphi (E_{0})\). Ne segue che \(\varphi (E_{0}) >0\) e per
    \(\mu\)-a.c.~anche \(\mu(E_{0}) > 0\).

    Siccome \(\mu\) è finita 
    \begin{equation}\label{eq:abs_phi}
        \exists \varepsilon > 0 \quad \text{t.c.} \int_{E_{0}} \frac{\partial
        \varphi }{\partial \mu} d\mu + \varepsilon \mu(E_{0}) = \int_{E_{0}}
        {\left( \frac{\partial \varphi }{\partial \mu} + \varepsilon \right)}
        d\mu < \varphi (E_{0})
    \end{equation}
    Definiamo ora la misura \(\tilde{\varphi}\) come 
    \[
        \tilde{\varphi }(E) = \varphi (E) - \int_E {\left( \frac{\partial
        \varphi }{\partial \mu} + \varepsilon \right)} d\mu \quad \forall E \in
        \mathcal{M}
    \]
    che essendo la differenza di due misure finite è una misura relativa. Sia
    quindi \((A, B)\) una decomposizione di Hahn rispetto a \(\tilde{\varphi
    }\). Abbiamo ora che \(\tilde{\varphi }(E_{0}) > 0\) per \eqref{eq:abs_phi} e
    \(\tilde{\varphi}(A) \ge \tilde{\varphi}(A \cap E_{0}) \ge \tilde{\varphi}(A
    \cap E_{0}) + \tilde{\varphi}(B \cap E_{0}) = \tilde{\varphi}(E_{0}) > 0\),
    quindi
    \[
        \varphi(A) - \int_A \left( \frac{\partial \varphi}{\partial \mu} + \varepsilon\right) d\mu = \tilde{\varphi}(A) >0  
    \]
    da cui
    \[
        \varphi (A) > \int_A {\left( \frac{\partial \varphi }{\partial \mu} +
        \varepsilon \right)} d\mu \ge 0 \overset{\mu-\text{a.c.}}{\implies } \mu(A) > 0
    \]
    Ora sia \(f := \frac{\partial \varphi }{\partial \mu} + \varepsilon
    \chi_{A}\). Allora \(f \ge 0\), in quanto somma di funzioni non negative;
    \(f \in L^{1}\) in quanto somma di funzioni \(L^{1}\) e, \(\forall E \in
    \mathcal{M}\) 
    \[
        \int_E f d\mu = \int_{E \cap A} {\left( \frac{\partial \varphi
        }{\partial \mu} + \varepsilon \right)} d\mu + \int_{E \cap B}
        \frac{\partial \varphi }{\partial \mu} d\mu \le \varphi (E \cap A) +
        \varphi (E \cap B) = \varphi (E)
    \]
    quindi abbiamo che \(f \in \mathcal{F}\), ma
    \[
        \begin{aligned}
        \int_\Omega f \, d\mu &= \int_A \left( \frac{\partial \varphi}{\partial \mu} + \varepsilon \right) d\mu + \int_B \frac{\partial \varphi}{\partial \mu} \, d\mu \\
        &> \int_A \frac{\partial \varphi}{\partial \mu} \, d\mu + \int_B \frac{\partial \varphi}{\partial \mu} \, d\mu \\
        &= \int_\Omega \frac{\partial \varphi}{\partial \mu} \, d\mu.
        \end{aligned}
    \]
    dove la disuguaglianza si ha perché \(\varepsilon > 0, \mu(A) > 0\). Ma è assurdo perché sappiamo per definizione di \(\frac{\partial \varphi
    }{\partial \mu}\) che \(\int_\Omega \frac{\partial \varphi }{\partial \mu}
    d\mu \) è il sup di tutti gli integrali di funzioni in \(\mathcal{F}\).
\end{proof}
\begin{proof}[Dimostrazione per \(\mu\) \(\sigma\)-finita e \(\varphi \) misura
finita] Sia \({\{\Omega_{n}\}}_{n \in \mathbb{N}}\) una partizione di
    \(\Omega\) tale che \(\mu(\Omega_{n}) < +\infty\) per ogni \(n \in
    \mathbb{N}\) e quindi le restrizioni \(\mu_{n}, \varphi_n :=
    \mu|_{\Omega_{n}}, \varphi|_{\Omega_{n}}  \) sono misure finite e
    \(\varphi_n\) è \(\mu_{n}\)-a.c.~per ogni \(n \in \mathbb{N}\). Allora
    \(\forall e \in \mathcal{M}\),
    \begin{align*}
        \int_E \frac{\partial \varphi }{\partial \mu} d\mu &=
        \int_{E} {\left( \sum_{n=1}^{\infty} \frac{\partial \varphi_n}{\partial
        \mu_{n}}\rchi_{\Omega_{n}}   \right)} d\mu = \sum_{n=1}^{\infty} \int_{E
    \cap \Omega_{n}} \frac{\partial \varphi_n}{\partial \mu_{n}} d\mu
    \underset{\text{finite}}{\overset{\text{misure}}{=}} \sum_{n=1}^{\infty}
    \varphi_n(E \cap \Omega_{n}) = \\ &= \varphi(E)
    \end{align*}

\end{proof}
\begin{proof}[Dimostrazione generale: \(\mu\) \(\sigma\)-finita e \(\varphi\)
    misura relativa] Scomponendo \(\varphi = \varphi^{+} - \varphi^{-}\)
    otteniamo che \(\forall E \in \mathcal{M}\) 
    \begin{align*}
        \int_E \frac{\partial \varphi }{\partial \mu}d\mu
        &\overset{\text{def}}{=} \int_E \frac{\partial \varphi ^{+}}{\partial
        \mu} - \frac{\partial \varphi ^{-}}{\partial \mu} d\mu = \int_E
        \frac{\partial \varphi ^{+}}{\partial \mu} d\mu - \int_E \frac{\partial
            \varphi ^{-}}{\partial \mu} d\mu
            \underset{\text{mis.}}{\overset{\varphi^{\pm}}{=}} \varphi ^{+}(E)
            - \varphi ^{-}(E) =  \\ &=\varphi(E)
    \end{align*}
    infatti \(\varphi\) è \(\mu\)-a.c.~e quindi \(\varphi^{+}\) e
    \(\varphi^{-}\) sono \(\mu\)-a.c.
\end{proof}

\begin{theorem}[Teorema di Lebesgue]\label{thm:dec_leb}
    Sia \((\Omega, \mathcal{M})\) uno spazio misurabile, con \(\mu\) misura e
    \(\varphi \) misura relativa. Allora esiste unica una misura \(\varphi_a\)
    \(\mu\)-assolutamente continua e esiste unica una misura \(\varphi_s\)
    \(\mu\)-singolare tali che
    \[
        \varphi = \varphi_a + \varphi_s
    \]
\end{theorem}
\begin{proof}[Esistenza, \(\varphi \) misura finita]
    Sia \(K = \sup \{ \varphi (N) : N \in \mathcal{M}, \, \mu(N) = 0\} \). Se
    \(K = 0\) allora \(\varphi =\varphi_a\) è \(\mu\)-a.c.~e \(\varphi_s = 0\).
    Assumiamo quindi \(K > 0\). Esiste quindi una successione \(E_{n}\) di
    insiemi misurabili tali che \(\lim_{n \to \infty} \varphi (E_{n}) = K\) e
    \(\mu(E_{n}) = 0\) per ogni \(n \in \mathbb{N}\). Sia ora \(E = \bigcup_{n
    \in \mathbb{N}} E_{n}\). Allora \(\mu(E) = 0 \implies \varphi (E) \le K\) e
    \(\varphi (E) \ge \varphi (E_{n})\) per ogni \(n\), quindi per
    l'arbitrarietà di \(n\) abbiamo che \(\varphi(E) \ge K\). Ne consegue
    proprio \(\varphi (E) = K\).

    Sia ora
    \begin{align*}
        \varphi_a(E) &:= \varphi (A \sminus E) &\forall A \in \mathcal{M} \\
        \varphi_s(E) &:= \varphi (A \cap E) &\forall A \in \mathcal{M}
    \end{align*}
    Allora per ogni \(A\) misurabile abbiamo
\begin{itemize}[label = --]
    \item \(\varphi(A) = \varphi (A \cap E) + \varphi (A \sminus E) = (\varphi_s
        + \varphi_a)(A)\) ok.
    \item \(\varphi_a\) è \(\mu\)-a.c.~infatti se \(N \in \mathcal{M}\) è tale
        che \(\mu(N) = 0\) e se fosse
        vero che \(\varphi_a(N) = \varphi (N \sminus E) > 0\) allora avremmo
        \(\varphi (E \cup N) = \varphi (N \sminus E) + \varphi (E) > \varphi
        (E)\) che è assurdo
    \item \(\varphi_s\) è \(\mu\)-singolare infatti presa la decomposizione
        \((E, \Omega \sminus E)\) abbiamo che \\ \(\mu(E) = 0\) e
        \(\varphi_s(\Omega \sminus E) = \varphi ((\Omega - E) \cap E) =
        \varphi(\varnothing) = 0\) 
\end{itemize}
\end{proof}
\begin{proof}[Esistenza, \(\varphi \) misura relativa] Sia \(\varphi  = \varphi
    ^{+} - \varphi ^{-}\) differenza di misure finite. Allora abbiamo
    \[
        \begin{cases}
            \varphi^{+} = \varphi^{+}_a + \varphi^{+}_s \\
            \varphi^{-} = \varphi^{-}_a + \varphi^{-}_s
        \end{cases}
        \implies \varphi = \varphi^{+} - \varphi ^{-} = \underbrace{(\varphi ^{+}_a -
        \varphi ^{-}_a)}_{:=\varphi_a} + \underbrace{(\varphi ^{+}_s - \varphi
    ^{-}_s)}_{:=\varphi_s}
    \]
    dove \(\varphi_a\) e \(\varphi_s\) sono rispettivamente \(\mu\)-a.c.~e
    \(\mu\)-singolare perché differenze di misure \(\mu\)-a.c.~e \(\mu\)-singolari.
\end{proof}

\begin{proof}[Unicità]
    Sia \(\varphi = \varphi_s + \varphi_a = \varphi'_s + \varphi'_a\), ne
    consegue che \(\varphi_s - \varphi'_s = \varphi'_a - \varphi_a =:
    \varphi_0\) e quindi \(\varphi_0\) è sia \(\mu\)-a.c.~che \(\mu\)-singolare,
    quindi \(\varphi_0 = 0\) e di conseguenza \(\varphi_s = \varphi'_s\) e
    \(\varphi_a = \varphi'_a\).
\end{proof}

\begin{eser}[Es. 2 del 23\--01\--2019]
    Indicata con \(\lambda\) la misura di Lebesgue in \(\mathbb{R}\) e con
    \(\mathcal{L}\) la \(\sigma\)-algebra degli insiemi misurabili secondo
    Lebesgue, si consideri 
    \[
        \varphi {(A)} = 2\lambda {(A \cap [0, 2])} - 3 \int _{A \cap (-\infty,
        0)} e^{x} \,d\lambda + \int _A \frac{\sin x}{1 + x^2} \,d\lambda \quad A
        \in \mathcal{L}
    \]
\begin{enumerate}[label = \alph*.]
    \item Provare che \(\varphi \) è una misura relativa su \(\mathbb{R}\) 
    \item Dire se \(\varphi \) è \(\lambda\)-a.c.~e/o è \(\lambda\)-singolare
    \item Scrivere la derivata di Radon-Nikodym di \(\varphi \) rispetto a \(\lambda\) 
\end{enumerate}
\end{eser}
\subsection{Misure di Lebesgue-Stieltjes}
Sia \(F : \mathbb{R} \to \mathbb{R}\) una funzione monotona non decrescente e
continua da sinistra, cioè 
\[
    \forall x_{0} \in \mathbb{R} \quad \lim_{x \to x_{0}^{-}} F{(x)} = F{(x_{0})}
\]
Allora \(F\) ha al più un'infinità numerabile di punti di discontinuità, poiché
è monotona. Infatti una funzione monotona ha solo tipi di discontinuità di tipo
salto, e si riescono a ``contare'', infatti ogni intervallino corrispondente a
un salto contiene almeno un numero razionale e quindi gli si può associare un
numero razionale ivi contenuto.

Ora consideriamo la seguente famiglia di sottoinsiemi di \(\mathbb{R}\) 
\[
    \mathcal{R} = \{[a, b); a, b \in  \mathbb{R}, a < b\} \cup \{\varnothing\} 
\]
su tale famiglia definiamo una misura elementare 
\[
    m_F{([a,b))} = F{(b)} - F{(a)} \quad m_F{(\varnothing)} = 0
\]
Notare che \(\mathcal{R}\) non è nemmeno un'algebra lol. Tuttavia vale un
risultatino
\begin{proposition}
    Se \([a, b) = \bigcup_{n=1}^{\infty}[a_{n}, b_{n})\) dove \([a_{i}, b_{i})
    \cap [a_{j}, b_{j}) = \varnothing\) per ogni \(i \neq j\); allora
    \[
        m_F{([a, b))} = \sum_{n=1}^{\infty} m_F{([a_{n}, b_{n}))}
    \]
\end{proposition}
\begin{proof} \( \) 
\begin{enumerate}[label = \arabic*.]
    \item[\(\ge \)] La ridotta \(\sum_{n=1}^{k} m_F{([a_{n}, b_{n}))} \) della
        serie dà la somma delle lunghezze \(F{(b_{n})} - F{(a_{n})} \ge 0\) per
        \(n=1,\dots,k\) e danno la variazione di \(F\) sugli intervallini.
        Allora poiché \(F\) è monotona, 
        \[
            \sum_{n=1}^{k} m_F{([a_{n}, b_{n}))} \le m_F{([a, b))} \quad \forall
            k \in \mathbb{N}
        \]
        e quindi la serie converge e la sua somma è minore o eguale di
        \(m_F{([a,b))}\) 
    \item[\(\le \)] Sia \(\varepsilon>0\). Allora esiste \(\overline{b} < b\)
        tale che \(F{(\overline{b})}\ge F{(b)}-\varepsilon\). Per ogni \(n \in
        \mathbb{N}\) esistono \(\overline{a}_n < a_{n}\) tali che 
        \[
          F{(\overline{a}_n)} \ge F{(a_{n})} - \frac{\varepsilon}{2^{n}}
        \]
        osserviamo che \([a, \overline{b}] \subseteq [a, b)\)  e invece \([a_{n},
        b_{n}) \subseteq (\overline{a}_{n}, b_{n}) \) per ogni \(n \in \mathbb{N}\). Allora
        \[
            [a, \overline{b}] \subseteq \bigcup_{n=1}^{\infty}(\overline{a}_{n}, b_{n})
        \]
        poiché \([a, \overline{b}]\) è un compatto, ne possiamo estrarre un
        sottoricoprimento finito, quindi esistono \(n_1, \dots, n_k\) tali che
        \[
            [a, \overline{b}] \subseteq \bigcup_{i=1}^{k}(\overline{a}_{n_i}, b_{n_i})
        \]
        e quindi abbiamo
        \[
          F{(\overline{b})} - F{(a)} \le  \sum_{n=1}^{k} {\left( F{(b_{n})} -
          F{(\overline{a}_n)} \right)}  
        \]
        e quindi
        \begin{align*}
            F{(b)} - \varepsilon - F{(a)} &\le F{(\overline{b})} - F{(a)} \le \\
            &\le 
          \sum_{n=1}^{k} {\left( F{(b_{n})} - F{(\overline{a}_n)} \right)} \le
          \sum_{n=1}^{k} {\left( F{(b_{n})} - F{(a_{n})} \right)} +
          \sum_{n=1}^{k} \frac{\varepsilon}{2^{n}}
        \end{align*}
        prendendo il limite per \(k \rightarrow \infty\) si ottiene la tesi. 
\end{enumerate}
\end{proof}
Possiamo ora definire una misura esterna \(\mu^\star_F : 2^{\mathbb{R}} \to [0,
+\infty]\) definita come
\[
    \mu^\star_F{(E)} = \inf \left\{ \sum_{n=1}^{\infty} m_F{(I_{n})} : E
    \subseteq \bigcup_{n=1}^{\infty} I_{n} \,\,;\,\, I_{n} \in \mathcal{R}
\,\,\forall n \right\} 
\]
Tale insieme non è mai vuoto, infatti \(\mathbb{R} \subseteq \bigcup_{k \in
\mathbb{Z}} [k, k+1) \) ricopre ogni insieme \(E \subseteq \mathbb{R} \).
\begin{proposition}
    \(\mu^\star_F\) è una misura esterna.
\end{proposition}
\begin{proof}
\begin{itemize}[label = --]
    \item \(\mu^\star_F{(\varnothing)} = 0\) in quanto posso ricoprire l'insieme
        vuoto con un'unione numerabile di insiemi vuoti che hanno misura nulla
    \item  Se \(A \subseteq B \) allora ogni ricoprimento di \(B\) è anche
        ricoprimento di \(A\), per cui \(\mu^\star_F{(A)} \le \mu^\star_F{(B)}\)
    \item Sia \(E \subseteq \bigcup_{n \in \mathbb{N}} E_{n} \) allora
        \(\mu^\star_F{(E)} \le \sum_{n=1}^{\infty} \mu^\star_F{(E_{n})} \).
        Infatti (dimostrandolo sono nel caso in cui la serie converge, perché
        altrimenti è ovvio), esiste \(\bigcup_{k \in \mathbb{N}} I_{n, k} \),
        con \(I_{n, k}  \in \mathcal{R}\) e \(\sum_{k=1}^{\infty} m_F{(I_{n, k}
        )} \le \mu^\star_F{(E_{n})} + \frac{\varepsilon}{2^{n}}\). Tale unione
        ricopre tutto \(E\) e allora necessariamente
        \[
            \mu^\star_F{(E)} \le \sum_{k, n \in \mathbb{N}} m_F{(I_{n, k})} =
            \sum_{n=1}^{\infty} \sum_{k=1}^{\infty} I_{n, k} \le
            \sum_{n=1}^{\infty}  \mu^\star_F{(E_{n})} + \varepsilon
        \]
        da cui \(\mu^\star_F{(E)} \le \sum_{i=1}^{\infty} \mu^\star_F{(E_n)} \)
        per arbitrarietà di \(\varepsilon\) 
\end{itemize}
\end{proof}
Ora a partire da questa misura esterna passiamo a considerare insiemi misurabili
e misura di questi. Chiaramente misurabili e misura associata dipendono da
\(F\). 
\begin{theorem}[Teorema di Caratheodory]
    Se \(\mu^\star\) è una misura esterna su un insieme \(\Omega\), allora la
    famiglia 
    \[
      \mathcal{M} = \left\{ A \subseteq \Omega : \forall E \subseteq
          \Omega\,,\,\, \mu^\star{(E)} = \mu^\star{(E \cap A)} + \mu^\star{(E
      \sminus A)} \right\}
    \]
    è una \(\sigma\)-algebra e la restrizione di \(\mu^\star\) a \(\mathcal{M}\)
    è una misura. In particolare \((\Omega, \mathcal{M},
    \mu^\star|_{\mathcal{M}} )\) è uno spazio di misura.
\end{theorem}
Applichiamo quindi il teorema di Caratheodory alla misura esterna
\(\mu^\star_F\) e otteniamo che esiste una \(\sigma\)-algebra \(\mathcal{M}_F\).
Quindi in particolare la famiglia dei boreliani \(\mathcal{B}(\mathbb{R})
\subseteq \mathcal{M}_F\). Inoltre la misura \(\mu_F =
\mu^\star_F|_{\mathcal{M}_F}\) è un'estensione della misura elementare \(m_F\).
Perdipiù \(\mu_F{(x_{0})} = 0\) se e solo se \(F\) è continua in \(x_{0} \in
\mathbb{R}\); infatti \(\{x_{0}\} = \bigcap_{n \in \mathbb{N}} [x_{0}, x_{0} +
\frac{1}{n})\) che è una successione decrescente di insiemi tutti di misura
finita \(F{(x_{0} + \frac{1}{n})} - F{(x_{0})}\) e allora la loro intersezione è  
\[
    \mu_F{(x_{0})} = \lim_{n \to \infty} \mu_F{\left(\left[x_{0}, x_{0} +
        \frac{1}{n}\right)\right)} =
    F{\left(x_{0} + \frac{1}{n}\right)} - F{(x_{0})} = \lim_{x \to x_{0}^{+}} F{(x)} -
    F{(x_{0})}
\]
che è nulla se e solo se \(F\) è continua anche da destra in \(x_{0}\).

Se prendo \(F{(x)}\) costante allora ottengo la misura nulla. Se invece
considero \(F{(x)} = x\) ottengo la misura 1-dimensionale di Lebesgue e i misurabili di
Lebesgue. Se prendo \(F{(x)} = \rchi_{(0, \infty)} \) funzione Heaviside allora
\(\mu_F\) coincide con la misura di Dirac centrata in \(0\) e \(\mathcal{M}_F =
2^{\mathbb{R}}\).

Le misure che così costruiamo, ossia le misure di Lebesgue-Stieltjes, sono
misure \(\sigma\)-finite. In particolare \(\mu_F\) è finita se \(F\) è limitata,
perché \(\mu_F{(\mathbb{R})} = \lim_{x \to \infty} F{(x)} - \lim_{x \to -\infty}
F{(x)}\) e se \(F\) è limitata allora i due limiti esistono e sono finiti.

\newpage

\section{Analisi Funzionale}
In tutti gli spazi vettoriali considerati in questa sezione, il campo su cui
opereremo sarà \(\mathbb{K} = \mathbb{R}\) o \(\mathbb{C}\).
\subsection{Spazi normati}
\begin{definition}[Spazio normato]
    Uno spazio normato è uno spazio vettoriale \(V\) su un campo \(\mathbb{K}\)
    dotato di una norma \(\| \cdot \| : V \to \mathbb{R}_{\ge 0} \) tale che
    \begin{enumerate}[label = \arabic*.]
        \item \emph{(definita positività)} \(\| v \| = 0 \iff v = 0\)
        \item \emph{(omogeneità)} \(\| \lambda v \| = |\lambda| \| v \|\) per ogni \(v \in V\) e
            \(\lambda \in \mathbb{K}\)
        \item \emph{(diseguaglianza triangolare)} \(\| v + w \| \le \| v \| + \| w \|\) per ogni \(v, y \in V\)
    \end{enumerate}
\end{definition}
\begin{example}
    \(V = \mathbb{R}\), con norma \(|\cdot |\)
\end{example}
\begin{example}
    \(V=\mathbb{C}\), con norma \(| \cdot | : x \mapsto x \overline{x}\)
\end{example}
\begin{example}
    \(V = \mathbb{R}^{N}\) o \(\mathbb{C}^{N}\) con la norma euclidea, ossia
\(\|x\| = \sqrt{\sum_{i=1}^{N} |x_i|^2}\)
\end{example}
\begin{example}
    \(V = C^{0}[-1, 1]\) spazio vettoriale reale delle funzioni \(f : [-1, 1]
    \to \mathbb{R} \) continue in ogni punto. La norma è data da
    \(\|f\|_{\infty} = \max f([-1, 1]) \).
    La norma \(\| \cdot \|_{\infty}\) è detta \textbf{norma uniforme} o norma
    infinito, e non è l'unica norma. Ad esempio possiamo definire
    \[
        \|f\|_{1} = \int_{-1}^{1} |f(x)| dx
    \]
    che è una norma perché è sempre positiva, vale 0 se e solo se \(f = 0\), nel
    caso di \(f \in C^{0}\), per linearità dell'integrale segue l'omogeneità e
    per la diseguaglianza triangolare del modulo e la linearità dell'integrale
    abbiamo che vale anche la diseguaglianza triangolare.
\end{example}
\begin{eser}
    Verificare che le precedenti norme sono effettivamente norme.
\end{eser}
Ogni spazio normato è uno spazio metrico, dove la distanza tra due punti è data
dalla norma della loro differenza. Un problema interessante è valutare se
diverse norme danno su uno spazio metrico la stessa topologia, ossia
caratterizzare le norme equivalenti.

Ricordiamo che in uno spazio normato \((V, \|\cdot \|)\) gli aperti sono così
caratterizzati: un insieme \(A \subseteq V\) è aperto se e solo se per ogni \(x
\in A\) esiste un \(\varepsilon > 0\) tale che \(B_\varepsilon(x) \subseteq
A\), dove \(B_\varepsilon(x) = \{y \in V : \|y - x\| < \varepsilon\}\). Inoltre
\(C \subseteq V \) è chiuso se \(V \sminus C\) è aperto. \(\{x_{n}\} \subseteq V
\) è convergente se esiste \(x \in V\) tale che \(\lim_{n \to \infty} \|x_{n} -
x\| = 0\). \(C\) è chiuso se e solo se \(\forall \) successione convergente
contenuta in \(C\), questa ha limite in \(C\).

Le funzioni continue tra spazi normati \((V, \|\cdot \|_V)\) e \((W, \|\cdot
\|_W)\)  sono così caratterizzate: \(f : V \to W \) è continua in \(x_{0} \in
V\) se
\[
    \forall \varepsilon > 0 \quad \exists \delta > 0 \quad \text{tale che} \quad
    \|x - x_{0}\|_V < \delta \implies \|f(x) - f(x_{0})\|_W < \varepsilon
\]
Allora \(f : V \to W\) è continua se è continua in ogni punto di \(V\).
Questo è equivalente alla definizione topologica, dove \(f\) è continua se per
ogni aperto \(A \subseteq W \) allora la controimmagine \(f ^{-1}(A)  = \{x \in
V : f(x) \in A\} \) è un aperto di \(V\). Ancora questa è equivalente a dire che
per ogni successione \(\{v_{n}\} \) convergente in \(V\), allora
\(f(v_{n})\) converge in \(W\) a \(f(\lim_{n \to \infty} v_{n})\) 
\begin{proposition}
    In uno spazio normato \((V, \|\cdot \|)\), la funzione \(x \mapsto \|x\|\) è
    una funzione continua
\end{proposition}
\begin{proof}
    Sia \(x_{0} \in V\) e \(\varepsilon > 0\). Allora
    \[
        \|x - x_{0}\| < \delta \implies |\|x\| - \|x_{0}\| | \le \|x - x_{0}\| <
        \delta
    \]
    scegliendo \(\delta = \varepsilon\) abbiamo la tesi.
\end{proof}
In uno spazio vettoriale \(V\) si possono considerare più norme, vediamo alcuni
esempi di norme diverse su \(\mathbb{R}^{N}\) e \(\mathbb{C}^{N}\):
\begin{align*}
    \|x\|_{1} &= \sum_{i=1}^{N} |x_i| \quad \quad
    \|x\|_{\infty} = \max_{1 \le i \le N} |x_i| \\
    \|x\|_{p} &= {\left( \sum_{i=1}^{N} |x_{i}|^{p}  \right)}^{\frac{1}{p}}
    \quad p \in [1, +\infty) \\
\end{align*}
Come sono fatte le palle? Vedasi figura~\ref{fig:palle}
\begin{figure}[ht]
    \center
\begin{tikzpicture}
\begin{axis}[
    axis equal,
    axis lines = center,
    xlabel = \(x\),
    ylabel = \(y\) ,
    xmin=-1.5, xmax=1.5,
    ymin=-1.5, ymax=1.5,
    legend style={%
        legend pos=outer north east,
        at = {(1.04, 0.75)},
        draw=none},
]

% \frac{1}{2} ``norm''
\addplot[
    domain=0:360,
    samples=100,
    style=dashed
    ]
    ({sign(cos(x)) * abs(cos(x))^4}, {sign(sin(x)) * abs(sin(x))^4});

% 1 norm
\addplot[
    thick,
    color=blue,
    ]
    coordinates {(-1, 0) (0, 1) (1, 0) (0, -1) (-1, 0)};

% \frac{4}{3} norm
\addplot[
    domain=0:360,
    samples=100,
    color=teal,
    style=dashed
    ]
    ({sign(cos(x)) * abs(cos(x))^(3/2)}, {sign(sin(x)) * abs(sin(x))^(3/2)});

% 2 norm
\addplot[
    domain=0:360,
    samples=100,
    thick,
    color=orange,
    ]
    ({cos(x)}, {sin(x)});

% 4 norm
\addplot[
    domain=0:360,
    samples=100,
    color=violet,
    style=dashed
    ]
    ({sign(cos(x)) * sqrt(abs(cos(x)))}, {sign(sin(x)) * sqrt(abs(sin(x)))});

% norma infinito
\addplot[
    color=yellow,
    thick,
    ]
    coordinates {(-1, -1) (-1, 1) (1, 1) (1, -1) (-1, -1)};

\legend{\(p = 0.5\), \(p = 1\), \(p = 4 / 3\), \(p = 2\), \(p = 4\), \(p =
\infty\)}

\end{axis}
\end{tikzpicture}
\caption{Palle \(\|x\|_p < 1\) in \(\mathbb{R}^{2}\)}\label{fig:palle}
\end{figure}
Data una coppia \((p, q)\) e fissata la palla \(\|x\|_p < 1\) esistono due palle
\(\|x\|_q < r\) e \(\|x\|_q < R\) con \(R\) e \(r\) positivi, tali che la prima
è contenuta in \(\|x\|_p < 1\) e l'altra contiene \(\|x\|_p <1\). 

Notare che si potrebbe in teoria prendere anche \(p < 1\) ma non è più una norma
perché non c'è la diseguaglianza triangolare.

\paragraph{Struttura topologica di uno spazio normato}
Uno spazio normato \({(V, \|\cdot \|)}\) è in particolare uno spazio metrico in
cui la distanza \(d\) è quella indotta dalla norma, ossia \(d(x, y) = \|x -
y\|\). Questa è effettivamente una distanza, ad esempio per la disuguaglianza
triangolare abbiamo che \(d{(x, y)} = \|x - y\| = \| x - z + z - y\| \le \| x-
z\| + \|z - y\| = d{(x, z)} + d{(z, y)}\) per ogni \(x, y, z \in V\). Possiamo
quindi usare la struttura metrica per definire la topologia di \(V\), ossia la
topologia che ha come base le palle aperte rispetto alla distanza, ossia
\[
    \mathcal{B} = \{B_{\varepsilon}(x) : x \in V, \varepsilon > 0\}
\]
Poiché gli aperti di una topologia che ha base \(\mathcal{B}\) sono così caratterizzati:
\[
    A \text{ aperto } \iff \forall x \in A \quad \exists B \in \mathcal{B} : x
    \in B \subseteq A
\]
\begin{proof}[Infatti]
    Sia \(A\) aperto, allora \(A = \bigcup_{i \in I} B_{i}\) con
    \(B_{i} \in \mathcal{B}\), e allora per ogni \(x \in A\), deve essere che
    \(x \in B_{i}\) per qualche \(i\). Viceversa 
    per ogni \(x \in A\), sia \(B_x \) un aperto della base tale che \(x
    \in B_x \subseteq A \), allora evidentemente \(A = \bigcup_{x \in A} B_x\) è
    aperto
\end{proof}
ne consegue che gli aperti di uno spazio normato sono 
\[
    A \subseteq V \text{ aperto } \iff \forall x \in A \quad \exists \delta > 0
    : B_\delta {(x)} = \{y \in V: \|x- y\| < \delta\} \subseteq A 
\]

Una successione convergente in \({(V, \|\cdot \|)}\) è una successione di punti \(\{x_{n}\}
\subseteq V  \) tale che esiste \(x \in V\) tale che \(\|x_{n} -x\| \to 0\) per
\(n \to \infty\).

Un chiuso \(C \subseteq V \) è tale se \(V \sminus C\) è aperto. Nel caso degli
spazi normati, i chiusi sono così caratterizzati:
\[
    C \subseteq V \text{ chiuso } \iff \forall \{x_{n}\} \subseteq C \text{ convergente in } V
    \text{ si ha che } \lim_{n \to \infty} x_{n} \in C    
\]

Un \textbf{sottospazio} \(W\) di un \(\mathbb{K}\)-spazio vettoriale \(V\) è un sottoinsieme
di \(V\) che è un \(\mathbb{K}\)-spazio vettoriale rispetto alle operazioni di \(V\). Ossia è
tale che \(\forall x, y \in W\) e \(\forall \alpha, \beta \in \mathbb{K}\)
allora \(\alpha x + \beta y \in W\). Inoltre un sottospazio vettoriale di uno
spazio normato è a sua volta uno spazio normato, con la stessa norma ristretta
al sottospazio.

\begin{example}
    Sia \(V = \mathbb{R}^{2}\) con la norma euclidea e sia \(W = \{(x, 0) : x
    \in \mathbb{R}\}\) il sottospazio delle ascisse. Allora \(W\) è uno spazio
    normato con la norma euclidea ristretta a \(W\), ossia \(\|x\| = |x|\).
    Anche il sottospazio \(\{0\} \) costituito dal solo vettore nullo è un
    sottospazio di \(V\).

    Altri sottospazi di \(V\) sono ad esempio tutte le rette del tipo \(\{\alpha
    x + \beta y = 0\} \) con \(\alpha\) e \(\beta\) fissati

    Possiamo chiederci quali di questi sottospazi siano chiusi. Allora
    chiaramente \(\{0\} \) è chiuso (in qualsiasi spazio normato), in quanto
    controimmagine attraverso la funzione distanza da \(0\) del chiuso \(\{0\}
    \subseteq \mathbb{R} \) (oppure perché normato \(\implies \) metrico
    \(\implies T1\)). I sottospazi di dimensione 1 sono anche chiusi, in quanto
    controimmagine di \(\{0\} \) attraverso la funzione continua \({(x,y)}
    \mapsto \alpha x + \beta y\).
\end{example}

\begin{example}
    Sia \(V = C^{0}[0, 1]\) con la norma \(\|f\|_{\infty} = \max f([0, 1])\).
    Prendiamo come sottospazio \(X = \{\text{polinomi di qualunque grado su
    \([0, 1]\) }\} \). Allora \(X\) è un sottospazio vettoriale in quanto \(X
    \subseteq V \) e se \(f, g \in X\) allora \(f + g \in X\) e \(\alpha f \in
    X\).

    È chiuso \(X\) in \(V\)? No. Infatti possiamo costruire successioni di
    polinomi che convergano in \({(V, \|\cdot \|_\infty)}\) (convergenza
    uniforme) ma il cui limite non è in \(X\). Ad esempio consideriamo
    \[
        e^{x} = \sum_{n=0}^{\infty} \frac{x^{n}}{n!}
    \]
    che nell'intervallo \([0, 1]\) le ridotte tendono alla funzione \(e^{x}\)
    uniformemente in \([0, 1]\), ma il limite \(e^{x}\) non è un polinomio.
\end{example}

\begin{definition}[Norme equivalenti]
    Date \(\|\cdot \|_a\) e \(\|\cdot \|_b\) norme in \(V\), queste si dicono
    \textbf{equivalenti} se esistono due costanti \(C_{1}, C_{2} >0\) tali che
    \[
        C_{1}\|v\|_a \le \|v\|_b \le C_{2}\|v\|_a \quad \forall v \in V
    \]
\end{definition}
\begin{remark}
    La precedente è una relazione di equivalenza, infatti
    \begin{itemize}
        \item \emph{riflessiva} \(\|v\|_a = \|v\|_a\)
        \item \emph{simmetrica} se \(C_{1}\|v\|_a \le \|v\|_b \le C_{2}\|v\|_a\)
            allora \(\frac{1}{C_{2}}\|v\|_b \le \|v\|_a \le \frac{1}{C_{1}}\|v\|_b\)
        \item \emph{transitiva} se \(C_{1}\|v\|_a \le \|v\|_b \le C_{2}\|v\|_a\)
            e \(C_{3}\|v\|_b \le \|v\|_c \le C_{4}\|v\|_b\) allora
            \(C_{1}C_{3}\|v\|_a \le \|v\|_c \le C_{2}C_{4}\|v\|_a\)
    \end{itemize}
\end{remark}
\begin{proposition}
    Due norme equivalenti inducono la stessa topologia sullo spazio \(V\): gli
    aperti rispetto a una norma sono aperti anche rispetto all'altra, e
    viceversa.
\end{proposition}
\begin{proposition}\label{prop:norme-equivalenti}
    In uno spazio vettoriale \(V\) di dimensione finita tutte le norme sono tra
    loro equivalenti
\end{proposition}
\begin{proof}
    Sia \(V\) di dimensione \(N\). Fissiamo una base \(\{e_{1}, \ldots,
    e_{N}\}\). Ogni elemento \(v \in V\) si può scrivere come \(v =
    \sum_{i=1}^{N} \alpha_{i}e_{i}\) per opportuni scalari \(\alpha_i\). Sia
    \(\|\cdot \|_1\) la norma 1, ossia \(\|v\|_1 = \sum_{i=1}^{N}
    |\alpha_{i}|\). Allora questa è una norma perché è sempre positiva, vale 0
    solo se tutti gli \(\alpha_{i} = 0\), ossia \(v = 0\), vale l'omogeneità
    perché il modulo è omogeneo e vale la diseguaglianza triangolare perché vale
    per il modulo.

    Sia ora \(\|\cdot \|\) una norma qualunque in \(V\).
    \[
        \|v\| = \left\| \sum_{i=1}^{N} \alpha_{i}e_{i} \right\| \le
        \sum_{i=1}^{N} |\alpha_{i}|\|e_{i}\| \le M \sum_{i=1}^{N} |\alpha_{i}| =
        M \|v\|_1
    \]
    per \(\displaystyle M = \max_{1 \le i \le N} \|e_{i}\| \). Ora dobbiamo
    provare che
    \[
        \exists m > 0: \quad \forall x \in V \quad \|x\| \ge m \|x\|_1
    \]
    e la dimostriamo per assurdo. Affermiamo, per assurdo, che 
    \[
        \forall k \in \mathbb{N} \quad \exists x_k \in V \text{ tale che } \|x_k\|_1 > k
        \|x_k\|
    \]
    Notiamo che, in particolare, \(\|x_k\|_1 > 0\) per ogni \(k\), quindi possiamo normalizzare per
    ogni \(k\): 
    \[
        u_k = \frac{x_k}{\|x_k\|_1} \implies \|u_k\|_1 = 1 > k \|u_k\|
    \]
    Rappresentiamo ora \(u_k\) come
    \[
        u_k = \sum_{i=1}^{N} \alpha_{i,k}e_{i} 
    \]
e quindi, per definizione di \(\| \cdot \|_1\), abbiamo \(N\) successioni \({\{\alpha_{i,k}\}}_{k \in \mathbb{N}}\)
    reali o complesse tali che \(\sum_{i=1}^{N} |\alpha_{i,k}| = 1\) e quindi
    tutte le successioni sono limitate. Allora per compattezza ne esiste
    un'estratta \(\{k_n\} \) tale che \(\alpha_{i, k_n} \to \alpha_{i}\) in
    \(\mathbb{R}\) o \(\mathbb{C}\). Abbiamo ora la successione \(u_{k_n}\) che
    quindi converge a \(u = \sum_{i=1}^{N} \alpha_{i}e_{i}\) rispetto a \(\|\cdot \|_1\) e quindi anche rispetto a 
    \(\|\cdot \|\) per la disuguaglianza 
    \[\|\cdot \| \le M \|\cdot \|_1\] 
    dimostrata nella prima parte. Abbiamo che, per \(\|u_k \| < \frac{1}{k}\) e
    per convergenza in \(\| \cdot \|\): 
    \[
        \|u\| \le \|u - u_{k_n} \| + \|u_{k_n} \| < \|u - u_{k_n} \| +
        \frac{1}{k_n} \to 0
    \]
    per cui \(\|u\| = 0\) e quindi \(\mathbf{u = 0}\), ma d'altra parte
    \[
        \left| \|u\|_1 - 1 \right| = \left| \|u\|_1 - \|u_{k_n} \|_1 \right| \le
        \|u - u_{k_n} \|_1 = \sum_{i=1}^{N} |\alpha_{i} - \alpha_{i, k_n}| \to 0 
    \]
    ma allora \(\mathbf{\|u\|_1 = 1}\) che è una contraddizione.
\end{proof}

\begin{example}[Norme non equivalenti]
    Sia \(V = C^{0}[-1, 1]\) con le norme \(\|f\|_{1} = \int_{-1}^{1} |f(x)|dx\)
    e \(\|f\|_{\infty} = \max_{x \in [-1, 1]} |f(x)|\). Queste due norme non sono
    equivalenti, infatti non è vero che esiste \(C > 0\) tale
    che \(\|f\|_\infty \le C \|f\|_1\) per ogni \(f \in V\).
    In particolare vogliamo mostrare che
    \[
        \forall k \in \mathbb{N} \quad \exists f_k \in V : \|f_k\|_\infty > k
        \|f_k\|_1
    \]
\begin{figure}[ht]
    \centering
    \incfig[.4]{triangoli}
    \caption{triangoli}
    \label{fig:triangoli}
\end{figure}
    Se prendiamo funzioni \(f_k\) come in figura~\ref{fig:triangoli} abbiamo che
    il massimo di \(f_k\) è \(k\) e l'integrale è \(\frac{1}{2} \cdot
    \frac{2}{k^2} \cdot k = \frac{1}{k}\). Allora abbiamo che 
    \[
        \frac{\|f_k\|_\infty}{\|f_k\|_1} = \frac{k}{\frac{1}{k}} = k^2 > k
        \text{ per ogni  \(k > 1\) }
    \]
\end{example}

\begin{definition}[Spazio di Banach]
    Uno spazio normato \({(V, \|\cdot \|)}\) si dice \textbf{di Banach} se è
    completo rispetto alla metrica indotta dalla norma
\end{definition}
\begin{example}
    Gli spazi \(\mathbb{R}^{N}\) e \(\mathbb{C}^{N}\) sono spazi di Banach.
\end{example}

\begin{eser}
    Mostrare che \(C^{0}{[-1, 1]}\) con la norma \(\|\cdot \|_\infty\) è
    uno spazio di Banach
\end{eser}

\begin{example}\label{ex:non_banach}
    Su \(V = C^{0}[-1, 1]\), la norma \(\|\cdot \|_1\) non induce uno spazio di
    Banach. Dobbiamo trovare una successione di Cauchy che non converge in
    \(V\), quindi ad esempio trovare una funzione che converga a una funzione
    non continua.
    Prendiamo 
    \[
        f_{n}{(x)} = \frac{2}{\pi}\arctan {(nx)} \overset{n \to
        \infty}{\longrightarrow} \text{sign} x \text{ q.o. }
    \]
    allora \(f_{n}\) è una successione di Cauchy, ossia
    \[
        I_{n,m} := \int_{-1}^{1} |f_{n} - f_{m}| = \int_{-1}^{1} \left| \frac{2}{\pi}
        \arctan {(nx)} - \frac{2}{\pi} \arctan {(mx)} \right| dx \to 0 \text{
        per } n, m \to \infty 
    \]
    infatti
    \begin{align*}
        I_{n,m} &= \int_{-1} ^{1}\left| \frac{2}{\pi}\arctan {(nx)} -
        \text{sign}x + \text{sign}x - \frac{2}{\pi}\arctan {(mx)} \right| \le \\
        &\le \int_{-1} ^{1} \left| \frac{2}{\pi}\arctan {(nx)} - \text{sign}x
        \right| dx + \int_{-1} ^{1} \left| \text{sign}x - \frac{2}{\pi}\arctan
        {(mx)} \right| dx
    \end{align*}
    e vogliamo mostrare che entrambi gli integrali tendono a 0. Prendendo ad
    esempio il primo
    \[
        \int_{-1} ^{1} \left| \frac{2}{\pi}\arctan {(nx)} - \text{sign}x
        \right| dx = 2 \int_{0} ^{1} \left| \frac{2}{\pi}\arctan {(nx)} -
        1\right| dx \to 0 \text{ per } n \to \infty
    \]
    dove per l'ultimo limite possiamo usare sia il teorema della convergenza
    dominata (\ref{thm:Lebesgue_conv_dom}) che il teorema della convergenza
    monotona (\ref{thm:beppo-levi}). Dunque la successione è di Cauchy, ma non
    converge ad una funzione in \(C^{0}[-1, 1]\) 
\end{example}
\begin{eser}
    Sia \(V\) uno spazio vettoriale con due norme \(\|\cdot \|\) e \(\|\cdot
    \|'\) e rispetto a \(\|\cdot \|\) \(V\) è uno spazio di Banach. Mostrare
    che, se le due norme sono equivalenti, allora \(V\) è uno spazio di Banach
    anche con la norma \(\|\cdot \|'\).
\end{eser}
\begin{remark}
    \textit{Se le norme non sono equivalenti, allora si deve tacere.}
\end{remark}

\begin{proposition}
    Se \(V\) è uno spazio normato e \(W \subseteq V \) è un sottospazio
    vettoriale allora \(W\) è uno spazio normato con la norma di \(V\) ristretta
    a \(W\). Inoltre:

\begin{enumerate}[label = \alph*.]
    \item se \(W\) ha dimensione finita allora \(W\) è necessariamente chiuso;
    \item se \(V\) è uno spazio di Banach, allora ogni sottospazio \(W \subseteq
        V\) chiuso risulta esso stesso un Banach rispetto alla norma.
\end{enumerate}
\end{proposition}
\begin{proof} \( \) 
    È chiaro che se \({(V, \|\cdot \|)}\) è normato, la stessa norma su \(W\) è
    una norma, infatti chiaramente valgono ancora le tre proprietà della norma,
    dove semplicemente invece di \(\forall x \in V\) avremo \(\forall x \in W\)
    ma questo non cambia nulla. Inoltre
\begin{enumerate}[label = \alph*.]
    \item Sia \(\{f_{n}\} \subseteq W \), con \(f_{n} \to f\) in \({(V, \|\cdot
        \|)}\). Allora \(f_{n} \to f\) in \({(W \cup \{f\}, \|\cdot \|)}\) (intendendo il minimo spazio vettoriale che contiene \(W\) e \(f\)). Ma
        poiché \(W \cup  \{f\} \) ha dimensione finita, tutte le norme su di
        esso sono equivalenti, allora allora \(f_{n} \to f\)
    anche rispetto ad altre norme. Supponiamo che \({\{e_{i}\}}_{i = 1, \dots, N
    }\) sia una base di \(W\) e supponiamo per assurdo che \(f \not\in W\).
    Allora ogni \(f_{n} = 0\cdot f + \sum_{i=1}^{N} \alpha_{i}^{n} e_{i} \) e poiché
    \(f_{n} \to f\) in norma 1, allora
    \[
        \|f_{n} - f\|_1 \to 0 \iff 0=\lim_{n \to \infty} |0 - 1| + \sum_{i=1}^{N}
        |\alpha_{i}^{n} - 0| \ge  1
    \]
    che è assurdo, quindi \(f \in W\), ossia \(W\) è chiuso.
        
    \item Sia \(\{f_{n}\} \) una successione di Cauchy in \(W\) con la norma
        \(\|\cdot \|\). Quindi \(f_{n} \in W\) per ogni \(n \in \mathbb{N}\) e
        \(\| f_{n} - f_{m}\| \to 0\) per \(n, m\to \infty\). Segue quindi che
        \(f_{n}\) è di Cauchy in \({(V, \| \cdot \|)}\) e quindi, essendo \(V\)
        completo, esiste \(f \in V\) tale che \(\|f_{n} - f\| \to 0\) per \(n
        \to \infty\). Dobbiamo mostrare che \(f \in W\) ma poiché \(W\) è chiuso
        questo è ovvio.
\end{enumerate}

\end{proof}

\begin{example}[\(W \subseteq V \), \(W\) Banach, \(V\) no]
    È possibile che \(W\) sia uno spazio di Banach mentre \(V\) no. Ad esempio
    sia \(V = C^{0}[-1, 1]\) con la norma \(\|\cdot \|_1\). Sappiamo che non è
    uno spazio di Banach per l'esempio~\ref{ex:non_banach}. Sia \(W = \{f \in V
    : f{(x)} = \alpha \in \mathbb{R} \} \) il sottospazio delle funzioni
    costanti. È un sottospazio perché se \(a, b \in  W\) allora anche
    \(\alpha a + \beta b\) è una funzione costante. Inoltre \(W\) è completo in
    quanto omeomorfo a \(\mathbb{R}\) con la norma euclidea, che è completo. 
    \footnote{In realtà la completezza non è una proprietà topologica, bisognerebbe giustificare meglio, 
    ma è un ottimo modo per ricordare le sagge parole del Manetti \dots }
\end{example}

\begin{example}
    Prendiamo \(V = C^{0}[-1, 1]\) con la norma \(\|\cdot \|_\infty\) che rende
    \(V\) uno spazio di Banach. Consideriamo lo spazio \(W\) dei polinomi che
    non è chiuso in \(V\) perché contiene tutti i polinomi di Taylor di
    \(e^{x}\) ma non la funzione limite \(e^{x}\). In realtà, \(W\) è
    \textbf{denso} in \(V\), ossia
    \[
        \forall f \in V \quad \forall \varepsilon > 0 \quad \exists g \in W :
        \| f - g\|_\infty < \varepsilon
    \]
    oppure 
    \[
        \forall f \in V, \quad \exists \{g_{n}\} \subseteq W \text{ tale che }
        \lim_{n \to \infty} \| f - g_{n}\|_\infty = 0
    \]
    (poiché \(W \neq V\) chiaramente se è denso non è chiuso) 

    Alcuni sottospazi chiusi di \(V\) invece sono ad esempio
\begin{itemize}[label = --]
    \item i sottospazi di dimensione finita (e.g.~polinomi di grado 10)
    \item \(Z = \{f \in C^{0}[-1, 1]: f{(0)} = 0\}  \) infatti se \(f_{n} \to
        f\) in \({(V, \|\cdot \|_\infty)}\) allora \(f_{n} \to \) uniformemente
        e quindi puntualmente e quindi \(f{(0)} = \lim_{n \to \infty} f_{n}{(0)}
        = 0\)
\item \(T = \{f \in C^{0}[-1, 1] : \int_{-1}^{1} f{(t)}dt = 0\}  \) è chiuso
        infatti se \(f_{n} \to f\) uniformemente e \(\int_{-1}^{1} f_{n}{(t)}dt
        = 0 \to \int_{-1}^{1}f{(t)}dt = 0\) perché c'è convergenza uniforme
\end{itemize}
\end{example}

\newpage
\subsection{Spazi \(L^{p}\) }
\begin{definition}[Spazio \(L^p\)]
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura. Per \(p \in [1,
    +\infty)\) definiamo lo spazio \(L^{p}(\Omega, \mathcal{M}, \mu)\) come lo
    spazio delle funzioni misurabili \(f : \Omega \to \mathbb{K}\) tali che
    \[
    \int_{\Omega} |f|^{p} d\mu < +\infty
    \]
    Se \(p = +\infty\) allora \(L^{+\infty}(\Omega, \mathcal{M}, \mu)\) è lo
    spazio delle funzioni misurabili \(f : \Omega \to \mathbb{K}\) e
    \textbf{essenzialmente limitate}, ossia tali che
    \[
        \exists M > 0 \quad \text{tale che} \quad |f(x)| \le M \quad
        \forall x \in \Omega \sminus N, \quad \mu(N) = 0
    \]
    ossia che \(f\) è limitata \(\mu\)-q.o.
\end{definition}
\begin{note}
    Se \(p=1\) allora \(|f|\) è integrabile se e solo se \(f\) è integrabile, in
    altre parole \(f \in L^{1} \iff |f| \in L^{1}\). Questo è un caso
    particolare
\end{note}
\begin{note}
    Vedremo che, per \(1 \le p \le p' < +\infty\) si ha che che \(f \in L^{p'}
    \implies f \in L^{p}\). Questo non vale evidentemente per \(p' = \infty\).
    Infatti ad esempio per \(f = 1\) su \(\Omega = \mathbb{R}^{N}\) abbiamo che
    evidentemente \(f\) è limitata quindi \(f \in L^{+\infty}\), ma \(f \notin
    L^{p}\) per ogni \(p \in [1, +\infty)\) 
\end{note}
Gli elementi degli spazi \(L^{p}\) non sono funzioni, ma classi di funzioni,
equivalenti \(\mu\)-q.o.
\begin{remark}
    Ogni spazio \(L^{p}\) è uno spazio vettoriale. L'unica condizione che non è
    ovvia è verificare che se \(f, g \in L^{p}\) allora \(f+g \in L^{p}\).
    Infatti se \(p = +\infty\) allora è ovvio che \(f+g\) è limitata
    \(\mu\)-q.o.~Se \(p < +\infty\) allora 
    \[
    |f+g|^{p} \le {(|f| + |g|)}^{p} \le 2^{p}
    \max \left\{ |f|^{p}, |g|^{p} \right\} \le 2^{p} (|f|^{p} + |g|^{p})
    \]
    Ne consegue che \(f+g \in L^{p}\), infatti
    \[
        \int_{\Omega} |f+g|^{p} d\mu \le 2^{p} \int_{\Omega} (|f|^{p} + |g|^{p})
        d\mu < 2^{p} {\left( \int_\Omega |f|^{p} d\mu + \int_\Omega |g|^{p} d\mu
        \right)} < +\infty
    \]
\end{remark}
\begin{proposition}\label{prp:spazio-Lp-normato}
    Sia \((\Omega, \mathcal{M}, \mu)\) uno spazio di misura. Allora per ogni
    \(p \in [1, +\infty]\) lo spazio \(L^{p}(\Omega, \mathcal{M}, \mu)\) è uno
    spazio normato con norma
    \[
        \|f\|_p = 
        \begin{cases}
            \displaystyle
            {\left( \int_{\Omega} |f|^{p} d\mu
            \right)}^{\frac{1}{p}} & \text{se } p \in [1, +\infty) \\
            \inf \{M > 0 : |f| \le M \quad \mu\text{-q.o.} \} & \text{se } p = +\infty
        \end{cases}
    \]
\end{proposition}
\begin{proof}
    Dividiamo la dimostrazione nel caso \(p < +\infty\) e \(p = +\infty\) 

    \paragraph{Caso \(p < +\infty\):}
\begin{itemize}[label = --]
    \item La norma è ben definita perché se \(f = g\) q.o.~allora \(|f|^{p} =
        |g|^{p}\) q.o.~e quindi \(\int_{\Omega} |f|^{p} d\mu = \int_{\Omega}
        |g|^{p} d\mu\) e di conseguenza \(\|f\|_p = \|g\|_p\) 
    \item \emph{Definita positività} \(\|f\|_p = 0 \iff \int_{\Omega} |f|^{p}
        d\mu = 0 \iff |f|^{p} = 0 \quad \mu\text{-q.o.} \iff |f| = 0 \quad
        \mu\text{-q.o.} \iff f = 0 \quad \mu\text{-q.o.}\)
    \item \emph{Omogeneità} \(\|\lambda f\|_p = {\left( \int_{\Omega} |\lambda
        f|^{p} d\mu \right)}^{\frac{1}{p}} = {\left( \int_{\Omega} |\lambda |
        |f|^{p} d\mu \right)}^{\frac{1}{p}} = |\lambda| {\left( \int_{\Omega}
        |f|^{p} d\mu \right)}^{\frac{1}{p}} = |\lambda| \|f\|_p\)
    \item \emph{Diseguaglianza triangolare} meno banale delle precedenti,
        dimostrata più avanti come diseguaglianza di
        Minkowski~\ref{prop:minkowski}.
\end{itemize}
\paragraph{Caso \(p = +\infty\):}
\begin{itemize}[label = --]
    \item La norma è ben definita perché se \(f = g\) q.o.~allora ogniqualvolta
        \(M\) è maggiorante quasi ovunque di \(f\) lo è anche di \(g\), e quindi
        \(\|f\|_{\infty} = \|g\|_{\infty}\) perché sono l'\(\inf\)  dello stesso
        insieme. Inoltre in realtà è evidentemente un \(\min\).
    \item \emph{Definita positività} \(\|f\|_{\infty} = 0 \iff \inf \{M > 0 : |f|
        \le M \quad \mu\text{-q.o.} \} = 0 \iff |f| \le 0 \quad \mu\text{-q.o.}
        \iff f = 0 \quad \mu\text{-q.o.}\)
    \item \emph{Omogeneità} \(\|\lambda f\|_{\infty} = \inf \{M > 0 : |\lambda f| \le M
        \quad \mu\text{-q.o.} \} = \inf \{|\lambda| M > 0 : |f| \le M \quad
        \mu\text{-q.o.} \} = |\lambda| \inf \{M > 0 : |f| \le M \quad
        \mu\text{-q.o.} \} = |\lambda| \|f\|_{\infty}\)
    \item \emph{Diseguaglianza triangolare} Evidente, infatti ogni costante che
        maggiori \(|f| + |g|\) necessariamente maggiora \(|f + g|\) ed è almeno
        \(\|f\|_\infty + \|g\|_\infty\).
\end{itemize}
\end{proof}

\begin{proposition}[Diseguaglianza di Young]\label{prp:Young}
    Sia \(1 \le p \le \infty\) e \(p'\) tale che \(\frac{1}{p} + \frac{1}{p'} =
    1\), con la convenzione che \(\frac{1}{\infty} = 0\). Allora per ogni \(a,
    b \in \mathbb{R}_{\ge 0} \) vale che \(ab \le \frac{1}{p} a^{p}
    +\frac{1}{p'} b^{p'}\).
\end{proposition}
\begin{proof}
    Se \(a=0\) o \(b=0\) allora la disuguaglianza è ovvia. Supponiamo quindi che
    \(a, b > 0\). Osserviamo che il logaritmo è una funzione concava su \(R_{>0}
    \) e quindi \(\ln(tx + (1-t)y) \ge t \ln x + (1-t) \ln y\) per ogni \(x, y >
    0\) e \(t \in [0, 1]\). Applichiamo questa disuguaglianza con \(x = a^{p}\),
    \(y = b^{p'}\), \(t = \frac{1}{p}\), \((1-t) = 1 - \frac{1}{p} =
    \frac{1}{p'}\). Otteniamo
    \[
        \ln\left(\frac{1}{p} a^{p} + \frac{1}{p'} b^{p'}\right) \ge \ln a + \ln b \implies
        \frac{1}{p} a^{p} + \frac{1}{p'} b^{p'} \ge ab
    \]
    dove l'ultima uguaglianza è per la monotonia del logaritmo.
\end{proof}

\begin{definition}[Esponenti coniugati]
\label{def:coniugati}
    Se \(1 \le p, p' \le \infty\) verificano \(\frac{1}{p} + \frac{1}{p'} = 1\)
    anche in senso generalizzato, ossia se \(p = 1\) e \(p' = +\infty\) o \(p =
    \infty \) e \(p' = 1\), allora si dicono \textbf{esponenti coniugati}.
\end{definition}

\begin{theorem}[Diseguaglianza di Hölder]\label{thm:Holder}
    Siano \(p, p' \in [1, \infty]\) esponenti coniugati. Allora se \(f \in
    L^{p}{(\Omega)}\), \(g \in L^{p'}{(\Omega)}\) allora \(f\cdot g \in
    L^{1}{(\Omega)}\) e vale
    \[
        \|fg\|_1 \le \|f\|_p \cdot \|g\|_{p'}
    \]
\end{theorem}
\begin{proof}
    Se \(p = 1\) o \(p = +\infty\) allora è semplice. Supponiamo
    ad esempio \(p = 1\), 
    \[
        |fg|{(x)} \le |f|{(x)}|g|{(x)} \le |f|{(g)} \|g\|_{\infty} \quad \text{
        q.o.}
    \]
    quindi \(fg\) è dominata da una funzione integrabile ed è dunque
    integrabile, inoltre
    \[
        \|fg\|_1 = \int_\Omega |fg| d\mu \le \|g\|_\infty \int_\Omega |f| d\mu = \|f\|_1 \cdot \|g\|_\infty
    \]

    Sia ora \(p \in (1, \infty)\). Se \(f\) o \(g\) è la funzione nulla allora
    la diseguaglianza è ovvia, quindi supponiamo \(\|f\|_p \neq 0 \neq
    \|g\|_{p'} \). Ora dividiamo in due passi
\begin{enumerate}[label = \arabic*.]
    \item \(u\), \(v\) nelle stesse ipotesi di \(f\) e \(g\) ma con \(\|u\|_p =
        1 = \|v\|_{p'} \). Allora
        \[
            |uv{(x)}| \le  \frac{1}{p}|u{(x)}|^{p} + \frac{1}{ p' }|v{(x)}|^{p'}
            \quad \text{(Young~\ref{prp:Young})}
        \]
        quindi \(uv \in L^{1}(\Omega)\) in quanto dominata da funzione somma di
        funzioni integrabili. Allora abbiamo
        \[
            \|uv\|_1 = \int_\Omega |uv| d\mu \le \frac{1}{p} \int_\Omega |u|^{p} d\mu +
            \frac{1}{p'} \int_\Omega |v|^{p'} d\mu = \frac{1}{p} + \frac{1}{p'}
            = 1 = \|u\|_p \|v\|_{p'}
        \]
    \item \(f, g\) generiche. Sia \(M = \|f\|_p\) e \(N = \|g\|_{p'}\). Allora
        \(\frac{f}{M}, \frac{g}{N} \in L^{p}\) e \(L^{p'}\) rispettivamente e
        \(\left\| \frac{f}{M} \right\|_p = 1 = \left\| \frac{g}{N} \right\|_{p'}\).
        Applichiamo il punto precedente a \(\frac{f}{M}\) e \(\frac{g}{N}\) e
        otteniamo che \(fg \in L^{1}\) e inoltre
        \[
            \left\| \frac{f}{M} \cdot \frac{g}{N} \right\|_1 \le 1 \implies
            \frac{1}{MN} \|fg\|_1 \le 1 \implies \|fg\|_1 \le MN = \|f\|_p \cdot
            \|g\|_{p'}
        \]
\end{enumerate}
\end{proof}

\begin{proposition}[Minkowski o disuguaglianza triangolare]\label{prop:minkowski}
    Se \(f, g \in L^{p}{(\Omega)}\) allora \(f + g \in L^{p}{(\Omega)}\) e
    \[
        \|f+g\|_p \le \|f\|_p + \|g\|_p
    \]
\end{proposition}
\begin{proof}
    Già sappiamo che \(f+g \in L^{p}{(\Omega)}\). Allora
    \begin{equation*}
        \int_\Omega |f+g|^{p} d\mu = \int_\Omega |f+g|^{p-1} |f+g| d\mu \le
        \int_\Omega \underbrace{|f+g|^{p-1}}_{:= w} |f| d\mu + \int_\Omega |f+g|^{p-1} |g| d\mu
    \end{equation*}
    Affermiamo che \(w \in L^{p'}{(\Omega)}\), infatti
    \[
        \int_\Omega |w|^{p'} d\mu = \int_\Omega |f+g|^{(p-1)p'} d\mu = \int_\Omega |f+g|^{p} d\mu
    \]
    dove si è usato che \(\frac{1}{p} + \frac{1}{p'} = 1 \implies p' + p =
    pp'\). Troviamo quindi
    \[
        \|w\|_{p'} = {\left( \int_\Omega |f+g|^{p}d\mu \right)}^{\frac{1}{p'} =
        \frac{p-1}{p}} = \|f + g\|_p^{p-1}
    \]
    Ora possiamo applicare Hölder~\ref{thm:Holder} e ottenere
    \[
        \|f+g\|_p^{p} \le \|w\|_{p'} \|f\|_p + \|w\|_{p'} \|g\|_p =
        \|f+g\|_p^{p-1}{\left( \|f\|_p + \|g\|_p \right)} 
    \]
    e infine dividendo per \(\|f+g\|^{p-1}\) otteniamo la diseguaglianza
    triangolare
\end{proof}
Con la precedente proposizione abbiamo concluso la dimostrazione
di~\ref{prp:spazio-Lp-normato}, ossia che \(L^{p}\) è uno spazio
normato.

\begin{theorem}[\(L^p\) è Banach ]\label{thm:completezza_Lp}
    Per ogni \(p \in [1, \infty]\), lo spazio \(L^{p}(\Omega, \mathcal{M},
    \mu)\) è uno spazio di Banach
\end{theorem}
\begin{proof}[Dimostrazione per \(p=+\infty\)]
    Sia \(\{f_{n}\} \subseteq L^{\infty}{(\Omega)} \) una successione di Cauchy.
    Quindi 
    \begin{equation}\label{eq:helper_compllp}
        \forall k \in \mathbb{N} \quad \exists n_k \in \mathbb{N} \quad
        \text{tale che} \quad \forall n, m \ge n_k \implies \|f_{n} -
        f_{m}\|_\infty \le  \frac{1}{k}
    \end{equation}
    cioè \(|f_{n}{(x)} - f_{m}{(x)}| \le \frac{1}{k}\) per ogni \(x \in \Omega
    \sminus N_{k, n, m} \), con \(N_{k, n, m} \) trascurabile. Consideriamo ora
    l'insieme
    \[
        N = \bigcup_{k \in \mathbb{N}} \bigcup_{n, m \ge n_k} N_{k, n, m}
    \]
    \(N\) è unione numerabile di trascurabili e quindi è trascurabile.
    Allora, per~\eqref{eq:helper_compllp}, si ha \(|f_{n}{(x)} - f_{m}{(x)}| \le
    \frac{1}{k}\) per ogni \(x \in
    \Omega \sminus N\).
    Questo significa che \(\{f_{n}{(x)}\} \in \mathbb{R}\) è di Cauchy e quindi
    convergente per ogni \(x \in \Omega \sminus N\) e introduciamo la funzione
    \[
        f(x) = \lim_{n\to \infty} f_{n}{(x)} \quad \forall x \in \Omega \sminus N
    \]
    che è misurabile perché limite di funzioni misurabili. Ora portando \(m \to
    \infty\) nella diseguaglianza precedente otteniamo
    \begin{equation}\label{eq:helper_compllp2}
        |f_{n}{(x)} - f{(x)}| \le \frac{1}{k} \quad \forall x \in \Omega \sminus N
    \end{equation}
    ci resta da dimostrare che \(f \in L^{\infty}(\Omega)\) e che \(f_{n} \to
    f\) in \(L^{\infty}{(\Omega)}\). La prima è vera, perché ad esempio
    \[
        |f{(x)}| \le |f_{n_k}{(x)}| + |f{(x)} - f_{n_k} {(x)}| \le \|f_{n_k}\|_\infty +
        \frac{1}{k} \quad \forall x \in \Omega \sminus N
    \]
    e la seconda pure, infatti ora riprendendo la~\eqref{eq:helper_compllp2} e
    la~\eqref{eq:helper_compllp} otteniamo
    \[
        \forall k \in \mathbb{N} \quad \exists n_k \in \mathbb{N} : \forall n
        \ge n_k \quad \|f - f_{n}\|_\infty \le \frac{1}{k} \quad \forall x \in \Omega \sminus N
    \]
    
\end{proof}
\begin{proof}[Dimostrazione con \(1 \le p < +\infty\)]
    Sia \(f_{n}\) una successione di Cauchy in \(L^{p}\), ossia
    \begin{equation}\label{eq:cauchy_lp}
        \forall \varepsilon > 0 \quad \exists n_\varepsilon \in \mathbb{N} \quad
        \text{tale che} \quad m, n \ge n_\varepsilon \implies \|f_{m} -
        f_{n}\|_{p} < \varepsilon
    \end{equation}
    Vogliamo trovare un'estratta convergente. Consideriamo
    \[
    \begin{aligned}
        n_1 &:= n_{\varepsilon = \frac{1}{2}} &&\leadsto f_{n_1}, \\
        n_2 &:= \max\left\{n_{\varepsilon = \frac{1}{2^2}}, n_1 + 1\right\} &&\leadsto f_{n_2}, \\
        &\vdots \\
        n_k &:= \max\left\{n_{\varepsilon = \frac{1}{2^k}}, n_{k-1} + 1\right\} &&\leadsto f_{n_k}.
    \end{aligned}
    \]
    e abbiamo che
    \[
        \|f_{n_{k+1}} - f_{n_k} \|_p \le \frac{1}{2^{k}} \quad \forall k \in
        \mathbb{N}
    \]
    Definiamo ora 
    \[u_k := f_{n_k} \] 
    vogliamo mostrare che \(u_k\) converge in \(L^{p}\) a qualche elemento
    \(f\). A tale scopo sia
    \[
        g_k(x) := \sum_{i=1}^{k} \left| u_{i+1} {(x)} - u_{i}{(x)} \right|  
    \]
    che è la ridotta di una serie a termini non negativi e inoltre ogni \(g_k
    \in L^{p}(\Omega)\) per la struttura di spazio vettoriale. Inoltre
    \[
        \|g_k\|_p = \sum_{i=1}^{k} \|u_{i+1} -u_{i}\|_p \le \sum_{i=1}^{k}
        \frac{1}{2^{i}} \le 1 \implies \int_{\Omega} \underbrace{\left| g_k
        \right|^{p}}_{=:h_k} d\mu
        \le 1
    \]
    Allora \(h_k := |g_k|^{p}\) è una successione monotona crescente a termini
    non negativi.
    Quindi per Beppo Levi (Teorema~\ref{thm:beppo-levi})
possiamo concludere che esiste \(h\) misurabile e non negativa tale
che 
\[
    h(x) = \lim_{k\to \infty} h_k(x) \text{ e } \int_{\Omega} h d\mu =
    \lim_{k\to \infty} \int_{\Omega} h_k d\mu \le 1
\]
Siccome \(\int_{\Omega} |g(x)|^{p} d\mu \le 1 \), 
\[\exists g \in L^p: \quad g_k \overset{\text{q.o.}}{\rightarrow} g\]
Abbiamo che, se \(n > m\) 
\begin{equation}\label{eq:cauchy_lp_pf1}
    \begin{aligned}
        \left| u_n(x) - u_m(x) \right| 
        &\le \sum_{i=m}^{n-1} \left| u_{i+1}(x) - u_i(x) \right| \\
        &= g_{n-1}(x) - g_{m-1}(x) \\
        &\le g(x) - g_{m-1}(x).
    \end{aligned}
\end{equation}   
per \(x \in \Omega\) fissato \(\{u_{k} {(x)}\} \) è una successione di Cauchy e
dunque possiamo definire una funzione
\[
    f(x) = \lim_{k\to \infty} u_{k}{(x)} \quad \forall x \in \Omega 
\]
Infine vogliamo controllare che \(f \in L^{p}{(\Omega)}\) e che \(u_k \to f\) in
\(L^{p}{(\Omega)}\). Passando al limite per \(n\to \infty\)
in~\eqref{eq:cauchy_lp_pf1} otteniamo
\[
    |f(x) - u_{m}{(x)}| \le g(x) - g_{m-1}{(x)} \le g(x)
    \implies 
    |f(x)| \le |u_{n}{(x)}| + g{(x)} 
\]
e quindi \(f \in L^{p}\) perché è dominata da una funzione \(L^{p}\), in quanto
somma di due tali funzioni. D'altra parte, sempre da~\eqref{eq:cauchy_lp_pf1}, portando
anche \(m\to \infty\) otteniamo che il secondo membro tende a 0, e quindi
\(u_{m}\to f\) q.o.~in \(\Omega\). Inoltre
\[
    \left| f(x) - u_{m}{(x)} \right|^{p} \le \left| g{(x)} \right|^{p}
    \in L^{1}{(\Omega)}
\]
e possiamo applicare il teorema~\ref{thm:Lebesgue_conv_dom} di convergenza
dominata di Lebesgue per cui
\[
    \lim_{m\to \infty} \int_{\Omega} \left| f(x) - u_{m}(x) \right|^{p} d\mu = 0
    \iff \|f-u_m\|_p^p \rightarrow 0 \iff u_m \overset{L^p}{\rightarrow} f
\]
\end{proof}
\begin{corollary}\label{cor:conv_lp_sottosucc}
    Sia \(\{f_{n}\} \) una successione convergente a \(f \in L^{p}{(\Omega)}\).
    Allora esistono una sottosuccessione \(\{f_{n_k}\} \) e una funzione \(w \in
    L^{p}{(\Omega)}\) tali che 
\begin{enumerate}[label = \arabic*.]
    \item \(f_{n_k} \to f\) q.o.~in \(\Omega\)
    \item \(\left| f_{n_k} {(x)} \right| \le w{(x)} \) q.o.~ per \(x \in \Omega\)
\end{enumerate}
\end{corollary}
\begin{proof}
    Se \(f_{n}\to f\) in \(L^{p}{(\Omega)}\) allora è di Cauchy in \(L^{p}\) e
    quindi, come si può evincere dalla dimostrazione del teorema, esiste
    un'estratta \(u_k := f_{n_k} \) tale che \(u_k\) converge q.o.~a una
    funzione \(\tilde{f}\) e inoltre, per \(g\) definito come nella
    dimostrazione del teorema,
\[
    \left| \tilde{f}{(x)} - u_k{(x)} \right| \le g(x) \quad \forall k \in
    \mathbb{N} \implies 
    \left| u_k{(x)} \right| \le \left| \tilde{f}{(x)} \right| +g{(x)}
\]
per cui possiamo prendere \(w{(x)} = \left| \tilde{f}{(x)} \right| + g{(x)} \in
L^{p}{(\Omega)}\). Ci rimane da controllare che \(f \equiv \tilde{f}\) q.o.~in
$\Omega$: questo è vero in quanto \(u_k\) converge in \(L^{p}\) sia a \(f\) (per
ipotesi) che a \(\tilde{f}\) (per quanto appena detto) dunque per l'unicità del
limite \(f \) e \(\tilde{f}\) devono appartenere alla stessa classe di funzioni
in \(L^{p}\).

Per \(p=+\infty\) la tesi vale più banalmente.
\end{proof}

\begin{remark}
    Convergenza in \(L^{\infty}\) implica convergenza quasi uniforme
\end{remark}

Si può rafforzare il corollario~\ref{cor:conv_lp_sottosucc} per dire che tutta la successione converge quasi
ovunque? \textbf{No.} Consideriamo ad esempio la successione
\begin{align*}
    f_{1} &= \rchi_{[0, 1]}, \quad f_{2} = \rchi_{[0, \frac{1}{2}]}, \quad f_{3} =
    \rchi_{[\frac{1}{2}, 1]} \\
    f_{4} &= \rchi_{[0, \frac{1}{3}]}, \quad f_{5} = \rchi_{[\frac{1}{3},
    \frac{2}{3}]}, \quad f_{6} = \rchi_{[\frac{2}{3}, 1]} \\ 
          &\vdots
\end{align*}
Questa successione converge a \(0\) in \(L^{p}(0,1)\) per ogni \(1 \le p <
\infty\), infatti 
\[
    \int_{0}^{1} |f_{n} - 0|^{p} dx = \int_{0}^{1} |f_{n}|^{p} dx = \frac{1}{k_n}
    \to 0
\]
tuttavia non converge quasi ovunque a \(0\), infatti per ogni \(x \in (0, 1)\)
la successione \(f_{n}{(x)}\) non ha limite perché non smette mai di assumere
anche il valore \(1\).
\begin{proposition}[Convergenze]\label{prop:converenze_Lp} \( \) 
\begin{enumerate}[label = \arabic*.]
    \item \[
        \text{ Conv.~in \(L^{\infty}\)  } \implies \text{ conv.~q.u } \implies
        \begin{cases}
            \text{conv.~q.o.} \\
            \text{conv.~in misura}
        \end{cases}
    \]
    \item Conv.~in \(L^{p}{(\Omega)}\) per \(1 \le p< \infty\) \(\implies \)
        conv.~q.o.~per un'estratta (come la convergenza in misura)
    \item Conv.~in \(L^{p}{(\Omega)}\) per \(1 \le p < \infty\) \(\implies\)
        Conv.~in misura
    \item Se \(\mu{(\Omega)} < +\infty\) e \(1 \le p < q \le \infty\) allora
        \(L^{q}{(\Omega)} \subseteq L^{p}{(\Omega)}\) e si ha che esiste una
        costante \(C > 0\) per cui
        \[
            \|f\|_p \le C \|f\|_q \quad \forall f \in L^{q}{(\Omega)}
        \]
\end{enumerate}
\end{proposition}
\begin{proof}
\begin{enumerate}[label = \arabic*.]
    \item Dimostrato nei Teoremi~\ref{thm:qu_qo} e~\ref{thm:2}
    \item Dimostrato in corollario~\ref{cor:conv_lp_sottosucc}
    \item Sia \(f_n \rightarrow f\) in \(L^p\). Definiamo
        \[A_n := \{x \in \Omega: \quad |f_n(x) - f(x)| > \varepsilon\}\]
        e quindi abbiamo
        \[
            \begin{aligned}
                \varepsilon^p \mu(A_n)
                &= \int_{A_n} \varepsilon^p \, d\mu
                \le \int_{A_n} |f_n(x) - f(x)|^p \, d\mu \\
                &\le \int_{\Omega} |f_n(x) - f(x)|^p \, d\mu
                = \|f_n - f\|_p^p \to 0.
            \end{aligned}
            \]
        e quindi \(\mu(A_n) \rightarrow 0\) e quindi c'è convergenza in misura.  
    \item Sia \(f \in L^{q}{(\Omega)}\). Allora, usiamo la
        diseguaglianza di Hölder~\ref{thm:Holder} con esponenti \(\frac{q}{p}\) e \(\frac{q}{q-p}\) (che chiaramente sono coniugati):
    \[
        \int_{\Omega} \left| f \right|^{p} d\mu = \int_{\Omega} 1 \cdot
        |f|^{p}d\mu \le {\left( \int_{\Omega} 1^{\frac{q}{q-p}}
        \right)}^{\frac{q-p}{q}} {\left( \int_{\Omega} {\left( |f|^{p}
        \right)}^{\frac{q}{p}}  \right)}^{\frac{p}{q}}
    \]
    Da cui troviamo 
    \[
    \|f\|_p^{p} \le {\mu(\Omega)}^{1 - \frac{p}{q}} \|f\|_q^{p} \implies
    \|f\|_p \le {\mu(\Omega)}^{\frac{1}{p} - \frac{1}{q}} \|f\|_q
    \]
    Se \(q = \infty\) invece abbiamo 
    \[
        \int_\Omega |f|^{p} d\mu \le \int_{\Omega} \|f\|^{p}_{\infty} d\mu =
        \mu(\Omega) \|f\|_{\infty}^{p} \implies \|f\|_p \le
        {\mu(\Omega)}^{\frac{1}{p}} \|f\|_{\infty}
    \]
    \end{enumerate}
\end{proof}
\begin{example}
    Nella 4. è importante richiedere \(\mu{(\Omega )} < +\infty\). Ad esempio se
    \(\Omega = \mathbb{R}\) e \(f{(x)} = 1\) abbiamo che \(f \in L^{\infty}\) ma
    \(f \not\in L^{p}{(\mathbb{R})}\) per ogni \(1 \le p < \infty\) 
\end{example}
\begin{example}
    L'altra inclusione è falsa. Ad esempio se \(f{(x)} =
    \frac{1}{|x|^{\alpha}} \rchi_{[-1,1]}{(x)} \) per \(\alpha < 1\) è
    integrabile ma non è limitata, quindi \(f \in L^{1}\) ma \(f\not\in L^{\infty}\) 
\end{example}
\begin{proposition}
    Se \(\mu{(\Omega)} = +\infty\) e \(f \in L^{1}{(\Omega)} \cap
    L^{\infty}{(\Omega)}\) allora \(f \in L^{p}{(\Omega)}\) per ogni \(1 \le p
    \le +\infty\) e
    \[
        \|f\|_p \le \|f\|_1^{\theta} \|f\|_{\infty}^{1-\theta} 
    \]
    per un certo \(\theta \in {(0,1)}\).
\end{proposition}
\begin{proof}
    Notiamo che \(|f|^{p} = |f||f|^{p-1} \le |f| \|f\|_\infty^{p-1}\). Ne
    consegue che \(|f|^{p }\) è integrabile e inoltre
    \[
        \int_\Omega |f|^{p} d\mu \le \|f\|_\infty^{p-1} \int_\Omega |f| d\mu =
        \|f\|_\infty^{p-1} \|f\|_1
    \]
    ora elevando il tutto alla \(1/p\) otteniamo
    \[
        \|f\|_p \le \|f\|_\infty^{1-1/p} \|f\|_1^{1/p}
    \]
    ossia \(\displaystyle \theta = \frac{1}{p}\) e \(\displaystyle 1 - \theta = \frac{1}{p'}\) 
\end{proof}
\begin{corollary}
    Se \(\mu{(\Omega)} = +\infty\) e \(f_{n} \to f\) in \(L^{1}{(\Omega)}\) e
    in \(L^{\infty}{(\Omega)}\) allora \(f_{n} \to f\) in \(L^{p}{(\Omega)}\)
    per ogni \(p \in (1, \infty)\).
\end{corollary}
\begin{proof}
    Per la proposizione precedente
    \[
        \|f_{n} -f\|_p \le  \|f_{n} - f\|_1^{\frac{1}{p}} \|f_{n} -
        f\|_{\infty}^{1-\frac{1}{p}}
    \]
    da qui la tesi. Notare che in realtà le ipotesi potrebbero essere
    alleggerite a chiedere solo una delle due convergenze, purché l'altra sia
    finita.
\end{proof}
\begin{note}
    Le convergenze q.o., q.u.~e in misura non richiedono che le funzioni della
    successione o la funzione limite appartengano a un qualche spazio \(L^{p}\).
\end{note}

\subsection{Spazi di Hilbert}
Per questo capitolo userò la notazione \(\mathbb{K} = \mathbb{R}\) o
\(\mathbb{C}\) quando non è importante specificare il campo su cui lavoriamo.
\begin{definition}[Spazio prehilbertiano]
    Uno spazio vettoriale \(H\) su \(\mathbb{K}\) dotato di un
    prodotto scalare \(\langle \cdot, \cdot \rangle\) si chiama \textbf{spazio
    prehilbertiano}. In particolare l'applicazione
    \[
        \langle \cdot, \cdot \rangle : H \times H \to \mathbb{K}
    \]
    verifica le seguenti proprietà:
\begin{enumerate}[label = \roman*)]
    \item \emph{(positività)} \(\langle x, x \rangle \ge 0 \quad \forall x \in H\)
    \item \emph{(definita positività)} \(\langle x, x \rangle = 0 \iff x = 0\)
    \item \emph{(linearità rispetto alla prima componente)} \(\left< \alpha x + \beta y, z \right> = \alpha \left<
        x, z\right> + \beta \left<y, z \right>\), \(\forall x, y, z \in H\) e
        \(\forall \alpha, \beta \in \mathbb{K}\) 
    \item \emph{(simmetria / coniugio)} \(\left< x, y \right> = \overline{\left<
        y, x \right>}\), \(\forall x, y \in H\) 
\end{enumerate}
\end{definition}
\begin{remark}
    Da \(iii)\) e \(iv)\) otteniamo che, per ogni \(x, y, z \in H\) e \(\alpha,
    \beta \in \mathbb{K}\) 
    \[
        \left<x, \alpha y + \beta z \right> \overset{iii)}{=}
        \overline{\left<\alpha y + \beta z \right>} \overset{iv)}{=}
        \overline{\alpha} \left<x, y
        \right> + \overline{\beta} \left<x, z \right>
    \]
\end{remark}
\begin{theorem}[Diseguaglianza di Schwarz]\label{thm:schwarz}
    Se \(H\) è uno spazio prehilbertiano allora per ogni \(x, y \in H\) vale la
    diseguaglianza
    \[
        |\langle x, y \rangle|^{2} \le \left<x, x \right> \left<y, y \right>
    \]
\end{theorem}
\begin{proof}
    Considero l'elemento \(x + \lambda \left<x, y \right>y\), con \(\lambda \in
    \mathbb{R}\) e calcolo il prodotto scalare con se stesso:
    \begin{align*}
        0 &\le \left<x + \lambda \left<x, y \right>y, x + \lambda\left<x,y \right> y
        \right> = \\ &= \left<x, x \right> +
        \lambda \left<x, y \right> \left<y, x \right> + \overline{\lambda }
        \left<y, x \right> \left<x, y \right> + |\lambda|^{2} \left| \langle x,y
        \rangle \right|^2  \left<y, y
        \right>  = \\ &= \lambda^2 |\langle x,y \rangle|^2 \langle y,y \rangle + 2 \lambda |\langle x,y
        \rangle|^2 + \left<x,x \right>
    \end{align*}
    dove, se il coefficiente di \(\lambda^2\) è diverso da 0,  l'ultimo è un
    polinomio di secondo grado in \(\lambda\), con tutti i coefficienti reali e
    non negativi, quindi il discriminante è non positivo, ossia
    \[
        \frac{\Delta}{4} \le  0 \iff |\langle x,y \rangle|^{4} \langle y,y \rangle - |\langle x,y 
        \rangle|^2 \langle x,x \rangle \le 0
    \]
    da cui \(\displaystyle |\langle x,y \rangle| = 0\) oppure
    \(\displaystyle |\langle x,y \rangle|^{2} \le  \langle x,x \rangle \langle
    y,y \rangle\). In entrambi i casi la tesi è vera.

    Se invece il coefficiente di \(\lambda^2\) è 0, allora \(\langle x,y
    \rangle = 0\) e la tesi è vera, oppure \(\langle y,y \rangle = 0\), allora
    \(y = 0\) e la tesi è vera perché \(\langle x,y \rangle = 0\).
\end{proof}

\begin{proposition}
    Sia \(H\) uno spazio prehilbertiano con prodotto scalare \(\langle \cdot,
    \cdot \rangle\). Allora la funzione
    \begin{align*}
        \|\cdot \|: H &\longrightarrow \mathbb{R}_{\ge 0}  \\
        v &\longmapsto \|v \| = \sqrt{\langle v, v \rangle}
    \end{align*}
    è una norma.

    In particolare uno spazio prehilbertiano è uno spazio normato, con tale
    norma.
\end{proposition}
\begin{proof}
    La definita positività corrisponde alle proprietà \(i)\) e \(ii)\) del
    prodotto scalare.
    L'omogenità segue dalla linearità:
    \[
        \|\alpha v\| = \sqrt{\langle \alpha v, \alpha v \rangle} = \sqrt{\alpha
        \overline{\alpha} \langle v, v \rangle} = |\alpha| \sqrt{\langle v, v
        \rangle} = |\alpha| \|v\|
    \]
    La diseguaglianza triangolare segue dalla diseguaglianza di Schwarz:
    \begin{align*}
        \|v + w\|^{2} &= \langle v + w, v + w \rangle = \|v\|^{2} + \|w\|^{2} +
        2\Re\langle v, w \rangle \le \\ &\le  \|v\|^{2} + \|w\|^{2} + 2\|v\|\|w\| = {\left(
        \|v\| + \|w\| \right)}^{2}
    \end{align*}
    per cui \(\|v + w\| \le \|v\| + \|w\|\).
\end{proof}


\begin{definition}[Spazio di Hilbert]
    Uno spazio prehilbertiano che sia completo rispetto alla norma indotta dal
    prodotto scalare si chiama \textbf{spazio di Hilbert}.
\end{definition}
\begin{example}
    \(\mathbb{R}^{N}\) e \(\mathbb{C}^{N}\) sono spazi di Hilbert. Ad esempio in
    \(\mathbb{C}^{N}\) il prodotto scalare standard è \(\langle x, y \rangle =
    \sum_{i=1}^{N} x_{i} \overline{y_{i}}\) e induce la norma euclidea su
    \(\mathbb{C}^{N}\). I dettagli sono facili e lasciati come esercizio.

    Su \(\mathbb{R}^{N}\) si può mettere come prodotto scalare anche ad esempio
    \[
        {(x, y)} = \begin{pmatrix}
            x & y
        \end{pmatrix} A \begin{pmatrix}
            x \\ y
        \end{pmatrix}
    \]
    con \(A\) una matrice simmetrica definita positiva.
\end{example}
\begin{example}
    \(L^{2}{(\Omega)}\) è uno spazio di Hilbert se prendiamo come prodotto
    scalare 
    \[
        \langle f, g \rangle = \int_{\Omega} f(x) \overline{g(x)} d\mu
    \]
    dove il coniugio è rilevante solo nel caso complesso. La norma associata a
    questo prodotto scalare è proprio la norma 2.
\end{example}
\begin{proposition}[Regola del Parallelogramma]\label{prop:parallelogramma}
    Se \(H\) è uno spazio prehilbertiano allora vale l'identità
    \[
        \|x + y\|^2 + \|x - y\|^2 = 2\|x\|^2 + 2\|y\|^2 \quad \forall x, y \in H
    \]
    che vista graficamente (figura~\ref{fig:parallelogramma}) significa che la somma dei quadrati costruiti
    sulle diagonali è uguale alla somma dei quadrati costruiti sui lati.
\end{proposition}
\begin{figure}[ht]
    \centering
    \incfig[.5]{parallelogramma}
    \caption{Regola del Parallelogramma}\label{fig:parallelogramma}
\end{figure}
\begin{proof}
    \begin{align*}
        \|x+y\|^2 + \|x-y\|^2 &= \langle x+y, x+y \rangle + \langle x-y, x-y
        \rangle = \\ &= \langle x, x \rangle + \langle y, y \rangle + \langle x, y
        \rangle + \langle y, x \rangle + \\ &+ \langle x, x \rangle + \langle y, y
        \rangle - \langle x, y \rangle - \langle y, x \rangle = 2\|x\|^2 +
        2\|y\|^2
    \end{align*}
\end{proof}
    Data una norma, se  verifica l'identità del parallelogramma allora
     è una norma hilbertiana, cioè associata a un prodotto scalare

\begin{proposition}
    Una norma \(\|\cdot \|\) definita su uno spazio vettoriale \(V\) è
    hilbertiana se e solo se verifica l'identità del parallelogramma, ossia
    \[
        \|x + y\|^2 + \|x - y\|^2 = 2\|x\|^2 + 2\|y\|^2 \quad \forall x, y \in V
    \]
    in questo caso il prodotto scalare è definito da
    \[
        \langle x,y \rangle = \left\|\frac{x+y}{2}\right\|^2 -
        \left\|\frac{x-y}{2}\right\|^2 + i
        \left\|\frac{x+iy}{2}\right\|^2 - i \left\|\frac{x-iy}{2}\right\|^2
        \quad \forall x, y \in V
    \]
    dove gli ultimi due termini non sono presenti nel caso \(\mathbb{K}=\mathbb{R}\) 
\end{proposition}

\begin{example}
    Gli spazi \(L^{1}{(\Omega)}\) e \(L^{\infty}{(\Omega)}\) non sono Hilbertiani. Basta trovare una
    coppia di funzioni \(f, g\) tali che 
    \[
        \|f + g\|_1^2 + \|f - g\|_1^2 \neq 2\|f\|_1^2 + 2\|g\|_1^2
    \]
    Ad esempio prendiamo \(\Omega = [-1,1]\) e prendiamo \(f = \rchi_{(-1, 0)}
    \) e \(g = \rchi_{{(0,1)}} \) allora \(f + g = 1\) q.o.~e quindi 
    \[
        \|f+g\|_1^2  + \|f-g\|_1^2 = 4 + 4 \neq 2 + 2 = 2\|f\|_1^2 + 2\|g\|_1^2
    \]
    Ora con le stesse funzioni mostriamo che neanche \(L^{\infty}{[-1, 1]}\) ha
    una norma hilbertiana, infatti
    \[
        \|f+g\|_{\infty}^2 + \|f-g\|_{\infty}^2 = 1 + 1 \neq 2 + 2 = 2\|f\|_{\infty}^2 + 2\|g\|_{\infty}^2
    \]
\end{example}

\begin{definition}[Ortogonalità]
    Sia \({(H, \langle \cdot ,\cdot  \rangle)}\) uno spazio prehilbertiano. Due
    vettori \(x, y \in H\) si dicono \textbf{ortogonali} se \(\langle x, y \rangle = 0\).
\end{definition}

\begin{eser}
    Mostrare che negli spazi prehilbertiani vale il teorema di Pitagora: 
    per ogni coppia di vettori ortogonali \(x, y \in H\) si ha
    \[
        \|x + y\|^2 = \|x\|^2 + \|y\|^2
    \]
\end{eser}

\subsection{Risultati di densità su \(L^{p}{(\Omega)}\) }
In questa parte \(\Omega\) sarà un aperto di \(\mathbb{R}^{N}\) con la misura
\(\mu\) di Lebesgue. Inizieremo con il caso \(\Omega = \mathbb{R}^{N}\) 
\begin{proposition}\label{prop:risultato_1}
    Le funzioni semplici, misurabili e nulle al di fuori di un compatto sono
    dense in \(L^1(\mathbb{R}^{N})\) 
\end{proposition}
\begin{proof}
    Data \(f \in L^1(\mathbb{R}^{N})\) osservo che \(f^{+}, f^{-} \in
    L^1(\mathbb{R}^{N})\) e sono non negative. Allora per il
    Lemma~\ref{le:nulle_fuori_compatti} esistono 2 successioni
    \(s_{n}\) e \(t_{n}\) di funzioni semplici, misurabili, non negative e nulle fuori da un
    compatto che convergono q.o.~rispettivamente a \(f^{+}\) e \(f^{-}\) e
    queste successioni sono monotone crescenti. Ci rimane da controllare che
    \(s_{n} \to f^{+}\) e \(t_{n} \to f^{-}\) in \(L^{1}{(\mathbb{R}^{N})}\).
    Sappiamo che \(s_{n} \nearrow f^{+}\) e \(t_{n} \nearrow f^{-}\). Allora
    \[
        \int_{\mathbb{R}^{N}} |s_{n} - f^{+}| d\mu = \int_{\mathbb{R}^{N}}
        \left(f^{+}
        - s_{n}\right) d\mu \to 0
    \]
    dove si è usato BL~\ref{thm:beppo-levi} perché la successione integranda è
    monotona decrescente e gli integrali sono tutti maggiorati da quello di
    \(f^{+}\) che è finito. Altrimenti si può anche usare il teorema di
    convergenza dominata di Lebesgue perché tutte le funzioni sono dominate da
    \(f^{+}\). Lo stesso vale per \(t_{n}\) e \(f^{-}\). 

    Allora la successione \(\{s_{n} - t_{n}\}\) converge a \(f\) in
    \(L^1(\mathbb{R}^{N})\) 
\end{proof}

Per \(C_C^{0}{(\Omega)} \subseteq C^{0}{(\Omega)} \) si intende lo spazio di funzioni continue a supporto
compatto

\begin{proposition}\label{prop:risultato_2}
    \(C_C^{0}{(\mathbb{R}^{N})}\) è denso in \(L^1(\mathbb{R}^{N})\)
\end{proposition}
\begin{proof}
    Dobbiamo provare che 
    \[
        \forall f \in L^1(\mathbb{R}^{N}) \quad \forall \varepsilon > 0 \quad \exists g \in C_C^{0}{(\mathbb{R}^{N})} \quad \|f - g\|_1 < \varepsilon
    \]
    Sappiamo già per \(\ref{prop:risultato_1}\) che esiste \(s\) semplice, misurabile e nulla al di fuori di un
    compatto tale che \(\|f - s\|_1 < \varepsilon/2\). Scriviamo \(s\) come
    \[
        s = \sum_{i=1}^{n} \alpha_i \rchi_{A_i}
    \]
    dove possiamo prendere \(\alpha_{i} \neq 0\) per ogni \(i\) e \(A_{i}\)
    insiemi limitati. Affermiamo che basta controllare che 
    \[
        \forall E \in \mathcal{M} \text{ limitato } \quad \forall \delta > 0
        \quad \exists u \in C_C^{0}{(\mathbb{R}^{N})} \quad \|\rchi_E - u\|_1 < \delta
    \]
    poiché questo implica che \(s\) può essere approssimata in norma \(\|\cdot\|_1\) da funzioni continue a supporto compatto, 
    e quindi \(\| s - s'\|_1 \le \varepsilon/2\) dove \(s'\) è la combinazione con le funzioni continue a supporto compatto \(u\) 
    al posto delle caratteristiche. \\
    \(E\)  è un misurabile limitato, quindi \(\forall \delta\) esistono un
    chiuso \(F\) e un aperto limitato \(G\) tali che \(F \subseteq E \subseteq G \) e
    \(\mu {( G \sminus F )} < \delta\). Consideriamo allora la funzione 
    \[
        u{(x)} = \frac{d{(x, \mathbb{R}^{N} \sminus G)}}{d{(x, F)} + d{(x, \mathbb{R}^{N} \sminus G)}}
    \]
    dove se \(C\) è un chiuso, \(d{(x, C)} = \inf_{y \in C} d{(x, y)}\) è la
    distanza tra un punto e un chiuso. Allora \(u\) è continua\footnote{
        Sia \(X, d\) spazio metrico, \(A \subseteq X \) e \(d_A{(x)} = \inf_{y
        \in A} d(x, y)\) distanza punto-insieme. Allora la funzione \(d_A\) è
        continua rispetto alla topologia indotta da \(d\). Da qualche parte
        sugli appunti di topologia c'è la dimostrazione.
    } e
    \[
        u{(x)} = \begin{cases}
            1 & x \in F  \\
            0 & x \in \mathbb{R}^{N} \sminus G \\
            0 \le u \le 1 & x \in G \sminus F
        \end{cases}
    \]
    e quindi \(u \in C_C^{0}{(\mathbb{R}^{N})}\). Inoltre
    \[
        \|\rchi_E - u\|_1 = \int_{\mathbb{R}^{N}} |\rchi_E - u| d\mu = \int_{G
        \sminus F} |\rchi_E - u| d\mu \le \int_{G \sminus F} d\mu =\mu{(G \sminus F)}< \delta 
    \]
\end{proof}

\begin{proposition}\label{thm:risultato_3}
    \(C_C^{0}{(\mathbb{R}^{N})}\) è denso in \(L^p(\mathbb{R}^{N})\) per \(1 \le p < \infty\)
\end{proposition}
\begin{proof}
    Vogliamo provare che
    \[
        \forall f \in L^p(\mathbb{R}^{N}) \quad \forall \varepsilon > 0 \quad \exists g \in C_C^{0}{(\mathbb{R}^{N})} \quad \|f - g\|_p < \varepsilon
    \]
\begin{enumerate}[label = \arabic*.]
    \item Cominciamo ad approssimare \(f\) con una funzione \(h \in
        L^{\infty}{(\mathbb{R}^{N})} \cap L^{1}{(\mathbb{R}^{N})}\).

        Fissiamo un operatore di troncamento \(T_{n} : \mathbb{R} \to \mathbb{R}\) 
        \[
            T_{n}{(r)} = \begin{cases}
                n & r > n \\
                r & |r| \le  n \\
                -n & r < -n
            \end{cases}
        \]
        allora il troncamento di \(f\) è essenzialmente limitato, \(T_{n}\circ f \in L^{\infty}{(\mathbb{R}^{N})}\). 
        Limitando il dominio ottengo 
        una funzione sommabile \(h_{n} {(x)} = T_{n}{(f{(x)})}\rchi_{B_{n}} {(x)}\), 
        con \(B_{n} = \{x \in \mathbb{R}^{N}: |x| \le n\}\). Allora \(h_{n} \in
        L^\infty(\mathbb{R}^{N}) \cap L^1(\mathbb{R}^{N})\). Succede che \(h_{n}
        \to f\) in \(L^p(\mathbb{R}^{N})\), ossia 
        \[
            \lim_{n\to \infty} \|h_{n} - f\|_p = 0 \iff \lim_{n\to \infty} \int |h_{n} - f|^p d\mu = 0
        \]
        perché \(h_{n} \to f\) q.o.~per \(n \to \infty\) e inoltre \(|h_{n}
        -f|^{p}\) è dominata da \(|f|^{p} \in L^{1}{(\mathbb{R}^{N})}\). Segue che
        \[
            \exists \overline{n} \in \mathbb{N} : \forall n \ge \overline{n} \quad \|h_{n} - f\|_p < \frac{\varepsilon}{2}
        \]
    \item Per ogni \(\delta > 0\) esiste una funzione \(u \in
        C^{0}_C{(\mathbb{R}^{N})}\) tale che \(\|h_{\overline{n}} - u\|_1 \le 
        \delta\) (per~\ref{prop:risultato_2}). Considero \(v = T_{n}(u)\) e dico
        che \(\|v - h_{\overline{n}}\|_1 \le \|u - h_{\overline{n}} \|_1 \le
        \delta\).
        Infatti \(v \in C^{0}_C{(\mathbb{R}^{N})}\) e
        \begin{align*}
            &\int_{\mathbb{R}^{N}} | v- h_{\overline{n}} | d\mu = 
            \left(\int_{-\overline{n} \le u \le  \overline{n}} + 
            \int_{u > \overline{n}} +
            \int_{u < -\overline{n}} \right) |v - h_{\overline{n}}| d\mu = \\
           &= \int_{-\overline{n} \le u \le \overline{n}} |u - h_{\overline{n}}|
           d\mu + \int_{u > \overline{n}} (\overline{n} - h_{\overline{n}} )d\mu
           + \int_{u < -\overline{n}} {(h_{\overline{n}} + \overline{n})}d\mu
           \le \\
           &\le 
           {\left( \int_{-\overline{n} \le u \le \overline{n}} + \int_{u >
           \overline{n}}  + \int_{u < \overline{n}}  \right)} |u -
           h_{\overline{n}} | d\mu
        \end{align*}
        
    \end{enumerate}
    Osservo che \(v - h_{n} \in L^1(\mathbb{R}^{N}) \cap
    L^{\infty}{(\mathbb{R}^{N})}\) e inoltre \(|v - h_{\overline{n}}| \le
    2\overline{n}\). Allora, per Hölder~\ref{thm:Holder},
    \begin{align*}
        \|v - h_{\overline{n}} \|_p &= {\left(\int |v-h_{\overline{n}}|^{p-1}|v -
        h_{\overline{n}}| d\mu \right)}^{\frac{1}{p}} \le {\left( \|v -
h_{\overline{n}} \|_{\infty}^{p-1} \|v - h_{\overline{n}} \|_1 \right)}^{\frac{1}{p}} =\\
        &= \|v - h_{\overline{n}} \|_{\infty}^{1 / p'} \|v -
        h_{\overline{n}} \|_1^{1 / p} \le {(2\overline{n})}^{1 / p'} \delta^{1 /
        p} \overset{?}{\le} \frac{\varepsilon}{2}
    \end{align*}
    dove al posto di~? intendiamo che \(\displaystyle \delta^{1 / p} =
    \frac{\varepsilon}{2 {(2\overline{n})}^{1 / p'}}\) 
    dunque posso prendere \(g = v\) e la tesi è dimostrata.
\end{proof}

\begin{theorem}[\(\overline{C_C^0(\Omega)} = L^p(\Omega)\) ]\label{thm:risultato_4}
    Per \(1 \le p < \infty\) e \(\Omega \subseteq \mathbb{R}^{N} \) aperto, 
    \(C_C^{0}{(\Omega)}\) è denso in \(L^p{(\Omega)}\)
\end{theorem}
\begin{proof}
    Sia \(f \in L^p(\Omega)\) e \(\varepsilon>0\). Prolunghiamo \(f\) a
    \(\mathbb{R}^{N}\) con 
    \[
        \tilde{f}{(x)} = \begin{cases}
            f{(x)} & x \in \Omega \\
            0 & x \in \mathbb{R}^{N} \sminus \Omega
        \end{cases}
    \]
    Allora \(\tilde{f} \in L^p(\mathbb{R}^{N})\) e per~\ref{thm:risultato_3}
    esiste \(g \in C_C^{0}{(\mathbb{R}^{N})}\) tale che \(\|\tilde{f} - g\|_p <
    \frac{\varepsilon}{2}\).

    Prendiamo una successione di insiemi 
    \[
        A_{n} := \left\{x \in \Omega: d{(x, \mathbb{R}^{N} \sminus \Omega)} >
        \frac{1}{n} \, ; \, |x| < n\right\} 
    \]
    \(A_{n}\) sono sottoinsiemi aperti e limitati di \(\Omega\). Per ogni \(n\)
    possiamo considerare una funzione \(\varphi_n\) continua tale che
    \[
        \varphi_n{(x)} = \begin{cases}
            1 & x \in \overline{A_{n}} \\
            0 & x \in \Omega \sminus A_{n+1} \\
            0 \le \varphi_n \le 1 & x \in A_{n+1} \sminus \overline{A_{n}}
        \end{cases} \]\[
        \text{e.g. }
        \varphi_n{(x)} = \frac{d(x, \mathbb{R}^{n} \sminus A_{n+1})}{d{(x,
        \overline{A_{n}}) + d{(x, \mathbb{R}^{N} \sminus A_{n+1})}}}
    \]
    allora \(\{\varphi _n\} \) è una successione di funzioni in
    \(C_C^{0}{(\mathbb{R}^{N})}\) e hanno supporto compatto contenuto in
    \(\Omega\). Siamo interessati a trovare \(n \in \mathbb{N}\) tale che
    \[
        \|g \varphi_n - f\|_{p, \Omega}  < \varepsilon \text{ (in \(\Omega\),
        indico lo spazio in pedice)}
    \]
    Intanto sappiamo che \(\|g \varphi _n - g\|_{p, \Omega} \to 0\), infatti
    \[
        \|g \varphi _n - g \|_{p, \Omega}  = {\left( \int_{\Omega} |g|^{p} {(1 -
    \varphi _n)}^{p} d\mu \right)}^{\frac{1}{p}} \to 0
    \]
    questo perché l'integranda è dominata da \(|g|^{p} \in L^1(\Omega)\)
    e tende a 0 q.o.~in \(\mathbb{R}^{N}\), infatti se \(x \in \Omega\),
    \(\varphi_n{(x)} = 1\) definitivamente. Dunque esiste \(n_\varepsilon\) tale
    che \(\|g \varphi_{n_\varepsilon} - g\| \le \frac{\varepsilon}{2}\) 
    e infine
    \begin{align*}
        \|g \varphi_{n_\varepsilon}  - f\|_{p, \Omega}  &\le   \|g \varphi
        _{n_\varepsilon}  - g\|_{p, \Omega}
        + \|g - f\|_{p, \Omega} \le \|g \varphi_{n_\varepsilon}  - g\|_{p, \Omega} + \|g -
        \tilde{f}\|_{p, \mathbb{R}^{N}} \le \\
        &\le \frac{\varepsilon}{2} + \frac{\varepsilon}{2} = \varepsilon
    \end{align*}
\end{proof}

\subsection{Operatori lineari e continui tra spazi normati}
\begin{definition}[Operatore lineare]
    Siano \(X, Y\) spazi normati. Sia \(T : X \to Y\) un operatore. Allora è
    lineare se 
    \[
      T{(\alpha x + \beta x )} = \alpha T{(x)} + \beta T{(x)} \quad \forall x, y
      \in X \quad \forall \alpha, \beta \in \mathbb{K}
    \]
\end{definition}
\begin{example}
    Se \(X = \mathbb{R}^{n}\) e \(Y = \mathbb{R}^{m}\), un'applicazione o
    operatore lineare viene tipicamente rappresentato da un sistema lineare 
    \begin{equation}\label{eq:sistema_lineare}
        \begin{cases}
            y_1 = a_{11}x_1 + \ldots + a_{1n}x_n \\
            \vdots \\
            y_m = a_{m1}x_1 + \ldots + a_{mn}x_n
        \end{cases}
    \end{equation}
\end{example}
Possiamo anche pensare a operatori lineari tra spazi a dimensione infinita di
funzioni. Ad esempio tra funzioni continue possiamo considerare l'operatore 
  \begin{align*}
      T: C^{0}{([0, 1])} &\longrightarrow C^{0}{([0,1])} \\
      f &\longmapsto T(f) = hf
  \end{align*}
dove \(h \in C^{0}{([0, 1])}\) è una funzione fissata. Questo è un operatore
lineare, infatti
\[
    T{(\alpha f + \beta g)} = h{(\alpha f + \beta g)} = \alpha hf + \beta hg =
    \alpha T{(f)} + \beta T{(g)}
\]

\begin{definition}[Operatore continuo]
    Siano \(X, Y\) spazi normati. Sia \(T : X \to Y\) un operatore. Allora è
    continuo se la funzione individuata da \(T\) è continua da \(X\) a \(Y\) 
\end{definition}
\begin{definition}[Operatore limitato]
    Un operatore \(T : X \to Y\) si dice \textbf{limitato} se esista una
    costante \(C > 0\) tale che
    \[
      \|Tx\|_Y \le C\|x\|_X \quad \forall x \in X
    \]
\end{definition}
\begin{remark}
    Niente a che vedere col concetto di \emph{funzione} limitata. 
\end{remark}
\begin{theorem}
    Siano \(X, Y\) spazi normati e \(T : X \to Y\) un operatore lineare. Allora
    \(T\) è continuo se e solo se \(T\) è un operatore limitato.
\end{theorem}
\begin{proof}\( \)
\begin{itemize}
    \item[\(\implies \)] Supponiamo \(T\) continuo, dunque continuo in \(0_X\).
        Allora \(T{(0_X)} = 0_Y\) per linearità e
        \begin{equation}\label{eq:continuita123}
          \forall \varepsilon > 0 \quad \exists \delta > 0 : \|x\|_X \le  \delta
          \implies \|Tx\|_Y \le  \varepsilon
        \end{equation}
        Quindi fisso \(\varepsilon>0\) e ricavo il relativo \(\delta\). Preso ora \(0_X \neq z \in X\) allora \(\displaystyle \frac{\delta
        z}{\|z\|_X} =: x\) deve soddisfare~\ref{eq:continuita123}, allora poiché
        \[
            \|x\|_X = \left\| \frac{\delta z}{\|z\|_X} \right\|_X =
            \frac{\delta}{\|z\|_X} \|z\|_X = \delta
        \]
        ne segue che \(\|Tx\|_Y \le \varepsilon\), in particolare
        \[
            \|Tx\|_Y = \left\| \frac{\delta Tx}{\|z\|_X} \right\|_Y =
            \frac{\delta}{\|z\|_X} \|Tz\|_Y \le \varepsilon
        \]
        deduco allora che 
        \[
          \|Tz\|_Y \le \frac{\varepsilon}{\delta} \|z\|_X \quad \forall z \in X
        \]
        infatti vale anche chiaramente per \(z = 0_X\).
    \item[\(\impliedby \)] Sia \(T\) limitato, dunque esiste \(C > 0\) tale che 
        \[
          \| Tx\|_Y \le C \|x\|_X \quad \forall x \in X
        \]
        e dobbiamo provare che per ogni successione \(\{x_{n}\} \) convergente a
        \(x\) in \(X\)  si ha che \(T{(x_{n})} \to Tx\) in \(Y\). Si ha che
        \[
            \|T{(x_{n})} - T{(x)}\|_Y = \|T{(x_{n} - x)}\|_Y \le C \|x_{n} -
            x\|_X \to 0
        \]
\end{itemize}
\end{proof}
\begin{note}
    Notare che abbiamo usato solo la continuità in \(0_X\) per dimostrare \(\implies\) 
\end{note}

\begin{example}[Operatore lineare non continuo]

    Sia \(X = C^{\infty}[0,1]\), con norma infinito, e \(T(f) = f'(0)\). Si consideri la successione
    \[f_n (x) = \frac{\sin(n^2 x)}{n}\]
    Questa successione converge uniformemente a \(0\) poiché il modulo è limitato da \(1/n\) sul dominio.
    Tuttavia 
    \[T(f_n) = \frac{n^2 \cos (n^2 \cdot 0)}{n} = n \rightarrow \infty\]
    Ossia 
    \[T(f_n) \not\rightarrow T(0) = 0\]
    È chiaro che l'operatore non è limitato. 
    Un'osservazione rilevante è che il dominio non è uno spazio completo. Per esempi di operatori lineari con dominio completo 
    non continui è necessario utilizzare l'assioma della scelta, si tratta di esempi non costruttivi.
    
\end{example}

Osserviamo dunque che l'insieme degli operatori lineari e continui tra \(X\)  e
\(Y\)  costituisce uno spazio vettoriale. Infatti se \(T, S : X \to Y\) e sono
lineari e continui, e \(\alpha, \beta \in \mathbb{K}\) allora l'operatore
\(\alpha T + \beta S\) è ancora lineare e continuo (e anche limitato). Infatti
se \(\|Tx\|_Y \le C_T\|x\|_X\) e \(\|Sx\|_Y \le C_S\|x\|_X\) allora
\[
  \|(\alpha T + \beta S){(x)}\|_Y \le \alpha\|Tx\|_Y + \beta\|Sx\|_Y \le
  (\alpha C_T + \beta C_S)\|x\|_X
\]
Indichiamo ora con \(\mathcal{L}{(X, Y)}\) lo spazio vettoriale degli operatori
lineari e limitati (o lineari e continui) tra \(X\) e \(Y\) munito della norma
\begin{equation}\label{eq:opnorm_inf}
    \|T\| = \inf \{C \ge 0: \|Tx\|_Y \le C\|x\|_X \quad \forall x \in X\}
\end{equation}
tale norma ha senso e utilizza la limitatezza dell'operatore, assomiglia inoltre
alla norma \(L^{\infty}\).

Se ora considero 
\[
    S_T = \sup \left\{ \frac{\|Tx\|_Y}{\|x\|_X} : x \in X \sminus \{0_X\} \right\}
\]
ottengo una definizione equivalente di norma. Succede infatti che \(\|T\| =
S_T\). Infatti rinominati \(A\) e \(B\) rispettivamente gli insiemi usati nella
definizione di \(\|T\|\) e di \(S_T\) abbiamo che \(b \le a\) per ogni \(b \in
B\) e \(a \in A\), infatti presa una costante dell'insieme \(A\), sicuramente
maggiora il rapporto \(\frac{\|Tx\|_Y}{\|x\|_X}\) proprio perché tale costante è
in \(A\). Passando al sup in \(b \le a\) otteniamo \(S_T \le a\), \(\forall a
\in A\) e passando ora all'inf sugli \(a\) otteniamo \(S_T \le \|T\|\). Sappiamo
ora che \(S_T\) è il sup di \(B\), quindi 
\[
    \frac{\|Tx\|_Y}{\|x\|_X} \le S_T \quad \forall x \in X \sminus \{0_X\}
    \implies S_T \in A
\]
infatti chiaramente \(\|Tx\|_Y \le S_T \|x\|_X\) anche per \(x = 0_X\). Ma
allora necessariamente \(\|T\| \le S_T\) poiché ne è l'inf.

Da questo deduciamo che \(\|T\| = S_T\) e che \(\|T\| = \min A\) 
tale norma è una norma, infatti
\begin{enumerate}[label = \arabic*.]
    \item \(\|T\| \ge 0\) per ogni \(T \in \mathcal{L}{(X, Y)}\) 
    \item \(\|T\| = 0 \iff T \equiv 0\), infatti se \(\|T\| =  0\) allora
        \(\|Tx\|_Y \le 0\) 
    \item \(\displaystyle \|\lambda T\| = \sup_{X \sminus \{0_X\}}  \frac{\|\lambda T x\|_Y}{\|x\|_X}
        = |\lambda|\|T\| \) 
    \item \(\displaystyle\|T+S\| = \sup_{X \sminus \{0_X\} }
        \frac{\|{(T+S)}{(x)}\|_Y}{\|x\|_X} \le \sup_{X \sminus \{0_X\} } {\left(
        \frac{\|Tx\|_Y}{\|x\|_X} + \frac{\|Sx\|_Y}{\|x\|_X}\right)}\le  \) \\\(\le
        \|T\|+\|S\| \) 
\end{enumerate}
\begin{remark}
    \(\|T\| = \sup \{\|Tx\|_Y, x \in X: \|x\|=1\} \) infatti se \(z \in X
    \sminus \{0_X\} \) allora \(\displaystyle \frac{\|Tz\|_Y}{\|z\|_X} = \left\|
    T {\left( \frac{z}{\|z\|_X} \right)} \right\|_Y\) dove l'argomento è un
    vettore di norma unitaria
\end{remark}

\begin{eser}
    Mostrare che
    \[
        \|T\| = \sup_{\|x\|_X \le 1}  \{\|Tx\|_Y \} 
    \]
\end{eser}
\begin{example}
    I sistemi lineari da \(\mathbb{R}^{N}\) in \(\mathbb{R}^{M}\) del
    tipo~\eqref{eq:sistema_lineare}, 
    anche scritto \(\vec{y} = A \vec{x}\), con \(\vec{x} = {(x1, \dots, x_N)}\),
    \(\vec{y} = {(y_{1}, \dots, y_M)}\) e \(A = {(a_{ij})}\) 
    sono operatori lineari \({(x_{1}, \dots, x_N) \mapsto {(y_{1}, \dots,
    y_M)}}\).

    La ricerca della norma di questo problema è un bel problema di massimo sulla
    palla chiusa di raggio 1 di \(\mathbb{R}^{N}\).
\end{example}
\begin{example}
    Sia \({(\Omega, \mathcal{M}, \mu)}\) uno spazio di misura con
    \(\mu{(\Omega)} < +\infty\). Allora l'inclusione \(i : L^{q}{(\Omega)} \to
    L^{p}{(\Omega)}\), con \(1 \le p < q \le \infty\) è un operatore lineare.
    Sappiamo che
    \[
        \|f\|_p \le {\mu{(\Omega)}}^{\frac{1}{p} - \frac{1}{q}}\|f\|_q \quad \forall
        f \in L^{q}{(\Omega)}
    \]
    e quindi necessariamente \(\|i\| \le \mu{(\Omega)}^{\frac{1}{p} -
    \frac{1}{q}}\). Vogliamo capire se c'è l'uguaglianza o meno. Per
    l'uguaglianza dobbiamo trovare un elemento \(0 \not\equiv f \in L^{p}{(\Omega)}\).
    Sia \(f = 1\), allora
    \begin{align*}
        \|f\|_p &= {\left( \int_\Omega 1^{p}d\mu \right)} ^{\frac{1}{p}} =
        \mu{(\Omega)}^{\frac{1}{p}} \\
        \|f\|_q &= \begin{cases}
            \mu{(\Omega)}^{\frac{1}{q}} & \text{se } q <
            \infty \\
            1 & \text{se } q = \infty
        \end{cases}
    \end{align*}
    e quindi effettivamente
    \[
        \|f\|_p = \mu{(\Omega)}^{\frac{1}{p}} = \mu{(\Omega)}^{\frac{1}{p} -
        \frac{1}{q}} \cdot \begin{cases}
                \mu{(\Omega)}^{\frac{1}{q}} & \text{se } q < \infty \\
                1 & \text{se } q = \infty
            \end{cases}
    \]
\end{example}
\begin{example}\label{ex:int_continuo}
    Sia \(T : L^{\infty}{(\mathbb{R})} \to L^{1}{(\mathbb{R})}\), \(f \mapsto
    \rchi_{[-1, 1]}f \). Allora
    \[
        \|Tf\|_1 = \int_{[-1, 1]}  |f| d\mu \le 2 \|f\|_{\infty} 
    \]
    e quindi \(\|T\| \le 2\) 
\end{example}
\begin{example}
    \(T : L^{1}{(\mathbb{R})} \to L^{\infty}{(\mathbb{R})}\) con \(T{(f)} =
    \int_{\mathbb{R}} f d\mu\). Allora
    \[
        \|Tf\|_{\infty} \le \|f\|_1 \implies \|T\| \le 1
    \]
    Similmente possiamo prendere \(g \in L^{\infty}{(\Omega)}\) e considerare
    l'operatore
    \[
        Tf{(x)} = \int_{(-\infty, x)} f{(t)}g{(t)}dt
    \]
    e allora
    \[
        \|Tf\|_{\infty} \le \|f\|_1 \|g\|_\infty \implies \|T\| \le \|g\|_\infty
    \]
\end{example}
\textbf{Importante!} Se lo spazio di arrivo è \(\mathbb{K}\), allora si parla di
funzionali lineari e continui su \(X\), e lo spazio \(\mathcal{L}{(X,
\mathbb{K})}\) viene detto \textbf{spazio duale} e viene denotato con \(X'\)
oppure \(X^{*}\) 
\begin{theorem}
    Se \(X\) è normato e \(Y\) è Banach, allora \(\mathcal{L}{(X, Y)}\) è uno
    spazio di Banach
\end{theorem}
\begin{proof}
    Sia \(T_{n}\) una successione di Cauchy in \(\mathcal{L}{(X, Y)}\), quindi
    \[
        \forall \varepsilon > 0 \quad \exists \overline{n} \in \mathbb{N} :
        \forall n ,m \ge \overline{n} \quad \|T_{n} - T_{m}\| \le \varepsilon
    \]
    che a sua volta significa
    \[
        \|(T_{n} - T_{m}){(x)}\|_Y = \|T_{n}{(x)} - T_{m}{(x)}\|_Y \le
        \varepsilon \|x\|_X \quad \forall x \in X
    \]
    Fissiamo ora \(x \in X\), allora \(T_{n}{(x)}\) è una successione di Cauchy
    in \(Y\). Poiché \(Y\) è Banach, tale successione converge, quindi esiste un
    elemento \(y \in Y\) tale che \(T_{n}{(x)} \to y\) in \(Y\). 

    Definiamo ora l'applicazione \(T : X \to Y\) tale che \(T{(x)} = \lim_{n \to
    \infty} T_{n}{(x)}\), che vogliamo mostrare essere lineare e continua.
    Allora \(\forall u,v \in X\) e \(\forall \alpha, \beta \in \mathbb{K}\) 
    \[
        T{(\alpha u + \beta v)} = \lim_{n \to \infty} T_{n}{(\alpha u + \beta
        v)} \overset{\star}{=} \alpha \lim_{n \to \infty} T_{n}{(u)} + \beta \lim_{n \to \infty}
        T_{n}{(v)} = \alpha T{(u)} + \beta T{(v)} 
    \]
    dove in \(\star\) si è usata contemporaneamente la linearità di \(T_{n}\) e
    la linearità del limite. Quindi \(T\) è lineare.
    Dalla diseguaglianza della successione di Cauchy abbiamo
    \[
        \|T_{\overline{n}} x - T_{m}x\|_Y \le \varepsilon\|x\|_X
        \overset{m \to \infty}{\longrightarrow} \|T_{\overline{n}} x - T x\|_Y
        \le \varepsilon \|x\|_X
    \]
    e quindi
    \[
        \|Tx\|_Y \le \|Tx - T_{\overline{n}}x\| + \|T_{\overline{n}}x\| \le
        \varepsilon \|x\|_X + \|T_{\overline{n}} \|\|x\|_X \le (\varepsilon +
        \|T_{\overline{n}} \|)\|x_X\|
    \]
    da cui \(T\) è limitata e \(\|T\|<\varepsilon + \|T_{\overline{n}} \|\), per
    cui \(T \in \mathcal{L}{(X, Y)}\).

    Ci rimane solo da controllare che \(T_{n} \to T\) in \(\mathcal{L}{(X,
    Y)}\). 
    Sappiamo che
    \[
        \|T_{n}x - Tx\|_Y \le \varepsilon\|x\|_X \quad \forall x \in X,\,\, \forall
        n \ge \overline{n}
    \]
    ma allora 
    \[
        \|{(T_{n} -T)}{(x)}\|_Y \le \varepsilon \|x\|_X \implies \|T_{n} - T\|
        \le \varepsilon \quad \forall n \ge \overline{n}
    \]
\end{proof}
\begin{corollary}
    Se \(X\) è normato, \(X'\) è sempre Banach
\end{corollary}
\begin{proof}
    Sia \(\mathbb{R}\) che \(\mathbb{C}\) sono completi
\end{proof}
\begin{example}[Prodotto di convoluzione]
    Fissiamo una funzione \(g \in L^{\infty}{(\mathbb{R})}\) e consideriamo
    l'operatore 
    \[
        (Tf)(x)= \int_{\mathbb{R}} f{(x - y)}g{(y)}dy
    \]
    Sappiamo già dalla proposizione~\ref{prp:convoluzione_l1} che \(f, g \in
    L^{1}{(\mathbb{R})}\) allora \(Tf \in L^{1}{(\mathbb{R})}\) e inoltre 
    \[
      \|Tf\|_1 \le  \|f\|_1\|g\|_1
    \]
    Se invece \(g \in L^{\infty}{(\mathbb{R})}\) allora \(Tf \in
    L^{\infty}{(\mathbb{R})}\)? Sì, infatti 
    \[
      |(Tf){(x)}| \le \int_{\mathbb{R}} |f{(x-y)}| \|g\|_{\infty} dy = \|f\|_1
      \|g\|_{\infty} 
    \]
    quindi \(Tf \in L^{\infty}{(\mathbb{R})}\) e \(\|Tf\|_\infty \le \|f\|_1
    \|g\|_\infty\) e quindi \(\|T\| \le \|g\|_\infty\) 
\end{example}
\begin{example}[Spazio Duale]
    Lo spazio duale di \(\mathbb{K}^{n}\) è isomorfo a \(\mathbb{K}^{n}\). Ma
    come è fatto lo spazio duale di \(L^{1}{(\Omega)}\)? Ad esempio per \(\Omega
    = \mathbb{R}\) necessariamente contenere funzionali del tipo \(L :
    L^{1}{(\mathbb{R})} \to \mathbb{R}\). Ad esempio 
    \[
      Lf = \int_{\Omega} f d\mu
    \]
    è un tale funzionale. Ma anche fissata \(g \in L^{\infty}{(\Omega)}\), il
    funzionale
    \[
      L_g{(f)} = \int_{\Omega} fg d\mu
    \]
    è lineare ed è limitato in quanto
    \[
        |L_g{(f)}| \overset{\text{Hölder~\ref{thm:Holder}}}{\le } \|f\|_1 \|g\|_\infty \implies
      \|f\|_{{\left( L^{1}{(\Omega)} \right)}'}  \le \|g\|_\infty
    \]
    allora per ogni \(g \in L^{\infty}{(\Omega)}\) esiste un funzionale lineare
    e continuo \(L_g\). Risulta (spoiler di analisi funzionale) che non ve ne
    sono altri, quindi in particolare \({\left( L^{1}{(\Omega)} \right)}'
    \cong L^{\infty}{(\Omega)}\).
\end{example}
\subsection{Spazi di successioni \(\ell^{p}\) }
\begin{definition}[Spazi \(\ell^p\)]
    Gli spazi di successioni \(\ell^{p}\) sono definiti come
    \begin{align*}
        \ell^{p} &= \left\{x = {(x_{n})}_{n \in \mathbb{N}} : \sum_{n=1}^{\infty}
        |x_{n}|^{p} < +\infty \right\} \text{ se } 1 \le p < \infty \\
            \ell^{\infty} &= \left\{x = {(x_{n})}_{n \in \mathbb{N}} : \sup_{n \in
        \mathbb{N}} |x_{n}| < +\infty\right\} 
    \end{align*}
    con \(x_{n} \in \mathbb{K}\), e \(\mathbb{K}= \mathbb{C}\) o \(\mathbb{R}\).
    Altrimenti detto, 
    \[
        \ell^{p} := L^{p}{\left( \mathbb{N}, 2^{\mathbb{N}}, \# \right)} 
    \]
\end{definition}
Sono tutti spazi di Banach, in quanto spazi \(L^{p}\). La norma, se \(1 \le p <
\infty\), è
\[
    \|x\|_p = {\left( \int_{\Omega} |x|^{p} d\#  \right)} ^{\frac{1}{p}} =
    {\left( \sum_{n=1}^{\infty} |x_{n}|^{p}  \right)} ^{\frac{1}{p}} 
\]
e se \(p = \infty\) 
\[
    \|x\|_{\infty} = \sup_{n \in \mathbb{N}} |x_{n}|
\]
\begin{proposition}[Inclusioni fra spazi \(\ell^{p}\)]
    Se \(1 \le p < q \le \infty\), allora \(\ell^{p} \subseteq \ell^{q}\) e
    inoltre \(\|x\|_q \le \|x\|_p\), \(\forall x \in \ell^{p}\) 
\end{proposition}
\begin{proof}
    Chiaramente
    \[
       |x_{n}|^{p} \le \sum_{i=1}^{\infty} |x_{i}|^{p} \implies |x_{n}| \le
       {\left( \sum_{i=1}^{\infty} |x_{i}|^{p}  \right)}^{\frac{1}{p}} = \|x\|_p
    \]
    Se \(q = \infty\) allora 
    \[
        \|x\|_{\infty} = \sup_{n \in \mathbb{N}} |x_{n}| \le \|x\|_p
    \]
    Per \(q < \infty\) abbiamo
    \begin{align*}
        \|x\|_q^{q} &= \sum_{n=1}^{\infty} |x_{n}|^{q} = \sum_{n=1}^{\infty}
        |x_{n}|^{q-p}|x_{n}|^{p} \le \\ &\overset{\ell^{q} \subseteq \ell^{\infty} }{\le
        } \sum_{n=1}^{\infty} \|x\|_{\infty} ^{q-p} \|x_n\|^p = \|x\|_{\infty} ^{q-p}
        \|x\|_p^{p} \le \\
        &\overset{\ell^{p} \subseteq\ell^{\infty} }{\le } \|x\|_{p} ^{q-p} 
        \|x\|^{p}_p = \|x\|_p^{q} 
    \end{align*}
    da cui la tesi
\end{proof}
\begin{example}
    Consideriamo la successione \(x_{n} = \frac{1}{n}\). Allora \(\{x_{n}\} \in
    \ell^{p}\), \(\forall p \in (1, \infty]\), ma \(p \not\in \ell^{1}\).
\end{example}
\begin{example}
    \(i : \ell^{p} \to \ell^{q} \) inclusione è lineare e limitato con norma
    \(\|i\| \le 1\). È proprio \(\|i\| = 1\): Consideriamo la successione
    canonica
    \[
        e^{k} = {(0, 0, 0, \dots, \overset{{(k)}}{1}, 0, \dots )}
    \]
    allora la successione \(\{e^{k}\}_k \) è detta successione canonica,
    \(\{e^{k}\} \in \ell^{p}\) per ogni \(p \in [1, \infty]\) e inoltre
    \[
        \|e^{k}\|_p = 1 \quad \forall p \in [1, \infty]   
    \]
    dunque \(\|e^{k}\|_p = \|e^{k}\|_q\) per \(1 \le p < q \le \infty\) e allora
    \[
        \|i\| = \sup_{x \neq 0} \frac{\|i{(x)}\|_q}{\|x\|_p} = 1
    \]
\end{example}
Consideriamo i seguenti spazi
\hypertarget{spazi_c}{\begin{align*}
    c &= \{x = {(x_{n})} : \text{ la successione \(x_{n}\) è convergente }\} \\
    c_{0} &= \{x = {(x_{n})} : \text{ la successione \(x_{n}\) è infinitesima }
    \} \\
    c_{00}  &= \{x = {(x_{n})}: \exists k \in \mathbb{N} : x_{n} = 0 \forall n >
    k\} 
\end{align*}}
quindi se \(p < \infty\) e \(x \in \ell^{p}\) allora \(\sum_{n=1}^{\infty}
|x_{n}|^{p} \) converge e quindi \(\lim_{n \to \infty} |x_{n}|^{p} = 0\) e
allora \(x = {(x_{n})} \in c_{0}\). Ne consegue che
\[
    c_{00} \subseteq \ell^{1} \subseteq \ell^{p} \subseteq c_{0} \subseteq c
    \subseteq \ell^{\infty}  
\]


\begin{itemize}[label = --]
    \item \(c_{00} \) è un sottospazio di \(\ell^{1}\) \textbf{denso}: infatti se \(x
    = {(x_{n})} \in \ell^{1}\) allora posso costruire la successione
    \begin{equation}\label{eq:successione_c00}
        x^{k} = (x_{1}, x_{2}, \dots, x_{k}, 0, 0, \dots) \in c_{00}
    \end{equation}
    e chiaramente 
    \[
        \|x^{k} - x\|_1 = \sum_{n=1}^{\infty} |x_{n}^{k} - x_{n}| =
        \sum_{n=k+1}^{\infty} |0 - x_{n}| \overset{k \to \infty}{\longrightarrow} 0
    \]
    in quanto resto \(k+1\)-esimo di serie convergente. Se ora \(1 < p <
    \infty\), con analoga dimostrazione provo anche che \(c_{00} \) è denso in
    \(\ell^{p}\).

    \item \(c_{00}\) è \textbf{denso} in \(c_{0}\). Infatti
    preso un elemento \(x = {(x_{n})} \in c_{0} \) allora \(\lim_{n \to \infty}
    x_{n} = 0\). Esiste una successione \(x^{k} = {(x_{n}^{k})}\) tale che \(x^{k} \in
    c_{00} \) per ogni \(k\) e \(\|x^{k} - x\|_\infty \to 0\), ed è di nuovo
    definita come in~\eqref{eq:successione_c00}. Allora
    \[
        \|x^{k} - x\|_\infty = \sup_{n \in \mathbb{N}} |x_{n}^{k} - x_{n}| = \sup_{n
        > k} |x_{n}| \to 0 \quad \text{ per } k \to \infty
    \]

    \item \(\ell^p\) è \textbf{denso} in \(\ell^q\) per \(p \le q < \infty\). Segue dal fatto che \(c_{00}\) è denso in \(\ell^p\) e in \(\ell^q\) e 
    poi dall'inclusione dei due.  

    \item \(c_0\) è \textbf{chiuso} in \(\ell^\infty \). Sia \(x^{k} = {(x^{k}_n)}\) una successione di elementi \(x^{k} \in c_{0} \,
    \forall k\) tale che \(\exists x \in \ell^{\infty}\) con 
    \[
        \lim_{k \to \infty} \|x^{k} - x\|_\infty = 0
    \]
    Ora dobbiamo mostrare che \(\lim_{n \to \infty} x_{n} = 0\), ossia
    \[
        \forall \varepsilon > 0\, \,  \exists n_\varepsilon \in \mathbb{N} : \forall
        n\ge n_\varepsilon \quad |x_{n}| \le \varepsilon
    \]
    ma noi sappiamo che
    \[
        |x_n| \le |x_n^{k}| + |x_{n} - x_{n}^{k}| \le \frac{\varepsilon}{2} +
        \frac{\varepsilon}{2} = \varepsilon
    \]
    questo perché ogni \(x^{k}\) è una successione infinitesima e per la convergenza
    uniforme di \(x_{n}^{k}\) a \(x_{n}\).
    Si può dire lo stesso
    osservando che l'operatore 
    \begin{align}\label{eq:operatore_lim}
      L: c &\longrightarrow \mathbb{R} \\
      x = {(x_{n})} &\longmapsto L(x) = \lim_{n \to \infty} x_{n}
    \end{align}
    è un funzionale lineare e continuo perché il limite è lineare e inoltre
    \[
      |Lx| \le \sup_{n} |x_{n}| = \|x\|_\infty 
    \]
    e in particolare \(\|L\|_{c'} = 1\) (basti prendere una successione con limite
    uguale al sup). Allora
    \[
      |L{(x^{k})} - L{(x)}| \le \|x^{k} - x\|_\infty \to 0
    \]
    ma poiché \(L{(x^{k})}\) è sempre uguale a \(0\) allora lo è anche \(L{(x)}\).
    Infine si può anche osservare che \(c_{0}\) è la controimmagine di \(\{0\} \)
    tramite l'operatore continuo \(L\) e quindi è chiuso in \(c\).

    \item \(c\) è \textbf{chiuso} in \(\ell^{\infty}\) in quanto se \(x{(k)} \to x\) in
    \(\ell^{\infty}\) allora \(L{(x^{k})} \to L{(x)}\) in quanto \(L\) è continuo,
    quindi in particolare \(L{(x)}\) esiste ed è finito.
\end{itemize}

\begin{proposition} Ricapitolando quanto mostrato finora abbiamo la seguente
    catena di inclusioni e chiusure
    \[
      c_{00} \subset \overline{c_{00} }^{\ell^{1}}  =  \ell^{1} \subset
      \overline{c_{00} }^{\ell^{p}} = \ell^{p} \subset
      \overline{c_{00}}^{c_{0}} = c_{0} = \overline{c_{0}}^{c, \ell^{\infty}}
      \subset c = \overline{c}^{\ell^{\infty}} \subset \ell^{\infty} 
    \]
\end{proposition}

\begin{remark}
    \(L\) non è ben definito in \(\ell^{\infty}\) 
\end{remark}

Possiamo adattare agli \(\ell^{p}\) la diseguaglianza di Hölder~\ref{thm:Holder}
ottenendo che se abbiamo \(x \in \ell^{p}, y \in \ell^{p'}\) con \(p, p'\)
coniugati, allora
\[
  xy = {(x_{1}y_{1}, x_{2}y_{2}, \dots, x_{n}y_{n}, \dots)} \in \ell^{1} 
\]
e inoltre
\[
  \|xy\|_1 = \sum_{n=1}^{\infty} x_{n}y_{n} \le \sum_{n=1}^{\infty} |x_{n}y_{n}| \le
  \|x\|_p \|y\|_{p'} 
\]
\begin{definition}[Spazio normato separabile]\label{def:separabile}
    Uno spazio normato \(X\) si dice \textbf{separabile} se esiste un sottoinsieme
    denso e numerabile di \(X\)
\end{definition}

Gli spazi \(\ell^{p}\) con \(1 \le p < \infty\) sono spazi \textbf{separabili},
ossia ammettono un sottospazio denso numerabile. Sappiamo infatti che \(c_{00}
\) è denso in \(\ell^{p}\) se \(p < \infty\) e consideriamo ora \(q_{00} \) il
sottoinsieme di \(c_{00}\) delle successioni a componenti (oppure a parti reali
e immaginarie delle componenti) razionali. Allora \(q_{00} \) è numerabile ed è
denso in \(\ell^{p}\) poiché è denso in \(c_{00}\).

\begin{proposition}
    \(\ell^{\infty}\) \textbf{non} è separabile
\end{proposition}
\begin{proof}
    (Riproposizione dell'argomento diagonale di Cantor)
    Esista, per assurdo, una successione di successioni \(x^{k}\) densa in
    \(\ell^{\infty}\). Allora consideriamo la seguente successione
    \[
      z = {(z_k)} = \begin{cases}
          0 & \text{se } |x^{k}_{k}| \ge 1 \\
          1 + x^{k}_k & \text{se } |x^{k}_{k}| < 1
      \end{cases}
    \]
    che appartiene a \(\ell^{\infty}\) in quanto è limitata da \(2\), ma è
    staccata dalle altre successioni considerate:
    \[\|z - x^{k}\|_{\infty} = \sup_n |z_{n} - x^{k}_n| \ge |z_k - x^{k}_k| \ge
    1\] 
    Si ha una contraddizione e quindi la successione \(x= {(x^{k})}\)
    non è densa in \(\ell^\infty\), segue la non separabilità di
    \(\ell^\infty\). 
\end{proof}
\begin{theorem}[Spazi duali di \(\ell^p\) ]
    Sia \(1 \le p < \infty\). Allora per ogni \(\varphi  \in {(\ell^{p})}'\)
    esiste unico \(u \in \ell^{p'}\) tale che 
    \[
      \varphi {(x)} = \sum_{n=1}^{\infty} u_{n} x_{n} \quad \forall x \in
      \ell^{p} 
    \]
    Inoltre si ha che \(\|\varphi \|_{(\ell^{p})'} = \|u\|_{p'} \) 
\end{theorem}
\begin{remark}
    In soldoni ne consegue che \((\ell^{p})' \cong \ell^{p'}\). È un
    risultato valido anche per spazi \(L^{p}\) ma è un risultato più avanzato
    che non è stato visto in questo corso.
\end{remark}
\begin{proof}
    Consideriamo la successione \(e^{k} = {(0, \dots, 0,  \overset{(k)}{1}, 0,
    \dots, 0, \dots)}\), ossia la successione canonica. Consideriamo 
    \[u_k := \varphi {(e^{k})} \quad \forall k \in \mathbb{N}\] 
    e consideriamo la successione \(u = {(u_k)}\). Vorremmo ora provare che \(u
    \in \ell^{p'}\) e \(\|u\|_{p'} \le \|\varphi \|_{{(\ell^{p})}'} \). A tal
    scopo cominciamo da \(p =1 \leadsto p' = \infty\), utilizzando la definizione di norma di un operatore:
    \[
      |u_k| = |\varphi {(e^{k})}| \le \|\varphi\|_{{(\ell^{1})}'}
      \|e^{k}\|_{\infty} \le \|\varphi \|_{{(\ell^{1})}'} \implies \|u\|_\infty
      = \sup_k |u_k| \le \|\varphi \|_{{(\ell^{1})}'}
    \]
    Consideriamo ora \(1 < p < \infty\) e consideriamo \(x \in
    \hyperlink{spazi_c}{c_{00}}\) tale che \(x_{n} = 0\) per ogni \(n > k\) 
    allora 
    \begin{equation}\label{help:thmduali}
      |\varphi {(x)}| = \left|  \varphi {\left( \sum_{i=1}^{k} x_{i} e^{i}  \right)}  \right|=
      \left| \sum_{i=1}^{k} x_{i} \varphi {(e_{i})}   \right|=\left|   \sum_{i=1}^{k} x_{i} u_{i}  \right|\le
      \|\varphi \|_{(\ell^{p})'} \|x\|_p
    \end{equation}
    Scegliamo ora \(x_{i} = \overline{u_i} |u_{i}|^{p'-2} \) e \(x_{i} = 0\) se \(u_{i} =
    0\). Allora nella~\eqref{help:thmduali} abbiamo
    \[
    \begin{aligned}
        \sum_{i=1}^{k} |u_{i}|^{p'} 
        &\le \|\varphi\|_{(\ell^{p})'} 
        \left( \sum_{i=1}^{k} \left( |u_{i}|^{p'-1} \right)^{p}
        \right)^{\frac{1}{p}} \\
        &= \|\varphi\|_{(\ell^{p})'} \left( \sum_{i=1}^{k} |u_{i}|^{p'p - p}
        \right)^{\frac{1}{p}} \\
        &= \|\varphi\|_{(\ell^{p})'} \left( \sum_{i=1}^{k} |u_{i}|^{p'}
        \right)^{\frac{1}{p}}
    \end{aligned} 
\]

    
   e quindi 
   \[\left( \sum_{i = 1}^{k} |u_i|^{p'} \right)^{\left( 1-\frac{1}{p} \right)=
   \frac{1}{p'}} \le \| \varphi\|_{(\ell^p)'}\]
    che vale per ogni \(k \in \mathbb{N}\) e quindi in particolare tutte le
    ridotte sono dominate da \(\|\varphi \|_{{(\ell^{p})}'} \) e quindi anche la
    serie 
    \begin{equation}\label{help:duali3}
        \sum_{i=1}^{\infty} |u_{i}|^{p'} < +\infty \implies u \in \ell^{p'}
        \text{ e } \|u\|_{p'} \le \|\varphi \|_{{(\ell^{p})}'}
    \end{equation}
    Ci resta da provare che \(\varphi {(x)} = \sum_{i=1}^{\infty} u_{i} x_{i} \)
    per ogni \(x \in \ell^{p}\) e sappiamo che vale per ogni \(x \in c_{00} \).
    Usiamo la densità di \(c_{00} \) in \(\ell^{p}\), da cui per ogni \(x \in
    \ell^{p}\) esiste una successione \(x^{k} \in  c_{00} \) tale che \(x^{k}
    \to x\) in \(\ell^{p}\). Allora 
    \[
        \varphi {(x^{k})} = \sum_{i=1}^{\infty} u_{i} x_{i}^{k}
        \overset{k \to \infty}{\longrightarrow} \varphi {(x)} =
        \sum_{i=1}^{\infty} u_{i} x_{i}
    \]
    dove il secondo termine ha tale limite per la diseguaglianza di Hölder,
    infatti 
    \begin{equation}\label{help:duali2}
      \varphi {(x^{k})} = \left| \sum_{i=1}^{\infty} u_{i} x_{i}^{k}  \right| < \|u\|_{p'}
      \|x^{k}\|_p \implies \varphi {(x)} = \left| \sum_{i=1}^{\infty} u_{i} x_{i}  \right| \le
      \|u\|_{p'} \|x\|_p
    \end{equation}
    e ne consegue che
    \[
      \left| \sum_{i=1}^{\infty} u_{i}x_{i}^{k} - \sum_{i=1}^{\infty} u_{i}x_{i}
      \right| \le \|u\|_{p'} \|x^{k} - x\|_p \to 0
    \]
    Ora dalla~\eqref{help:duali2} otteniamo che \(\|\varphi \|_{{(\ell^{p})}'}
    \le \|u\|_{p'} \)  che insieme a~\eqref{help:duali3} ci dà l'ultima parte
    della tesi \(\|\varphi \|_{{(\ell^{p})}'} = \|u\|_{p'}\) .
\end{proof}
\begin{theorem}
    Se \(\varphi \in {(c_{0})}'\) allora esiste un \(u = {(u_k)} \in \ell^{1}\)
    tale che 
    \[
        \varphi {(x)} = \sum_{i=1}^{\infty} u_{i} x_{i} \quad \forall x \in c_{0} 
    \]
    e inoltre \(\|\varphi \|_{{(c_{0})}'} = \|u\|_1\)
\end{theorem}
\begin{remark}
Il precedente significa che \({(c_{0})}' \cong \ell^{1}\) 
\end{remark}
\begin{theorem}
    Se \(\varphi \in c'\) allora esiste unica una coppia \({(u, \lambda)} \in
    \ell^{1} \times \mathbb{R}\) tali che
    \[
      \varphi {(x)} = \sum_{i=1}^{\infty} u_{i}x_{i} + \lambda \lim_{n \to
      \infty} x_{n} \quad \forall x \in c 
    \]
    e inoltre \(\|\varphi \|_{c'} = \|u\|_1 + |\lambda|\) 
\end{theorem}


\subsection{Funzioni a variazione limitata e assolutamente continue}
Ci interessiamo ora a funzioni \(f : [a, b] \to \mathbb{R}\). L'obiettivo di questa sottosezione è 
descrivere una classe di funzioni su cui valga un'estensione del teorema fondamentale del calcolo integrale.
\begin{definition}[funzione a variazione limitata]
    Si consideri funzione \(f: [a,b] \to \mathbb{R}\) e una suddivisione
    \[
      S = \{a = x_{0} < x_{1} < x_{2} < \dots < x_{n-1} < x_{n} = b\} 
    \]
    dell'intervallo \([a,b]\). Si definisca
    \[
      v_s = \sum_{i=1}^{n} |f{(x_{i+1}) -f{(x_{i})}|} 
    \]
    (somma delle variazioni relative ai punti di suddivisione).
    La funzione \(f\) si dice \textbf{a variazione limitata} 
    se l'insieme dei valori \(v_s\) così ottenuti ammette un estremo superiore
    finito, cioè 
    \[
        V_f ([a, b]):= \sup \{v_s : S \text{ sudd. di \([a,b]\) in un numero
                finito di
        punti  } \} \in \mathbb{R} 
    \]
    La quantità \(V_f{([a,b])}\) viene detta \textbf{variazione totale} di \(f\) in \([a,b]\).
    
\end{definition}
\begin{example}[Funzioni monotone]
    Tutte le funzioni monotone sono a variazione limitata e inoltre
    \[
        v_s = V_f{([a,b])} = |f{(b)} - f{(a)}|
    \]
\end{example}
\begin{example}[Funzioni continue?]
    In generale no. Ad esempio la funzione \(f : [0, \frac{2}{\pi}] \to
    \mathbb{R}\) 
    \[
      f{(x)} = \begin{cases}
          x \sin \frac{1}{x} & x \neq 0 \\
          0 & x = 0
      \end{cases}
    \]
    ci interessa considerare i punti del tipo \(\frac{1}{x} = \frac{\pi}{2} + k
    \pi\) quindi \(x_k = \frac{1}{\frac{\pi}{2} + k \pi} = \frac{2}{\pi + 2k\pi}\) per \(k = 0, \dots,
    n\) e la suddivisione è
    \[
        S_{n} = \left\{0, \frac{2}{\pi + 2\pi}, \frac{2}{\pi + 4\pi}, \dots,
        \frac{2}{\pi + 2(n-1)\pi}, \frac{2}{\pi}\right\}
    \]
    e quindi
    \begin{align*}
        v_{S_{n}}  &= \sum_{k=0}^{n} |f{(x_k)} - f{(x_{k+1})}| + \left|f{\left(\frac{2}{\pi
        + 2n \pi}\right)} - 0\right| =  \\
                   &= \sum_{k=0}^{n-1} \left| \frac{2}{\pi + 2k\pi}{(-1)}^{k} -
                   \frac{2}{\pi + 2(k+1)\pi}{(-1)}^{k+1} \right| + \frac{2}{\pi
                   + 2n \pi} = \\
        &= {\left( \frac{2}{\pi + 2k\pi} + \frac{2}{\pi + 2{(k+1)}\pi} \right)}
        + \frac{2}{\pi + 2n \pi} = \frac{2}{\pi} = \frac{2}{\pi} +
        \sum_{k=1}^{n} \frac{4}{\pi + 2k\pi} \to \infty 
    \end{align*}
    quindi l'estremo superiore non può essere finito.

\end{example}
\begin{proposition}[Le funzioni lipschitziane sono a variazione limitata]
    Sia~\(f : [a,b] \to \mathbb{R}\) lipschitziana, ossia esiste una costante
    \(L \in \mathbb{R}\) tale per cui
    \[
        |f{(x) - f{(y)}}| \le L|x-y| \quad \forall x, y \in [a,b]   
    \]
    allora \(f\) è a variazione limitata e inoltre
    \[
        V_f{([a,b])} \le L(b-a)
    \]
\end{proposition}
\begin{proof}
    \(v_s = \sum_{i=1}^{n} |f{(x_{i})} -f{(x_{i-1} )}| \le \sum_{i=1}^{n} L |
    x_{i} - x_{i-1} | \le L{(b-a)} \) 
\end{proof}
\begin{theorem}[Caratterizzazione delle funzioni a variazione limitata]\label{thm:carat_var_lim}
    Una funzione \(f : [a,b] \to \mathbb{R}\) è a variazione limitata se e solo
    se può essere rappresentata come differenza di funzioni monotone non
    decrescenti
\end{theorem}
\begin{remark}
    Non decrescenti può essere ovviamente sostituito da non crescenti cambiando
    i segni.
\end{remark}
\begin{proof}
Il fatto che la differenza di due funzioni monotone non decrescenti sia una
funzione a variazione limitata è banale per la disuguaglianza triangolare. Per il
viceversa, sia \(f\) a variazione limitata, definiamo
\[
    g_1 : = V_f[a, x]
\]
che è ben definita per ipotesi su \(f\). Sia \(y > x\), quindi
\[
 g_1(y) - g_1(x) = V_f[a, y] - V_f[a, x] = V_f [x, y] \ge 0
\]
ossia \(g_1\) è monotona non decrescente. Si ha, per definizione di variazione, 
\[
 g_1(y) - g_1(x) \ge |f(y) - f(x)| \ge f(y)- f(x)
\]
Possiamo dunque definire 
\[
g_2 := g_1 - f \leadsto f = g_1 - g_2
\]
che si verifica banalmente essere non decrescente. 
\end{proof}
\begin{remark}
    Segue che le funzioni a variazione limitata possono avere un'infinità
    numerabile di discontinuità.
\end{remark}

\begin{theorem}[(ennesimo) Teorema di Lebesgue]\label{thm:lebesgue_derivata}
    Se \(f: [a,b] \to \mathbb{R}\) è a variazione limitata, allora \(f\) è
    derivabile quasi ovunque in \([a,b]\) e la derivata q.o.~\(f'\) è sommabile
    in \([a,b]\) 
\end{theorem}
\begin{remark}
    Sommabile significa integrabile, in altre parole \(f' \in L^{1}{([a,b])}\) 
\end{remark}
\begin{proof}
    Si riconduce a dimostrare che una funzione monotona su un intervallo è
    derivabile quasi ovunque a derivata sommabile. La dimostrazione è
    leggermente laboriosa e viene qui omessa. 
\end{proof}
Negli esempi precedenti in effetti ad esempio le funzioni lipschitziane sono
derivabili ovunque e pure le funzioni costanti.
Siamo interessati all'estensione della formula fondamentale del calcolo
\begin{equation}\label{eq:fond_calcolo}
    f{(x)} - f{(a)} = \int_{[a,x]} f'{(t)} dt \quad \forall x \in [a,b]
\end{equation}
dove l'integrale possa essere inteso come integrale di Lebesgue.
\begin{note}
    La formula~\eqref{eq:fond_calcolo} è valida per funzioni \(C^{1}\),
    ma vogliamo vedere se possiamo alleggerire tale ipotesi.
\end{note}
Dunque le funzioni a variazione limitata potrebbero essere esattamente quelle
che stiamo cercando. In realtà no. Ad esempio la funzione di Heaviside
(l'indicatrice dei positivi) considerata in \([-1, 1]\) è a variazione limitata,
\(H'\) esiste e vale 0 q.o.~ma chiaramente non vale la
formula~\eqref{eq:fond_calcolo}, perché 
\[
    H{(1)} - H{(-1)} = 1 \neq 0 = \int_{[-1, 1]} H'{(t)} dt 
\]

Consideriamo ora la \textbf{funzione di Vitali} che è continua e a variazione
limitata, ma non verifica la formula~\eqref{eq:fond_calcolo}. Ricordiamo
l'insieme di Cantor definito come nell'esempio~\ref{ex:cantor} e sia \(\rchi_n\)
la funzione caratteristica di \(C_n\), ora sia
\[
    f_{n}{(x)} = {\left( \frac{3}{2} \right)} ^{n} \int_{0} ^{x}\rchi_n{(t)}dt
\]
\begin{figure}[ht]
    \centering
    \incfig[.4]{funzione-cantor}
    \caption{Funzione di Vitali}\label{fig:funzione-cantor}
\end{figure}
Abbiamo quindi che la funzione \(f_{n}\) assume valori costanti sul
complementare di \(C_{n}\). Se \(I\) è uno degli intervalli chiusi la cui unione
è \(C_{n}\) allora
\begin{align*}
    {\left( \frac{3}{2} \right)} ^{n} \int_I \rchi_n{(t)}dt = {\left(
    \frac{3}{2} \right)} ^{n} \cdot \frac{1}{3^{n}} = \frac{1}{2^{n}} = \\
    = {\left( \frac{3}{2} \right)}^{n+1} \int_{I}  \rchi_{n+1}{(t)}dt = {\left(
    \frac{3}{2}\right)}^{n+1} \cdot 2 \frac{1}{3^{n+1}} = \frac{1}{2^{n}}
\end{align*}
perché allora \(I\) viene suddiviso in 3 intervalli di cui il primo e il terzo vanno
a comporre \(C_{n+1}\).
Abbiamo inoltre che \(f_{n+1} = f_{n}{(x)} \,\,\forall x \not\in C_{n}\) e che
\[
    |f_{n}{(x)} - f_{n+1} {(x)}| \le  \int_I \left| {\left( \frac{3}{2} \right)}
    ^{n} \rchi_n {(t)}  - {\left( \frac{3}{2} \right)} ^{n+1} \rchi_{n+1}
    {(t)}\right| dt \le \frac{1}{2^{n-1}}
\]

Ora vediamo che
\[
    f_{n+1} {(x)} = f_{0} {(x)} + \sum_{k=1}^{n+1} {\left( f_k{(x)} - f_{k-1}
    {(x)} \right)}  
\]
e poiché gli elementi di ogni ridotta sono maggiorati di \(\frac{1}{2^{k-2}}\)
allora la serie \(f_{n}\) converge uniformemente a una funzione limite
\(f{(x)}\), definita funzione di Vitali.

Tale \(f\) limite è costante su ogni componente connessa del complementare di \(C\)
l'insieme di Cantor. Inoltre \(f\) di Vitali è sicuramente continua in quanto
limite uniforme di funzioni continue, non decrescente perché tutte le \(f_{n}\)
lo sono, dunque \(f\) è a variazione limitata.~\(f\) ammette derivata prima \(f'
= 0\) quasi ovunque (vale 0 sui punti del complementare di  \(C\)). Viene anche
detta ``scala del diavolo''. Una funzione di questo tipo (\(f'=0\) q.o.~ma \(f\)
continua e non costante) viene detta \textbf{singolare}.
\begin{note}
    Anche la funzione di Vitali non verifica la formula \(f{(x)} - f{(a)} =
    \int_{[a,x]} f'{(t)} dt\) 
\end{note}

La classe di funzioni che invece soddisfa le proprietà volute è quella delle
funzioni \emph{assolutamente continue}.  
\begin{definition}[Assoluta continuità]
    \(f : [a, b] \to \mathbb{R}\)  si dice \textbf{assolutamente continua} se per ogni
    \(\varepsilon > 0\) esiste \(\delta > 0\) tale che per ogni sequenza finita
    di intervalli \({(a_{i}, b_{i})} \subseteq [a, b] \) per \(i = 1,\dots, n\)
    disgiunti e tali che \(\displaystyle\sum_{i=1}^{n} {(b_{i} - a_{i})} \le
    \delta  \), allora
\[
    \sum_{i=1}^{n} \left| f{(b_{i})} - f{(a_{i})} \right| \le \varepsilon 
\]
\end{definition}
È evidentemente una richiesta più forte dell'uniforme continuità, infatti su un
compatto uniforme continuità e continuità sono equivalenti. Vale infatti
chiaramente che se \(f\) è assolutamente continua allora è uniformemente
continua, ma non il viceversa, infatti
\begin{proposition}[Assoluta continuità \(\implies \) variazione limitata]
    Se \(f\) è assolutamente continua allora è a variazione limitata
\end{proposition}
\begin{proof}
Fissiamo \(\varepsilon = 1\) e otteniamo un \(\delta > 0\). Se prendiamo
l'intervallino \([a, a+ \delta]\) allora \(f\) è a variazione limitata in \([a,
a+\delta]\). Infatti presa una suddivisione \(S\) qualunque di \([a,
a+\delta]\) e considero gli intervallini \({(a_{i}, b_{i})}\) di questa
suddivisione osservo allora
\[
    \sum_{i=1}^{n} {(b_{i} - a_{i})} = \delta \implies \sum_{i=1}^{n} \left|
    f{(b_{i})} - f{(a_{i})} \right| < 1
\]
Con questa idea in mente possiamo semplicemente dividere \([a,b]\) in intervalli
di misura al più \(\delta\) e in ognuno di questi intervalli la funzione è a
variazione limitata. Bisogna solo avere l'accortezza di avere delle
sovrapposizioni degli intervallini per evitare la perdita di arbitrarietà delle
suddivisioni (che comunque posso restringere sufficientemente senza perdita di
generalità). 
\end{proof}
\begin{proposition}[Assoluta continuità \(\implies \) esistenza derivata prima
    q.o.]
    Se \(f\) è assolutamente continua, allora esiste la derivata prima \(f'\) di
    \(f\) e inoltre \(f' \in L^{1}(a, b)\) 
\end{proposition}
\begin{proposition}[Lipschitziana \(\implies \) Assolutamente continua]
\end{proposition}
\begin{proof}
    Abbiamo che
\[
    \sum_{i=1}^{n} \left| f{(b_{i})} - f{(a_{i})} \right| \le \sum_{i=1}^{n} L
    |b_{i} - a_{i}|  
\]
    prendendo \(\delta = \frac{\varepsilon}{L}\) allora abbiamo la condizione
    richiesta
\end{proof}

Ricordando che una funzione è Hölderiana di esponente \(\alpha \in (0,1)\)
se esiste una costante \(H > 0\) tale che per ogni \(x,y \in [a,b]\) si ha
\[
|f{(x)} - f{(y)}| \le H |x-y|^{\alpha}
\]
Allora se \(f\) è Hölderiana non necessariamente è assolutamente continua. Un
esempio è la stessa funzione di Vitali, che non è assolutamente continua (come
vedremo a breve) è hölderiana di esponente \(\alpha = \log_3 2 \approx 0,631\) 
\begin{remark}
    Le funzioni hölderiane non sono necessariamente lipschitziane, infatti ad
    esempio \(x \mapsto \sqrt[3]{x}\) in \([-1, 1]\) è hölderiana di esponente
    \(\frac{1}{3}\) ma non è lipschitziana.
\end{remark}
\begin{theorem}[Caratterizzazione funzioni assolutamente continue]
    \(f : [a, b] \to \mathbb{R}\) è assolutamente continua se e solo se è a
    variazione limitata e verifica la formula fondamentale del calcolo.
\end{theorem}
ne consegue che la funzione di Vitali non è assolutamente continua.
\begin{remark}
    La caratterizzazione ha un parallelo con la caratterizzazione delle misure
    relative assolutamente continua, ossia che esiste una derivata di
    Radon-Nikodym e vale la ``formula fondamentale del calcolo''.

    In effetti se gli insiemi \(E\) del teorema di Radon-Nikodym sono intervalli
    ne esce proprio la formula fondamentale del calcolo.
\end{remark}

\begin{theorem}[Decomposizione (tipo Radon-Nikodym-Lebesgue)]
Se \(f: [a,b] \to \mathbb{R}\) è a variazione limitata, allora \(f\) si può
scomporre nella somma di 3 funzioni 
\begin{align*}
    f{(x)} = g{(x)} + h{(x)} + s{(x)} 
\end{align*}
dove \(g\) è assolutamente continua in \([a,b]\), \(h\) è singolare oppure
nulla, \(s\) è la funzione dei salti (cioè costante a tratti oppure nulla). 
\end{theorem}
\begin{remark}
    \(g' = f'\) quasi ovunque in \([a,b]\), perché le altre hanno \\ \(h'=s'=0\)
    q.o.~Inoltre possiamo richiedere \(f{(a)} = g{(a)}\) 
\end{remark}
\begin{note}
    Sia \(h\) che \(s\) possono essere nulle, ad esempio \(s=0\) se \(f\) è
    continua in \([a,b]\) 
\end{note}
D'ora in poi chiameremo \(AC(\Omega)\) lo spazio di funzioni assolutamente
continue a dominio in \(\Omega\) 

\subsection{Estensione di altre formule di integrazione}
\begin{itemize}[label = --]
    \item \textbf{Integrazione per parti} La formula di integrazione per parti
\[
    \int_{a} ^{b} f{(x)} g'{(x)}dx = f{(b)}g{(b)} - f{(a)}g{(a)} - \int_{a} ^{b}
    f'{(x)}g{(x)}dx
\]
    è vera se \(f, g \in AC([a,b])\) 
    \item \textbf{Integrazione per sostituzione} La formula di sostituzione
\[
    \int_a^{b} f{(x)} dx = \int_\alpha ^{\beta} f{(\varphi{(t)})}
    \varphi'{(t)}dt
\]
è vera se (ad esempio) f è misurabile e limitata in \([a,b]\) e \(\varphi :
[\alpha, \beta] \to [a,b]\) è assolutamente continua
\end{itemize}
\subsection{Spazi di Sobolev}
Considereremo gli spazi di Sobolev in dimensione 1 usando le funzioni di
\(AC([a,b])\) (non è l'approccio canonico) su un intervallo limitato \([a,b]\).
Consideriamo lo spazio
\[
    W^{1,p}(a,b) = \{f \in AC([a,b]): f' \in L^{p}(a,b)\} 
\]
chiaramente quindi \(W^{1,1}{(a,b)} = AC{([a,b])}\) e succede che se \(1 \le p <
q \le \infty\) allora \(W^{1,q}{(a,b)} \subseteq W^{1,p}{(a,b)} \) per le
inclusioni tra spazi \(L^{p}\) quando \(\mu{(\Omega)} < \infty\). Ne segue che
il più piccolo è \(W^{1, \infty}\).

Gli spazi \(W^{1,p}\) sono tutti spazi vettoriali. Inoltre ci possiamo
mettere una norma sopra, di solito si prende
\[
    \|f\|_{W^{1,p}{(a,b)}}  = \|f\|_p + \|f'\|_p
\]
in generale questa norma è presa negli spazi \(W^{1,p}{(\Omega)}\) con \(\Omega\)
aperto di \(\mathbb{R}^{N}\) (con aggiustamenti dovuti al caso
\(N\)-dimensionale). Un'altra norma comune è
\hypertarget{3norm}{\[
    \seminorm{f}_{W^{1,p}{(a,b)}} = {\left( \int_a^{b}|f{(x)}|^{p}dx +
    \int_a^{b}|f'{(x)}|^{p}dx \right)}^{\frac{1}{p}} = {\left( \|f\|_p^{p} +
\|f'\|_p^{p} \right)}^{\frac{1}{p}}
\]}
\begin{eser}
    Verificare che entrambe le norme presentate sono effettivamente delle norme.
    Inoltre mostrare che se \(1 \le p < \infty\) le norme \(\|\cdot
    \|_{W^{1,p}{(a,b)}} \) e \(\seminorm{\cdot }_{W^{1,p}{(a,b)}}\) sono
    equivalenti.
\end{eser}
Sono spazi di Banach? È vero che \(W^{1,2}{(a,b)}\) è uno spazio di Hilbert?
Chiaramente quello che guessiamo essere il prodotto scalare su \(W^{1,2}{(a,b)}\)
sarebbe
\begin{equation}\label{eq:prod_scalare_W}
    \langle f, g \rangle = \int_a^{b} f{(x)}g{(x)}dx + \int_a^{b} f'{(x)}g'{(x)}dx
\end{equation}
che avrebbe come norma associata la norma \(\seminorm{\cdot}_{W^{1,2}{(a,b)}}\).
\begin{proposition}\label{prop:immersione_continua}
    Per ogni \(p \in [1,\infty]\) esiste una costante \(C_p > 0\) tale che
    \[\underbrace{\|f\|_{C^{0}{([a,b])}}}_{{\left( \|f\|_{\infty}  \right)} }  \le C_p \|f\|_{W^{1, p}{(a,b)}} \] per ogni \(f \in
W^{1,p}{(a,b)}\) 
\end{proposition}
\begin{note}
    Questo significa che l'operatore di immersione \(i : W^{1,p}{(a,b)} \to
    C^{0}{([a,b])}\) è limitato dunque continuo
\end{note}
\begin{proof}
    Per \(p = \infty\) il risultato è banale: basta prendere \(C_\infty = 1\).

    Consideriamo ora il caso \(1 \le p < \infty\) 
    Usiamo l'assoluta continuità della \(f \in W^{1,p}{(a,b)}\) per scrivere la
    formula
    \begin{equation}\label{help:fond_calcolo_xy}
    f{(x)} - f{(y)} = \int_{y} ^{x} f'{(t)}dt \quad \forall x, y \in [a,b]
    \end{equation}
    allora \(f{(x)} = f{(y)} + \int_y^{x}f'{(t)}dt\) e quindi
\[
    |f{(x)}| \le  |f{(y)}| +\int_y^{x} |f'{(t)}| dt
\]
    ora integriamo rispetto a \(y\) entrambi i termini ottenendo
\[
    {(b-a)}|f{(x)}| \le \int_a^{b} |f{(y)}|dy + (b-a)\int_a^{b} |f'{(t)}|dt
\]
    Ora usiamo la disuguaglianza di Hölder~\ref{thm:Holder}
\[
    {(b-a)}|f{(x)}| \le \|f\|_p \|1\|_{p'} + {(b-a)}\|f'\|_p \|1\|_{p'} 
\]
    e poiché \(\|1\|_p = {\left( \int_a^{b}dt \right)}^{\frac{1}{p}} =
    {(b-a)}^{\frac{1}{p}} \)  abbiamo
\[
    |f{(x)}| \le \underbrace{{(b-a)}^{\frac{1}{p'} - 1}}_{=
    \frac{1}{{(b-a)}^{1 / p}}}  \|f\|_p +
    {(b-a)}^{\frac{1}{p'}} \|f\|_p
\]
    Ora prendendo
\[
    C_p = \max \left\{ \frac{1}{{(b-a)}^{\frac{1}{p}}}, {(b-a)}^{\frac{1}{p'}}\right\} 
\]
    abbiamo che finalmente
\[
    \|f\|_\infty = \sup_{x \in [a,b]} |f{(x)}| \le C_p {\left( \|f\|_p + \|f'\|_p \right)} 
\]
\end{proof}
\begin{theorem}[Completezza di \(W^{1,p}(a,b)\)]\label{th:w1p-banach}
    \(W^{1,p}{(a,b)}\) è uno spazio di Banach. In particolare \(W^{1,2}{(a,b)}\)
    è uno spazio di Hilbert, con il prodotto scalare~\eqref{eq:prod_scalare_W} e
    la norma \hyperlink{3norm}{\(\seminorm{\cdot }_{W^{1,2}{(a,b)}}\)}.
\end{theorem}
\begin{proof}
    Sia \(\{f_{n}\} \) di Cauchy in \(W^{1,p}{(a,b)}\), dunque
    \(\|f_{n}-f_{m}\|_{W^{1,p}{(a,b)}} \to 0\) per \(n,m \to \infty\). Ma allora
    abbiamo
    \begin{align*}
        \|f_{n}-f_{m}\|_p &\to 0 \\
        \|f'_n - f'_m\|_p &\to 0 \\
        \|f_n - f_m\|_{C^{0}{(a,b)}} &\to 0
    \end{align*}
    per \(n,m \to \infty\) dove per la terza si è usata la
    proposizione~\eqref{prop:immersione_continua}. Ne consegue che \(f_{n}\) e \(f'_n\) sono di Cauchy in
    \(L^{p}{(a,b)}\), essendo \(L^{p}\) completo allora esistono \(f,g \in
    L^{p}{(a,b)}\) tali che \(f_{n} \to f\) e \(f'_{n} \to g\) in
    \(L^{p}{(a,b)}\). Inoltre \(f_{n}\) è di Cauchy in \(C^{0}{(a,b)}\) e quindi
    esiste \(h \in C^{0}{([a,b])}\) tale che \(f_{n} \to h\) in
    \(C^{0}{([a,b])}\). Siccome la convergenza in \(C^{0}\) è uniforme allora
    implica la convergenza in \(L^{p}{(a,b)}\) e allora \(h = f\) q.o.~e
    vogliamo mostrare che vale anche \(f' = g\) q.o.

    Sappiamo che \[f_{n}{(x)} = f_{n}{(a)} + \int_a^{x}{f'_n{(t)}}\,dt\] per
    ogni \(x \in [a,b]\). Passando al limite per \(n \to \infty\) abbiamo
    \begin{equation}\label{eq:limite-fond}
        f{(x)} = f{(a)} + \int_a^{x}{g{(t)}}\,dt \quad \forall x \in [a,b]
    \end{equation}
    dove le prime due sono per la convergenza in \(C^{0}\) e l'ultima poiché
    \(\int_a^{b} f'_n{(t)} dt = \int_{[a,b]} \rchi_{[a, x]} f'_n \) e poiché
    \(f'_n \to g\) in \(L^{p}\) e chiaramente \(\rchi_{[a,x]} \to \rchi_{[a,x]}
    \) in \(L^{p'}\). Da~\eqref{eq:limite-fond} otteniamo che necessariamente
    \(f' =g\). Quindi poiché vale la formula fondamentale del calcolo, \(f\) è
    assolutamente continua, e abbiamo già detto \(f' \in L^{1}{([a,b])}\),
    quindi \(f \in W^{1, p}{(a,b)}\) 
\end{proof}

\begin{proposition}[\(f \in W^{1, p}{(a, b)}\), allora \(f\) hölderiana]
    Se \(f \in W^{1, p}{(a, b)}\), dove \(1 < p \le \infty\), allora \(f\) è
    Hölderiana di esponente \(\alpha = 1 - \frac{1}{p} = \frac{1}{p'}\)
\end{proposition}
\begin{proof}
    Da~\eqref{help:fond_calcolo_xy} e dalla proposizione~\ref{help:cau_sch_int}
    otteniamo che, \\ supponendo senza perdita di generalità~\(x > y\)
    \[
      |f{(x)} - f{(y)}| = \left| \int_{y}^{x} f'{(t)}dt \right| \le \int_y^{x}
      |f'{(t)}|dt = \|f'\|_1
    \]
    Allora per la diseguaglianza di Hölder~\ref{thm:Holder} otteniamo
    \[
      \left| f{(x)} - f{(y)} \right| \le \|1 \cdot  f'\|_1 \le 
      \|1\|_{p'}\,  \|f'\|_p= |x-y|^{\frac{1}{p'}} \|f'\|_p 
    \]
    per ogni \(x, y \in [a,b]\) 
\end{proof}
\begin{remark}
    Per \( p = 1\) la proposizione non vale, e in effetti nella dimostrazione si
    avrebbe \(\|1\|_{p'} = \|1\|_{\infty}= 1\). In effetti possiamo vedere il
    controesempio 
    \[
      f{(x)} = \begin{cases}
          \frac{1}{\log x} & x \in \left(0, \frac{1}{2}\right] \\
          0 & x = 0
      \end{cases}
    \]
    che è assolutamente continua, quindi \(f \in W^{1,1}{(0,1)}\) ma non è
    Hölderiana in 0, infatti per ogni \(\alpha > 0\) si ha che
    \[
        \frac{f{(x)}}{x^{\alpha}} = \frac{1}{x^{\alpha} \log x} =
        \frac{x^{-\alpha}}{\log x} \underset{x \to 0}{\overset{L'H}{\sim}} \frac{-\alpha x^{-\alpha -
        1}}{x^{-1}}= -\frac{\alpha}{x^{\alpha}}\to \infty \text{ per } x \to 0
    \]
    eppure è assolutamente continua in quanto \(C^{1}\) in ogni intervallo
    \([\delta, 1 /2]\) con \(\delta > 0\).
\end{remark}
\begin{note}
    Per \(p = \infty\) si ottiene che \(f\) è 1-Hölderiana, cioè lipschitziana.
\end{note}

Lo spazio \(C^{0, 1}{([a,b])}\) delle funzioni lipschitziane su \([a,b]\)
coincide con lo spazio \(W^{1, \infty}{(a,b)}\) cioè la derivata quasi ovunque
di una funzione lipschitziana non solo è integrabile ma è anche essenzialmente
limitata, cioè è in \(L^{\infty}{([a, b])}\).

Per \(N > 1\) le cose sono più complicate, bisogna guardare come si comportano i
gradienti invece che le derivate, ad esempio.

\subsection{Proiezioni in spazi di Hilbert}

Sul piano euclideo \(H = \mathbb{R}^2\) è intuitivo il concetto di
proiezione~\(P_K : \mathbb R^2 \rightarrow K\) che manda un punto \(z\in \mathbb
R^2\) in un punto di un insieme convesso e chiuso \(K\) che minimizza la
distanza da \(z\), come in figura~\ref{fig:teorema-delle-proiezioni}.
\begin{figure}[ht]
    \centering
    \incfig[.5]{teorema-delle-proiezioni}
    \caption{Proiezioni su spazi \(K\) convessi e chiusi}\label{fig:teorema-delle-proiezioni}
\end{figure}
Nel caso in cui \(z \in K\) la proiezione manda banalmente \(z \mapsto z \quad
\forall z \in K\). 

\begin{theorem}[delle Proiezioni]\label{thm:proiezioni}
    Sia \(H\) uno spazio di Hilbert e sia \(K \subseteq H \) un sottoinsieme non
    vuoto, convesso e chiuso di \(H\). Allora per ogni \(f \in H\) esiste unico
    un punto \(u \in K\) tale che 
    \begin{equation}\label{eq:PM}
      \|u - f\| = \min_{v \in K} \|v - f\|
    \end{equation}
    inoltre tale \(u\) è anche l'unica soluzione della disuguaglianza
    variazionale 
    \begin{equation}\label{eq:DV}
      \Re(\Span{u-f, u-v}) \le 0 \quad \forall v \in K
    \end{equation}
\end{theorem}

\begin{definition}[Proiezione]
    Il punto \(u\) del teorema~\ref{thm:proiezioni} è detto proiezione di \(f\)
    su \(K\) e si indica con \(P_{K}{(f)}\)
\end{definition}

\begin{remark}
    Una maniera per memorizzare la disuguaglianza variazionale è immaginare il
    caso di un convesso \(K \subset\mathbb R^2\), in cui se ci si muove da \(f\)
    alla proiezione \(u\) (quindi lungo il vettore \(u-f\)) e poi da \(u\) a un
    generico \(v\) in \(K\) (ossia \(v -u\)), l'angolo non orientato che si
    forma è minore di \(\pi/2\), e quindi il prodotto scalare è positivo, che
    diventa negativo scambiando il segno del secondo termine.
\end{remark}
Per la dimostrazione, riassumiamo il teorema~\ref{thm:proiezioni} come esistenza
e unicità della soluzione di~\eqref{eq:PM} e~\eqref{eq:DV} e uguaglianza di tali
soluzioni, e a tale scopo articoliamo la dimostrazione nei seguenti passaggi
\begin{enumerate}[label = \arabic*.]
    \item[] \hyperref[pf:Proiezioni-1]{1}. Esistenza della soluzione di~\eqref{eq:PM}
    \item[] \hyperref[pf:Proiezioni-2]{2}.~\(u\) soluzione di~\eqref{eq:PM} risolve anche~\eqref{eq:DV}
    \item[] \hyperref[pf:Proiezioni-3]{3}.~\(u\) soluzione di~\eqref{eq:DV} risolve anche~\eqref{eq:PM}
    \item[] \hyperref[pf:Proiezioni-4]{4}. La soluzione di~\eqref{eq:DV} è unica
\end{enumerate}
\begin{proof}[Passo 1: Esistenza della soluzione
    di~\eqref{eq:PM}]\label{pf:Proiezioni-1}
    Costruiamo una successione minimizzante.
    \[
      \lambda = \inf_{v \in K} \|f-v\| \text{ esiste ed è } \ge 0
    \]
    Ora \(\forall n \in \mathbb{N}\) esiste \(v_{n} \in K\) tale che 
    \[
      \lambda \le \| f- v_{n}\| \le \lambda + \frac{1}{n}
    \] e vogliamo provare che \(v_{n}\) è di Cauchy in \(H\). Infatti prendendo
    \(x = f - v_{n}\) e \(y = f - v_{m}\) possiamo applicare la regola del
    parallelogramma~\ref{prop:parallelogramma} ottenendo
    \begin{align*}
        \|2f - v_{n} - v_{m}\|^2 + \|v_{n} - v_{m}\|^2 = 2\|f - v_{n}\|^2 + 2\|f
        - v_{m}\|^2 \\
        4\left\|f - \frac{v_{n} + v_{m}}{2}\right\|^2 + \|v_{n} - v_{m}\|^2 = 2\|f -
        v_{n}\|^2 + 2\|f - v_{m}\|^2
    \end{align*}
    dove \(\frac{v_{n} + v_{m}}{2}\) è il punto medio del segmento di estremi
    \(v_{n}\) e \(v_{m}\) e poiché \(K\) è convesso, \(\frac{v_{n}+v_{m}}{2} \in
    K\) e quindi \(\|f - \frac{v_{n} + v_{m}}{2}\| \ge \lambda\). Allora la
    precedente uguaglianza diventa
    \begin{align*}
        \frac{1}{4}\|v_{n} - v_{m}\|^2 &= \frac{1}{2}\|f - v_{n}\|^2 +
      \frac{1}{2}\|f - v_{m}\|^2 - \left\|f - \frac{v_{n} + v_{m}}{2}\right\|^2
      \le 
      \\ &\le \frac{1}{2}{\left( \lambda + \frac{1}{n} \right)} ^2 +
        \frac{1}{2}{\left( \lambda + \frac{1}{m} \right)}^2 - \lambda^2 = \\ &=
      \frac{\lambda}{n} + \frac{\lambda}{m} + \frac{1}{2n^2} + \frac{1}{2m^2}
      \longrightarrow 0 \text{ per } n, m \to \infty
    \end{align*}
    quindi \(v_{n}\) è di Cauchy, e siccome \(H\) è
    completo, \(v_{n}\) converge a \(u \in H\) e siccome \(K\) è chiuso, \(u \in
    K\). 
    Abbiamo ora che \(\|f-v_{n}\| \to \|f - u\|\) per continuità della norma e
    d'altra parte la norma di \(\|f - v_{n}\| \to \lambda\) per costruzione, e
    per l'unicità del limite ne concludiamo che \(\|f - u\| = \lambda\) che
    quindi è il minimo cercato.
\end{proof}
\begin{proof}[Passo 2: \(u\) sol.~\eqref{eq:PM} \(\implies u \)
    sol.~\eqref{eq:DV}]\label{pf:Proiezioni-2}
    Sappiamo per ipotesi che \(\|u -f\| \le \|w - f\|\) per ogni \(w \in K\).
    Prendo 
    \[w := tv + {(1-t)}u \quad \forall t \in [0, 1]\]
    e \(v \in K\), allora
    \(w\) è la combinazione convessa di \(u\) e \(v\) che siccome \(K\) è
    convesso sta in \(K\). Allora
    \begin{align*}
        \cancel{\|u -f\|^2} &\le \|w - f\|^2 = \|tv + {(1-t)}u - f\|^2 = \|t{(v- u)} + u -
        f\|^2 \\ &= \Span{t(v-u) + u - f, t(v-u) + u - f} = \\ &= t^2\|v-u\|^2 +
        2t\Re(\Span{v-u, u-f}) + \cancel{\|u-f\|^2} \\
        \implies 0 &\le t^2\|v-u\|^2 + 2t \Re{(\Span{u - f, v-u} )} \quad \forall
        t \in (0, 1]
    \end{align*}
    dove abbiamo specificato che vale per \(t \in (0, 1]\) in modo da poter
    dividere per \(t\) ottenendo
    \[
        0 \le t\|v-u\|^2 + 2\Re(\Span{u-f, v-u})
    \]
    e passando al limite per \(t \to 0^{+}\) otteniamo la diseguaglianza
    \[
        0 \le 2\Re {(\Span{u -f, v-u} )} \iff \Re{(\Span{u-f, u - v})} \le 0
    \]
    che è esattamente la~\eqref{eq:DV}
\end{proof}
\begin{proof}[Passo 3: \(u\) sol.~\eqref{eq:DV} \(\implies u\)
    sol.~\eqref{eq:PM}]\label{pf:Proiezioni-3}
    Vogliamo provare la seguente uguaglianza:
    \[
      \|u-f\|^2 - \|v-f\|^2 = 2\Re{(\Span{f-u, v-u} )} - \|u-v\|^2 \quad \forall
      v \in K
    \]
    e da qui concludiamo facilmente in quanto il secondo membro è sempre non
    positivo essendo \(u\) soluzione di~\eqref{eq:DV}. Allora anche il primo
    membro è \(\le 0\) e dunque \(u\) risolve~\eqref{eq:PM}.

    Abbiamo che
    \begin{equation*}
        \|v-f\|^2 = \|(u-f) - (u-v)\|^2 = \|u-f\|^2 + \|u-v\|^2 -
        2\Re{(\Span{u-f, u-v} )}
    \end{equation*}
    che è esattamente l'eguaglianza richiesta
\end{proof}
\begin{proof}[Passo 4: unicità sol.~\eqref{eq:DV}]\label{pf:Proiezioni-4}
    Siano \(u_{1}, u_{2}\) due soluzioni di~\eqref{eq:DV}:
    \[
      \Re{(\Span{u_{1} - f, u_{1} - v})} \le 0 \quad \text{ e } \quad
      \Re{(\Span{u_{2} - f, u_{2} - v})} \le 0 \quad \forall v \in K
    \]
    Allora poniamo nella prima \(v = u_{2}\) e nella seconda \(v = u_{1}\)
    ottenendo 
    \[
      \Re(\Span{u_{1} - f, u_{1} - u_{2}}) \le 0 \quad \text{ e } \quad
      \Re(\Span{f - u_{2}, u_{1} - u_{2}}) \le 0
    \]
    da cui, per linearità del prodotto scalare, nel primo termine
    otteniamo \(\|u_{1} - u_{2}\| \le 0\) e quindi \(u_{1} = u_{2}\) 
\end{proof}
\begin{remark}
    Se \(K\) non fosse chiuso, allora la proiezione potrebbe
    non esistere. Sia ad esempio \(K = x^2 + y^2 < 1\) sul piano \(Oxy\) e un
    punto \(f\) al di fuori di \(K\), allora qualunque \(u\) io prenda in \(K\),
    esiste sempre \(\overline{u} \in K\) tale che \(\|\overline{u} - f\| < \|u
    -f\|\).

    Se \(K\) non fosse convesso, allora la proiezione potrebbe non essere unica.
    Sempre in \(\mathbb{R}^2\) prendiamo come \(K = x^2 + y^2 = 1\) ossia la
    circonferenza unitaria. Allora se prendiamo \(f = (0, 0)\) abbiamo che ogni
    punto di \(K\) è proiezione.
\end{remark}

Nello spazio \(H\), con \(K\) chiuso e non vuoto, posso considerare l'operatore
\(P_K : f \mapsto P_K{(f)}\). Allora \(P_K|_K = \text{Id}\) e in generale
\(P_K{(H)} = K\). L'operatore \(P_K\) non è lineare, infatti se \(K = \{z\} \),
con \(z \in H \sminus \{0_H\} \) abbiamo che \(P_K{(f)}= z\) è costante e
diverso da \(0_H\) quindi non è lineare. \(P_K\) è però continuo, infatti è
lipschitziano di costante 1: siano \(f_{1}, f_{2} \in H\), sia \(u_{1} =
P_K{(f_{1})}\) e \(u_{2} = P_K{(f_{2})}\). Allora, procedendo in modo simile
al passo 4 della dimostrazione del teorema~\ref{thm:proiezioni} otteniamo
\begin{align*}
    \Re{(\Span{u_{1} - f_{1} + f_{2} - u_{2}, u_{1} - u_{2}})} &\le 0  \iff \\
    \iff \Re{(\Span{u_{1} - u_{2}, u_{1}, u_{2}} )} + \Re{(\Span{f_{2} - f_{1},
u_{1} - u_{2}})} &\le 0 \iff \\
    \iff \|u_{1}-u_{2}\|^2 \le \left| \left<f_{1}-f_{2}, u_{1}-u_{2} \right>
\right| &\overset{\ref{thm:schwarz}}{\le } \|f_{1} -f_{2}\|\|u_{1} - u_{2}\| 
\end{align*}
con l'ultima disuguaglianza dovuta a Schwarz, da cui otteniamo che, se \(u_{1}
\neq u_{2}\), \(\|u_{1} - u_{2}\| \le \|f_{1}
- f_{2}\|\) e quindi \(P_K\) è lipschitziano di costante 1.

Ne concludiamo che \(P_K\) è \textbf{non espansivo}, ossia o contrae oppure
lascia inalterate le distanze. Non è una contrazione, si consideri l'esempio
della figura~\ref{fig:quadrato}

\begin{figure}[ht]
    \centering
    \incfig[.3]{quadrato}
    \caption{\(K\) è un quadrato chiuso nel piano \(H\)}\label{fig:quadrato}
\end{figure}

\begin{eser}[Es. 2 del 10 marzo 2020]
    Posto \(\varphi {(x)} = x^2\) e \(\psi {(x)} = x\) per \(x \in [0, 1]\)
    andiamo a considerare
    \[
    C = \left\{ v \in L^2{([0,1])} : \varphi {(x)} \le v{(x)} \le \psi {(x)}
\quad \text{ q.o.~in } [0,1] \right\}
    \]
\begin{enumerate}[label = \alph*.]
    \item Mostrare che \(C\) è un convesso chiuso e non vuoto di \(L^2\) 

        \(C\) è non vuoto perché ad esempio \(\varphi, \psi \in C \). 

        Siano \(u, v \in C\) e \(t \in [0, 1]\) allora 
        \[
          \varphi  = t\varphi  + {(1-t)}\varphi  \le tu + {(1-t)}v  \le t
          \psi + {(1-t)}\psi  = \psi 
        \]
        e quindi \(tu + {(1-t)}v \in C\).

        Inoltre \(C\) è chiuso in \(L^2\) in quanto se \(\{v_{n}\} \subseteq C\)
        è una successione convergente in \(L^2\) a \(v\) allora esiste una
        sottosuccessione \(\{v_{n_{k}}\}\) che converge q.o.~a \(v\) e quindi
        sapendo \(\varphi \le v_{n_k} \le \psi\) q.o.~otteniamo che \(\varphi
        \le v \le \psi\) q.o.~e quindi \(v \in C\).
    \item Se \(f{(x)} = 1-x\), con \(x \in [0,1]\) allora determinare
        \(P_C{(f)}\) e giustificare la risposta.

    \begin{minipage}{0.5\textwidth}
        \vspace*{0pt}
        La proiezione \(u = P_C{(f)}\) è l'elemento di \(C\) che realizza la
        minima distanza da \(f\) in norma \(L^2\). In particolare verifica la
        disuguaglianza variazionale
        \begin{align*}
            \Span{u-f, u-v} &= \\ = \int_{0}^{1} (u-f)(u-v)dx &\le 0 \quad \forall v
            \in C
        \end{align*}
    \end{minipage}\hfill
    \begin{minipage}{0.4\textwidth}
        \vspace*{0pt}
        \incfig{proiezione-esercizio-2.7}
    \end{minipage}

    Volendo provare a fare un guess di possibile proiezione, notiamo che un
    tratto della funzione \(f\) è contenuto in \(C\) (detto malissimo), quindi
    un buon tentativo di soluzione è la funzione \(u : [0,1] \to [0,1]\) data da
    \[
      u{(x)} = \begin{cases}
          \psi {(x)} & f{(x)} > \psi {(x)} \\
          f{(x)} & \varphi {(x)} \le f{(x)} \le \psi {(x)} \\
          \varphi {(x)} & f{(x)} < \varphi  {(x)}
      \end{cases} = 
      \begin{cases}
          \psi {(x)} & x \in (0, \frac{1}{2}) \\
          f{(x)} & x \in [\frac{1}{2}, \frac{-1 + \sqrt{5}}{2}] \\
          \varphi {(x)} & x \in (\frac{-1 + \sqrt{5}}{2}, 1)
      \end{cases}
    \]
    poiché \(f{(x)} = \varphi {(x)} \iff x = 1 / 2\) e \(f{(x)} = \psi {(x)}
    \iff x = (-1 + \sqrt{5}) / 2\). Vogliamo vedere se la funzione \(g\)
    soddisfa la disuguaglianza variazionale~\eqref{eq:DV}:
    \begin{align*}
        \int_{0}^{1}{(u - f)}{(u - v)}dx = \int_0^{1 /2} \underbrace{(\psi -
        f)}_{< 0} \underbrace{(\psi - v)}_{\ge 0} dx  + \\ + \cancel{\int_{1
        /2}^{(-1 + \sqrt{5}) / 2} \underbrace{(f - f)}_{=0} {(f - v)}}dx +
        \int_{(-1 + \sqrt{5}) / 2}^{1} \underbrace{(\varphi - f)}_{> 0}
        \underbrace{(\varphi - v)}_{\le 0} dx
    \end{align*}
    quindi tutti gli addendi sono non positivi e dunque la diseguaglianza è
    verificata e per unicità \(P_C{(f)} = u\) 
\end{enumerate}
\end{eser}

In particolare fra i convessi vi sono anche i sottospazi, e possiamo in tal caso
ottenere qualcosa in più

\begin{theorem}[Proiezioni per sottospazi]\label{thm:proiezioni_sottospazi}
    Sia \(H\) uno spazio di Hilbert e \(K \subseteq H \) un sottospazio \textbf{chiuso}.
    Allora per ogni \(f \in H\) esiste unica \(u \in K\) tale che 
    \[
      \| f- u\|\le \|f - v\| \quad \forall v \in K
    \]
    Inoltre tale \(u\) è anche l'unica soluzione dell'\textbf{uguaglianza}
    variazionale
    \begin{equation}\label{eq:UV}
        \Span{u, v} = \Span{f, v} \quad \forall v \in K
    \end{equation}
\end{theorem}
\begin{remark}
    La \(u\) è quell'elemento di \(K\) che replica tutti i prodotti scalari di
    \(f\) con gli elementi di \(K\) 
\end{remark}
\begin{proof}
    Sappiamo già che vale~\eqref{eq:PM} e~\eqref{eq:DV}, allora in~\eqref{eq:DV}
    poniamo \(w = u \pm v\), con \(v \in K\) e sappiamo \(w \in K\) poiché è un
    sottospazio. Allora otteniamo
    \[
    \aligned
    \Re{(\Span{u - f, u - (u \pm v)})} 
        &= \Re{(\Span{u - f, \mp v})} \leq 0 \\
        &\iff \mp \Re{(\Span{u - f, v})} \leq 0 \\
        &\iff \Re{(\Span{u - f, v})} = 0 \quad \forall v \in K.
    \endaligned
    \]
    poiché la disuguaglianza vale con il \(\mp\), nel complesso consideriamo anche \(w = u \pm iv\),
    e abbiamo un risultato del tutto analogo:
    \[
        \Re{(\Span{u-f, \mp iv} )} \le 0 \iff \Re{(\pm i\Span{u-f, v} )} =
        \mp \Im{(\Span{u-f, v} )} \le 0
    \]
    e di nuovo quindi otteniamo \(\Im{(\Span{u-f, v} )} = 0\) per ogni \(v \in
    K\) e quindi anche la parte immaginaria è nulla. Ne consegue
    \[
      \Span{u-f,v} = \Span{u,v}  -\Span{f, v}  = 0 \quad \forall v \in K 
    \]
\end{proof}
\begin{remark}
    Se \(K \subseteq H \) è un sottospazio chiuso, allora l'operatore \(P_K\) di
    proiezione è \textbf{lineare}, infatti sappiamo che, date \(f, g \in H\) 
    \[
      \Span{P_K{(f)},v} = \Span{f, v} \quad \Span{P_K{(g)}, v} = \Span{g, v}
      \quad \forall v \in K
    \]
    dalle quali otteniamo, per \(\alpha, \beta \in \mathbb{K}\) 
    \[
        \Span{\alpha P_K{(f)} + \beta P_K{(g)}, v} = \Span{\alpha f + \beta g,
        v} \quad \forall v \in K
    \]
    ma poiché l'unico elemento di \(K\) che replica tutti i prodotti scalari di
    di \(\alpha f + \beta g\) con gli elementi di \(K\) è \(P_K{(\alpha f +
    \beta g)}\) otteniamo 
    \[
        P_K{(\alpha f + \beta g)} = \alpha P_K{(f)} + \beta P_K{(g)}
    \]
    ossia \(P_K\) è lineare.
\end{remark}
\begin{remark}
    Se \(K\) è sottospazio chiuso allora \(P_K \in \mathcal{L}{(H, H)} \) e
    inoltre \(\|P_K\| = 1\) se \(K\) contiene almeno un elemento \(z \neq 0\)
    (basta osservare che \(P_K{(z)} = z\)) \(\|P_K\| = 0\) se \(K = \{0_H\} \) 
\end{remark}

\begin{eser}[Es. 4 del 13 gennaio 2020]
    \[
      C = \left\{v \in L^2{(\mathbb{R})} : \int_{(-1, 1)} v d\mu = 0\right\} 
    \]
\begin{enumerate}[label = \alph*)]
    \item Mostrare che \(C\) è sottoinsieme di \(L^{1}{(0, 1)}\). Dimostrare che
        \(C\) è sottospazio chiuso di \(L^2{(0, 1)}\). 

        Siccome \((0, 1)\) ha misura finita, allora \(L^2{(0, 1)} \subseteq
        L^1{(0, 1)}\). 

        Presi \(v, w \in C\) e \(\alpha, \beta \in \mathbb{R}\) allora
        \[
            \int_{(0,1)} \alpha v + \beta w d\mu = \alpha \int_{(0,1)} v d\mu +
            \beta \int_{(0,1)} w d\mu = 0
        \]
        e quindi \(\alpha v + \beta w \in C\). Inoltre poiché \(M : v \mapsto
        \int_{(0, 1)} v d\mu \) è un operatore continuo
        (esempio~\ref{ex:int_continuo}) e \(C = M^{-1}{\{0\}}\) è la
        controimmagine del chiuso \(\{0\}\) e quindi è chiuso.

    \item Con \(f{(x)} = \ln \frac{1}{x}\), \(x \in (0, 1)\). Mostrare
        che \(f \in L^{2}{(0, 1)}\) e trovare \(P_C{(f)}\). 

        \(f{(x)} = -\ln x = |\ln x|\). Abbiamo che \(\left| \ln {(x)} \right| ^2
        \le c / \sqrt{x}\) infatti se \(h{(x)} = \sqrt{x} \left| \ln x
        \right|^2\) allora \(\lim_{x \to 0^{+}} h{(x)} = 0\) e \(h{(1)} = 0\)
        quindi \(\left| \ln x \right| ^2 \le \|h\|_{\infty}  / \sqrt{x}\) che
        sta in \(L^{1}{(0, 1)}\) e quindi \(f \in L^{2}{(0, 1)}\). Per la
        proiezione \(P_C{(f)}\) come nell'esercizio precedente ipotizziamo un
        risultato plausibile e poi la controlliamo con l'uguaglianza
        variazionale. In particolare quindi vogliamo trovare \(u \in C\) tale
        che
        \[
            \int_{(0, 1)} uv \, d\mu = \int_{(0,1)} fv\,d\mu  \quad \forall v \in C
        \]
        notando che \(\int _{(0,1)} -\ln x \,d \mu = 1\) possiamo provare a
        prendere \(u{(x)} = f{(x)} - 1 = -\ln x - 1 \in C\) e otteniamo
        \begin{align*}
            \cancel{\int _{(0,1)} -\ln x \cdot v \,d \mu} - \int _{(0, 1)} v \,d
            \mu &= \cancel{\int_{(0,1)} -\ln x \cdot v \,d \mu}  \\
            \iff \int_{{(0,1)}} v \,d \mu &= 0 \quad \text{ vero } \forall v \in C
        \end{align*}
        quindi \(P_C{(f)} = u\)
\end{enumerate}
\end{eser}

\subsection{Sottospazi ortogonali}
Sia \(H\) uno spazio di Hilbert, \(S \subseteq H \) un sottoinsieme non vuoto.
Allora definiamo
\[
    S^\perp = \{x \in H : \Span{x, y} = 0 \quad \forall y \in S\} 
\]
ovviamente \(0_H \in S^\perp \) e inoltre \(S^\perp \) è sottospazio di \(H\),
infatti presi \(u, v \in S^\perp \) e \(\alpha, \beta \in \mathbb{K}\) abbiamo che
\[
    \Span{\alpha u + \beta v, y} = \alpha \Span{u, y} + \beta \Span{v, y} = 0 +
    0 = 0 \quad \forall y \in S
\]
Inoltre \(S^\perp \) è chiuso in \(H\) in quanto intersezione di chiusi (le
controimmagini di 0 tramite \(x \mapsto \Span{x, y} \) che è continuo al variare
di \(y \in S\)).

Partendo da un sottoinsieme \(S\) qualunque di \(H\) abbiamo quindi che
\(S^\perp \) è un sottospazio chiuso.

\begin{theorem}[Decomposizione ortogonale]\label{thm:dec_orto}
    Sia \(H\) uno spazio di \(Hilbert\) e sia \(K \subseteq H \) un sottospazio
    chiuso. Allora per ogni \(f \in H\) esistono \(u \in K, v \in K^\perp \)
    tali che \[f = u + v\] Questa rappresentazione è unica.
\end{theorem}
\begin{remark}
    Si scrive allora \(H = K \oplus K^\perp\) e si dice che \(H\) è la
    \textbf{somma diretta} di \(K\) e \(K^\perp\)
\end{remark}
\begin{remark}
    Considerando \(S \subseteq H \) qualsiasi, abbiamo che
    \(S^\perp \ni 0_H\). Nel caso di \(K\) sottospazio chiuso, allora
    anche \(0_H \in K\). L'intersezione è proprio \(K \cap K^\perp = \{0\}\): se
    \(z \in K \cap K^\perp \) allora \(\Span{z, z} = 0\) e quindi \(z = 0_H\)
\end{remark}
\begin{proof}
    Dato \(f \in H\) prendiamo \(u = P_K{(f)} \in K\). Ora posto \(v = f - u\)
    controlliamo che \(v \in K^\perp \):
    \[
        \Span{v, y} = \Span{f - u, y} = \Span{f, y} - \Span{u, y} = 0 \quad\eqref{eq:UV}
    \]
    e quindi \(v \in K^\perp \), da cui \(H = K + K^\perp \).

    Per l'unicità, supponiamo che esistano \(u_1, u_{2} \in K, v_{1}, v_{2} \in
    K^\perp\) tali che 
    \begin{align*}
        H \ni f &= u_{1} + v_{1} = u_{2} + v_{2}
        \implies \underbrace{u_{1} - u_{2}}_{\in K}  = \underbrace{v_{2} -
        v_{1}}_{\in K^\perp}
    \end{align*}
    ma allora \(u_{1} - u_{2} = v_{1} - v_{2} = 0_H\) e quindi \(u_{1} = u_{2},
    v_{1} = v_{2}\)
\end{proof}
\begin{remark}
    Data \(f \in H\), abbiamo \(f = P_K{(f)} + P_{K^\perp } {(f)}\) perché \(K =
    {(K^\perp )}^\perp\) (se e solo se \(K\) è \textbf{sottospazio chiuso}).
\end{remark}

\begin{example}
    In \(\mathbb{R}^2\) i sottospazi chiusi sono \(\{0\} , \mathbb{R}^2\) e le
    rette passanti per l'origine. Se ora \(K = \{{(x, y)} \in \mathbb{R}^2 : 2x
        + 3y = 0\}\) allora \(K^\perp = \{{(x, y)} \in \mathbb{R}^2 : 3x - 2y =
        0\}\) è la retta perpendicolare.
\end{example}

\begin{example}
    Preso \(H = L^2{(0, 1)}\) e \(C = \{v \in L^2{(0, 1)}: \int _{{(0,1)}} v \,d
    \mu = 0\} \). Allora \(C^\perp \) consiste di tutte le funzioni \(u \in
    L^2{(0, 1)}\) tali che \(\int _{{(0,1)}} u \cdot v \,d \mu = 0 \) per ogni
    \(v \in C\). Se \(u\) è una funzione costante, allora chiaramente \(u \in
    C^\perp \). Allora \(C^\perp \) è costituito solo dalle costanti? Sì perché
    presa una \(f \in L^2{(0, 1)}\) la si può scomporre in \(f_{0} + k\), con
    \(k = \int _{{(0,1)}} f \,d \mu\) (\(L^2 \subseteq L^{1}\) perché
    \(\mu{(0,1)} < +\infty\)) e \(f_{0} = f - k\). Allora \(k\) è
    costante e \(f_{0} \in C\) e quindi se \(K\) è il sottospazio delle costanti
    \( L^2{(0,1)}\) abbiamo che \(H = C \oplus K\) e \(K \subseteq C^\perp  \),
    dunque \(K = C^\perp\).
\end{example}

\begin{lemma}
    Se \(H\) è uno spazio prehilbertiano e fissiamo \(y \in H\), allora
    l'applicazione
    \[
        L_y = H \ni x \mapsto \Span{x, y} \in \mathbb{K}
    \]
    è un funzionale lineare e continuo su \(H\).

    Inoltre \(\|L_y\|_{H'} \le \|y\|\) 
\end{lemma}
\begin{proof}
    È lineare perché il prodotto scalare è lineare, ed è continuo per la
    diseguaglianza di Schwarz (Teorema~\ref{thm:schwarz}). Diretta conseguenza è
    che la norma di \(L_y\) è minore o uguale a \(\|y\|\)
\end{proof}

Quindi per ogni elemento \(y \in H\) si costruisce un elemento \(L_y \in H'\).
Il seguente teorema ci dice che vale anche il viceversa.

\begin{theorem}[di Riesz]\label{thm:riesz}
    Sia \(H\) uno spazio di Hilbert. Allora per ogni \(L \in H'\) esiste unico
    un elemento \(y \in H\) tale che \(L{(x)} = \Span{x, y} \) per ogni \(x \in
    H\). Inoltre vale l'uguaglianza
    \[
      \|L\|_{H'} = \|y\|_H
    \]
\end{theorem}
\begin{remark}
    Grazie a questo teorema possiamo dire che in uno spazio di Hilbert, abbiamo
    che \(H \cong H'\) 
\end{remark}
\begin{note}
    Abbiamo già incontrato un risultato simile negli spazi \(\ell^{p}\),
    trovando che \({(\ell^{p})}' = {(\ell^{p'})}\) per \(p < +\infty\). In
    particolare avevamo trovato che \({(\ell^2)}' \cong \ell^2\), che potrebbe essere
    provato anche con il teorema di Riesz, in quanto \(\ell^2\) è uno spazio di
    Hilbert. Un altro risultato, che invece non abbiamo dimostrato, è quello del caso 
    di \(L^2\).
\end{note}
\begin{proof}
    Per l'\textbf{unicità}, supponiamo esistano \(y_{1}, y_{2} \in H\) tali che
    \[
        L{(x)} = \Span{x, y_{1}} = \Span{x, y_{2}} \quad \forall x \in H
    \]
    e allora sottraendo troviamo \(\Span{x, y_{1} - y_{2}} = 0\) per ogni \(x
    \in H\). Prendendo ora \(x = y_{1} - y_{2}\) otteniamo che \(\|y_{1} -
    y_{2}\| = 0\) e quindi \(y_{1} = y_{2}\).

    Per l'\textbf{esistenza}, definiamo 
    \[
      N = \{x \in H : L{(x)} = 0\} = \ker L
    \]
    che è non vuoto (\(0_H \in N\)), è un
    sottospazio (controimmagine di un operatore lineare) ed è chiuso in \(H\)
    (controimmagine del chiuso \(\{0\}\) tramite
    un operatore continuo). Si distinguono due casi:
\begin{enumerate}[label = \arabic*.]
    \item \(N = H \implies L\) è il funzionale nullo e quindi \(y = 0_H\) 
    \item \(N \neq H \implies \) esiste uno \(z \in N^\perp \) tale che
        \(\|z\| = 1\), che posso costruire esplicitamente: sia \(g \in H \sminus N \), consideriamo
        la proiezione su \(N\),
        \(P_N{(g)} \neq g\), possiamo definire 
        \[z := \frac{g - P_N{(g)}}{\|g - P_N{(g)}\|}\]
        È chiaramente vero che \(z \in N^\perp \)
        per la dimostrazione del teorema~\ref{thm:dec_orto} e inoltre \(\|z\| = 1\). Ora mostriamo
        che \(y = \overline{L{(z)}} z\) è l'elemento cercato, ossia vogliamo
        mostrare che
        \begin{equation}\label{help:riesz}
        L{(x)} = \Span{x, y} = \Span{x, \overline{L{(z)}}z}  \quad \forall x \in H
        \end{equation}
        Se \(x \in N\) allora~\eqref{help:riesz} è banalmente vera in quanto
        \(L{(x)} = 0 = \Span{x, z}\) perché \(z \in N^\perp\).

        Se invece \(x = \lambda z\), con \(\lambda \in \mathbb{K}\) allora
        \[
          L{(\lambda z)} = \lambda L{(z)} = \lambda L{(z)} \|z\|^2 =
            \lambda{L{(z)}} \Span{z, z} =  
          \Span{\lambda z, \overline{L{(z)}}z} 
        \]
        e quindi anche in questo caso vale~\eqref{help:riesz}. Ora mostriamo che
        \(H = N \oplus \Span{z} \) e ne conseguirà la tesi per linearità.
        Infatti per ogni \(x \in H\) abbiamo
        \[
          x = \underbrace{\left( x - \frac{L{(x)}}{L{(z)}}z \right)}_{ =: x_N}  +
          \underbrace{\frac{L{(x)}}{L{(z)}}}_{=: \lambda}  z
        \]
        e \(L{(x_N)} = L{(x)} - \frac{L{(x)}}{L{(z)}} L{(z)} = 0\), quindi \(x_N
        \in N\). Poiché \(\Span{z} \subseteq N^\perp  \) allora \(N^\perp  =
        \Span{z} \) avendo la scrittura univoca del teorema~\ref{thm:dec_orto} 
        e quindi \(H = N \oplus \Span{z} \). 
\end{enumerate}
    Per l'\textbf{uguaglianza delle norme}, abbiamo, per definizioni e Schwarz: 
    \[
        \|L\|_{H'}  = \sup_{x \neq 0} \frac{\left| L{(x)} \right| }{\|x\|} =
    \sup_{x \neq 0} \frac{\left| \Span{x, y}  \right|} {\|x\|} \le \sup_{x \neq
    0} \frac{\|x\|_H \|y\|_H}{\|x\|_H} = \|y\|_H
    \]
    per l'altra disuguaglianza, prendiamo \(x = y\) ottenendo
    \[
        \|y\|^2 = \left| \Span{y, y}  \right| = \left| L{(y)} \right| \le
        \|L\|_{H'} \|y\| \implies \|y\| \le \|L\|_{H'}
    \]
\end{proof}

\subsection{Serie di Fourier}
\begin{definition}[Sistema ortonormale]
    Sia \(H\) uno spazio prehilbertiano. Una successione \(\{e_{n}\} \) di
    elementi di \(H\) si dice sistema \textbf{ortonormale} (o successione
    ortonormale) se \(\Span{e_{i}, e_{j}} = \delta_{ij}\) per ogni \(i, j \in
    \mathbb{N}\), con \(\delta_{ij}\) la delta di Kronecker.
\end{definition}
Essenzialmente in un sistema ortonormale gli \(e_{n}\) sono tutti di norma
unitaria e sono ortogonali tra loro.
\begin{example}
    In \(\ell^2\) gli elementi della base canonica 
    \[
        e^{k} = (0, \ldots, 0, \overset{(k)}{1}, 0, \ldots)
    \]
    costituiscono un sistema ortonormale.
\end{example}
\begin{remark}
    Nel caso in cui \(H\) ha dimensione finita i sistemi ortonormali 
    sono formati da una lista di al più  \(\dim H\) elementi, e quando sono esattamente
    \(\dim H\) formano una base di\(H\). Nel caso in cui \(H\) ha
    dimensione infinita si possono invece prendere successioni ortonormali.
\end{remark}
\begin{definition}[Serie di Fourier]\label{def:fourier}
    Dato un sistema ortonormale \(\{e_{n}\} \subseteq H \) allora per ogni \(x
    \in H\) si possono considerare i valori \[\Span{x, e_{k}}, \quad k \in
    \mathbb{N}\quad \text{\textbf{coefficienti di Fourier}}\] e la serie
    \[
      \sum_{k=1}^{\infty} \Span{x, e_{k}} e_{k} \quad \text{\textbf{serie di
      Fourier di }} x \in H
    \]
\end{definition}

Vi sono almeno due problemi notevoli: 
\begin{enumerate}[label = --]
    \item convergenza della serie di Fourier;
    \item in caso di convergenza, valore a cui converge la serie.
\end{enumerate}
In merito si forniranno alcuni risultati.
\begin{proposition}[Diseguaglianza di Bessel]\label{prop:bessel}
    Sia \(H\) uno spazio di Hilbert, \(\{e_{n}\} \subseteq H \) un sistema
    ortonormale. Allora
\begin{enumerate}[label = \arabic*.]
    \item Per ogni \(x \in H\) e per ogni \(n \in \mathbb{N}\) si ha
        \begin{equation}\label{eq:bessel1}
          \left\|x - \sum_{k=1}^{n} \Span{x, e_{k}} e_{k} \right\|^2 =
          \|x\|^2 - \sum_{k=1}^{n} \left| \Span{x, e_{k}}  \right|^2 
        \end{equation}
    \item Per ogni \(x \in H\) vale la diseguaglianza di Bessel
        \begin{equation}\label{eq:bessel}
          \sum_{k=1}^{\infty} |\Span{x, e_{k}} |^2 \le \|x\|^2 
        \end{equation}
    \item Per ogni elemento c = \({(c_{k})}\) successione di scalari vale
        \begin{equation}\label{eq:bessel3}
            \sum_{k=1}^{\infty} c_{k} e_{k} \text{ converge in } H \iff c \in
            \ell^2
        \end{equation}
\end{enumerate}
\end{proposition}
\begin{proof}
    La 2.~discende in modo immediato da 1.~in quanto tutte le ridotte della
    serie differiscono da \(\|x\|^2\) per una quantità non negativa.
    Proviamo dunque 1.
    \begin{align*}
        \left\|x - \sum_{k=1}^{n} \Span{x, e_{k}} e_{k} \right\|^2 &= \Span{x -
          \sum_{k=1}^{n} \Span{x, e_{k}} e_{k}, x - \sum_{j=1}^{n} \Span{x,
    e_{j}} e_{j}} = \\ = \Span{x, x} - \sum_{j=1}^{n} \overline{\Span{x, e_{j}}
        }\Span{x, e_{j}} &- \sum_{k=1}^{n} \Span{x, e_{k}} \Span{e_{k}, x} +
\sum_{k,j=1}^{n} \Span{x, e_{k}} \overline{\Span{x, e_{j}}}\Span{e_{k}, e_{j}} =
\\
= \|x\|^2 - \sum_{j=1}^{n} |\Span{x, e_{j}} |^2 &- \sum_{k=1}^{n} |\Span{x,
e_{k}}|^2 + \sum_{(k=i)=1}^{n} \Span{x, e_{k}} \overline{\Span{x, e_{j}}} = \\ &=
\|x\|^2 - \sum_{k=1}^{n} |\Span{x, e_{k}} |^2
    \end{align*}

    Rimane da provare 3. 
    \(\sum_{k=1}^{\infty} c_{k} e_{k} \) converge in \(H\) se e solo se la serie
    è di Cauchy in \(H\) cioè se
    \[
      \forall \varepsilon > 0 \quad \exists \overline{k} \in \mathbb{N} :
      \forall n \ge \overline{k},\,\,j \ge 0 \text{ si ha } \underbrace{\left\|
      \sum_{k=n}^{n+j} c_{k} e_{k} \right\|^2}_{\text{differenza di due ridotte}}  < \varepsilon
    \]
    Allora, usando l'ortonormalità,
    \[
      \left\|\sum_{k=n}^{n+j} c_{k} e_{k} \right\|^2 = \Span{\sum_{k=n}^{n+j}
      c_{k} e_{k}, \sum_{i=n}^{n+j} c_{i} e_{i }} = \sum_{k=n}^{n+j} |c_{k}|^2
    \]
    ossia, per la condizione di Cauchy, la serie
    \(\sum_{k=1}^{\infty} |c_k|^2 \) converge se e solo
    \(c \in \ell^2\). Sono tutte equivalenze e quindi si è stabilita l'equivalenza tra le due condizioni. 
\end{proof}
\begin{remark}
    Questa proposizione ci dice già che la serie di Fourier~\ref{def:fourier}
    converge in \(H\) siccome la successione numerica data da \(\Span{x,
    e_{k}}\) è in \(\ell^2\) (per la diseguaglianza di Bessel~\eqref{eq:bessel})
\end{remark}

\begin{proposition}\label{prop:2-45}
    Sia \(H\) uno spazio di Hilbert e sia \(\{e_{n}\} \) un sistema ortonormale
    in \(H\). Allora posto \(V_{n} = \mathrm{span}\{e_{1}, e_{2}, \dots, e_{n}\}\), con
    \(n \in \mathbb{N}\) si ha che 
    \[
      P_{V_{n}} {(x)} = \sum_{k=1}^{n} \Span{x, e_{k}} e_{k}, \quad \forall x
      \in H 
    \]
\end{proposition}
\begin{remark}
    Questa proposizione ci dice che la migliore approssimazione di \(x \in
    V_{n}\) è proprio la ridotta \(n\)-esima della serie di Fourier.
\end{remark}
\begin{proof}
    Siano \(c_{1}, c_{2}, \dots, c_{n}\) scalari arbitrari, abbiamo:
    \[
    \begin{aligned}
        \left\| x - \sum_{k=1}^{n} c_{k} e_{k} \right\|^2 
        &= \langle x - \sum_{k=1}^{n} c_{k} e_{k}, x - \sum_{j=1}^{n} c_{j} e_{j} \rangle \\
        &= \|x\|^2 - \sum_{j=1}^{n} \overline{c_{j}} \langle x, e_{j} \rangle 
           - \sum_{k=1}^{n} c_{k} \underbrace{\langle e_{k}, x \rangle}_{= \overline{\langle x, e_{k} \rangle}} 
           + \sum_{k,j=1}^{n} c_{k} \overline{c_{j}} \langle e_{k}, e_{j} \rangle \\
        &= \|x\|^2 - 2 \sum_{k=1}^{n} \Re \left( \overline{c_{k}} \langle x, e_{k} \rangle \right) 
           + \sum_{k=1}^{n} |c_{k}|^2 + \color{Sepia}  \sum_{k=1}^{n} |\langle x, e_{k} \rangle|^2 
           - \sum_{k=1}^{n} |\langle x, e_{k} \rangle|^2 \\
        &= \|x\|^2 - \sum_{k=1}^{n} |\langle x, e_{k} \rangle|^2 
           + \sum_{k=1}^{n} \left( |\langle x, e_k \rangle|^2 
           - 2 \Re \left( \overline{c_{k}} \langle x, e_{k} \rangle \right) + |c_{k}|^2 \right) \\
        &\overset{\eqref{eq:bessel1}}{=} \left\| x - \sum_{k=1}^{n} \langle x, e_{k} \rangle e_{k} \right\|^2 
           + \sum_{k=1}^{n} \underbrace{\left| \langle x, e_{k} \rangle - c_{k} \right|^2}_{> 0} \\
        &> \left\| x - \sum_{k=1}^{n} \langle x, e_{k} \rangle e_{k} \right\|^2.
    \end{aligned}
    \]
    Dunque la ridotta della serie di Fourier è proprio l'elemento di minima
    distanza da \(x\) in \(V_{n}\) e quindi è la proiezione di \(x\) su
    \(V_{n}\)
\end{proof}

\begin{proof}[Dimostrazione alternativa]

Dobbiamo controllare, per il teorema~\ref{thm:proiezioni_sottospazi} (\(V_n\) è un sottospazio chiuso), che  
\[
\langle v, x \rangle = \Span{v, \sum_{k=1}^n \langle x, e_k \rangle e_k} \quad \forall v \in V_n.
\]  
In particolare, controlliamo che valga per gli elementi della base
\(\{e_j\}_{j=1, \dots, n}\) di \(V_n\):  
\[
\begin{aligned}
  \Span{e_j, \sum_{k=1}^n \langle x, e_k \rangle e_k} &= \langle e_j, x \rangle \|e_j\|^2 \\
  &= \langle e_j, x \rangle.
\end{aligned}
\]
Siccome, a \(x\) fissato, il prodotto induce un operatore lineare, ottengo la tesi.     
\end{proof}

\begin{theorem}[Caratterizzazione convergenza della serie di Fourier]\label{thm:conv_Fourier}
    Sia \(H\) uno spazio di Hilbert e sia \(\{e_{k}\} \) un sistema ortonormale.
    Allora sono equivalenti:
    
    \begin{enumerate}[label = \textit{\roman*)}]
    \item \(\mathrm{span} \{e_{k} | \, k \in \mathbb{N}\}\) è denso in \(H\);
    \item La serie di Fourier di \(x\) converge a \(x\) per ogni \(x \in H\);
    \item \(\displaystyle \|x\|^2 = \sum_{k=1}^{\infty} |\Span{x, e_{k}} |^2 \)
        per ogni \(x \in H\) (identità di Bessel-Parseval);
    \item Se \(x \in H\) è tale che \(\Span{x, e_{k}} = 0\) per ogni \(k \in
        \mathbb{N}\), allora \(x = 0_H\).
\end{enumerate}
\end{theorem}
\begin{proof} \(\)
    \begin{enumerate}
        \item [\((i) \implies (ii)\)]
        Se \(\mathrm{span}
        \{e_{k} | \, k \in \mathbb{N}\} \) è denso in \(H\) allora 
        \[
          \forall \varepsilon > 0 \quad \forall x \in H \quad \exists z \in
          \mathrm{span}\{e_{k}\} : \|x - z\| \le \varepsilon
        \]
        e dunque esiste un \(\overline{k}\) tale che \(z \in V_{\overline{k}} =
        \mathrm{span}\{e_{1}, \dots, e_{\overline k}\}  \)
        essendo \(z \in \mathrm{span}\{e_{k}\}\). Per la
        proposizione~\ref{prop:2-45} \[\sum_{j=1}^{\overline{k}} \Span{x,
        e_{j}} e_{j}\] è la migliore approssimazione di \(x\) in \(V_{\overline{k}}
        \), quindi 
        \[
          \left\|x - \sum_{j=1}^{\overline{k}} \Span{x, e_{j}} e_{j} \right\|^2 \le
          \|x - z\|^2 \le \varepsilon^2
        \]
        dove la disugaglianza vale applicando il teorema di Pitagora. Se prendiamo \(n > \overline{k}\), diciamo che
        \begin{align*}
            \|x\|^2 - \sum_{k=1}^{n} |\Span{x, e_{k}}|^2 &\le \|x\|^2 -
            \sum_{k=1}^{\overline{k}} |\Span{x, e_{k}}|^2 \iff \\ \iff
            \left\|x - \sum_{j=1}^{n} \Span{x, e_{j}}e_{j}  \right\|^2 &\le \left\| x
            - \sum_{j=1}^{\overline{k}} \Span{x, e_{j}} e_{j} \right\|^2 \le
            \varepsilon^2
        \end{align*} dove si è usata la~\eqref{eq:bessel1} della
        proposizione~\ref{prop:bessel}. Ne viene fuori che 
        \[
          \forall \varepsilon > 0 \quad \exists \overline{k} \in \mathbb{N} :
          \forall n \ge \overline{k} \quad \left\|x - \sum_{j=1}^{n} \Span{x,
          e_{j}}\right\|^2 \le \varepsilon^2
        \]
        ossia, per arbitarietà di \(n\), \textit{(ii)}.

    \item [\((ii) \implies (i)\)] Banale.

    \item [\((ii) \iff (iii)\)] Usando la~\eqref{eq:bessel1} abbiamo
    \[
        \underbrace{\left\| x - \sum_{k=1}^{n} \Span{x, e_{k}} e_{k}
        \right\|^2}_{\to 0 \iff (ii)}  =
      \underbrace{\|x\|^2 - \sum_{k=1}^{n} |\Span{x, e_{k}} |^2}_{\to 0 \iff
      (iii)} 
    \]
    \item [\((iii) \implies (iv)\)] Se \(x\) ha i coefficienti di Fourier tutti nulli, allora per la
    \textit{(iii)} abbiamo
    \[
      \|x\|^2 = \sum_{k=1}^{\infty} |\Span{x, e_{k}} |^2 = \sum_{k=1}^{\infty} 0
      = 0 \implies x = 0_H
    \]

    \item [\((iv) \implies (ii)\)] Sia \(x \in H\) e \(y = \sum_{k=1}^{\infty} \Span{x, e_{k}} e_{k} \)
    la somma della serie di Fourier, che converge sempre in \(H\). Allora
    succede che l'elemento \(x - y\) ha tutti i coefficienti di Fourier nulli.
    Infatti 
    \begin{align*}
        \Span{x - y, e_{j}} &= \lim_{n \to \infty} \Span{x, e_{j}} -
      \Span{\sum_{k=1}^{n} \Span{x, e_{k}} e_{k}, e_{j} } = \lim_{n \to \infty}
      \Span{x, e_{j}} - \sum_{k=1}^{n} \Span{x, e_{k}} \Span{e_{k}, e_{j}} = \\
                            &= \lim_{n \to \infty} \Span{x, e_{j}} - \Span{x,
                            e_{j}} = \lim_{n \to \infty} 0 = 0
    \end{align*}
    dove si è usata la continuità del prodotto scalare e si è assunto \(n > j\),
    cosa vera definitivamente. Ora dunque per \textit{(iv)} abbiamo che \(x - y
    = 0\) e dunque la serie di Fourier converge a \(x\). 
    \end{enumerate}
\end{proof}
\begin{remark}
    Al teorema~\ref{thm:conv_Fourier} si potrebbe inserire una
    \textbf{quinta} condizione equivalente, ossia
    \[
        \Span{x, y} = \sum_{k=1}^{\infty} \Span{x, e_{k}} \overline{\Span{y,
        e_{k}}}  \quad \forall x, y \in H
    \]
    dunque il prodotto scalare di due elementi di \(H\) qualsiasi si può
    scrivere come prodotto scalare in \(\ell^2\) delle successioni date dai
    coefficienti di Fourier. Questa condizione è esattamente
    \textit{(iii)} per \(x = y\) e inoltre è implicata da \textit{(ii)} poiché
    \[
      \Span{\sum_{k=1}^{n} \Span{x, e_{k}} e_{k} , \sum_{j=1}^{n} \Span{x,
              e_{j}} e_{j} } = \sum_{k=1}^{n} \Span{x, e_{k}} \overline{\Span{x,
      e_{k}}}
    \]
    e il limite per \(n \to \infty\) è proprio l'identità che si cerca, infatti
    assumendo \textit{(ii)} abbiamo che le serie di Fourier nel primo membro
    convergono rispettivamente a \(x\) e a \(y\), e per la continuità del
    prodotto scalare si ha il risultato.
\end{remark}

\begin{definition}[Sistema ortonormale completo]
    Un sistema ortonormale \(\{e_{k}\} \subseteq H \) si dice \textbf{completo}
    se vale la condizione \textit{(iv)} del teorema~\ref{thm:conv_Fourier}, cioè
    se l'unico elemento \(x \in H\) ortogonale a tutti gli \(e_{k}\) è
    l'elemento nullo di \(H\) 
\end{definition}
Ovviamente basta che valga una qualunque delle condizioni, ma la definizione è
associata alla \textit{(iv)} per qualche motivo, probabilmente legato all'intuizione 
che si ha di un sistema ortonormale completo. Un sistema ortonormale completo
viene anche detto \textbf{base ortonormale} di \(H\).
\begin{proposition}\label{prop:basorto-separabile}
Se lo spazio di Hilbert \(H\) possiede una base ortonormale allora \(H\) è
\textbf{separabile}
\end{proposition}
\begin{proof}
Ricordando la definizione~\ref{def:separabile} di spazio separabile, ossia
avente un sottoinsieme denso e numerabile, se \(H\) è reale posso considerare
l'insieme delle combinazioni lineari finite di \(\{e_{k}, k \in \mathbb{N}\} \)
a coefficienti razionali. Se \(H\) è complesso posso considerare le combinazioni
lineari finite a coefficienti con parte reale e parte immaginaria razionali.
Tale insieme è denso in \(H\) e numerabile, dunque \(H\) è separabile anche
nella vecchia definizione. % Ma allora tale insieme può anche essere preso e messo
% in corrispondenza con la successione canonica in \(\ell^2\), ne segue la
% seguente:
\end{proof}

\begin{proposition}\label{prop:isomorfol2}
    Ogni spazio di Hilbert di dimensione infinita che possieda una base ortonormale
    è isomorfo a \(\ell^2\). 
\end{proposition}
\begin{proof}
    Ogni elemento dello spazio risulta identificato
    alla successione dei suoi coefficienti di Fourier. C'è una corrispondenza
    biunivoca tra \(x \in H\) e \(\{\Span{x, e_{k}}\} \in \ell^2\) che conserva
    le norme.
\end{proof}

Ci chiediamo se vale il viceversa della
proposizione~\ref{prop:basorto-separabile}, ossia se uno spazio di Hilbert
separabile ammette sempre una base ortonormale. La risposta è sì, alla grande.

\begin{lemma}[Procedura di Gram-Schmidt]
    Sia \(H\) uno spazio di Hilbert e \(\{x_{n}\} \) una successione di elementi
    linearmente indipendenti. Allora esiste una successione \(\{e_{n}\} \) di
    elementi ortonormali tali che \(\mathrm{span}\{x_{1}, \dots, x_{n}\} =
    \mathrm{span}\{e_{1}, \dots, e_{n}\} \) per ogni \(n \in \mathbb{N}\)
\end{lemma}
\begin{proof}
    Per ogni \(n \in \mathbb{N}\) definiamo \(e_{n}\) come
    \[
      e_{n} = \frac{x_{n} - \sum_{k=1}^{n-1} \Span{x_{n}, e_{k}} e_{k}}{\|x_{n} -
      \sum_{k=1}^{n-1} \Span{x_{n}, e_{k}} e_{k}\|}
    \]
    e si può verificare che \(\{e_{n}\} \) è una successione ortonormale che
    soddisfa la tesi.
\end{proof}

\begin{theorem}[Separabile \(\iff\) base ortonormale]\label{thm:basorto-separabile}
    Sia \(H\) uno spazio di Hilbert a dimensione infinita. Allora \(H\) è
    separabile se e solo se \(H\) possiede una base ortonormale.
\end{theorem}
\begin{proof}
    Un'implicazione è data dalla proposizione~\ref{prop:basorto-separabile}.

    Se \(H\) è separabile, allora esiste una successione \(\{y_{k}\} \) densa in
    \(H\). Allora possiamo costruire un'altra successione \(\{x_{n}\}\) tale che
    per ogni \(n \in \mathbb{N}\), \(x_{1}, \dots, x_{n}\) sono linearmente
    indipendenti e inoltre \(\mathrm{span}\{x_{n}, n \in \mathbb{N}\} \) è denso
    in \(H\). A tal scopo prendiamo infatti \(y_{1}\) e se \(y_{1} \neq 0\)
    pongo \(x_{1} = y_{1}\), altrimenti procedo su \(y_{2}\) allo stesso modo
    (butto \(y_{1}\)). Poi (assumendo \(y_{1} \neq 0\)) guardo \(y_{2}\) e se è
    combinazione lineare di \(x_{1}\) allora lo butto, altrimenti lo prendo come
    \(x_{2}\), e così via. Costruisco dunque \(\{x_{n}\}\) come sottosuccessione
    di elementi di \(\{y_{n}\} \). Abbiamo quindi che per ogni \(k \in
    \mathbb{N}\) esiste \(n \le k\) tale che 
    \[
        \mathrm{span}\{y_{1}, \dots, y_{k}\} = \mathrm{span}\{x_{1}, \dots,
        x_{n}\}
    \]
    e quindi \(\mathrm{span}\{x_{n}, n \in \mathbb{N}\} = \mathrm{span}\{y_{n},
    n \in \mathbb{N}\} \) e dunque anche \(\{x_{n}\} \) ha span denso in \(H\).
    Da \(\{x_{n}\} \) possiamo costruire una base ortonormale con la procedura
    di Gram-Schmidt.
\end{proof}

In \(\ell^2\) la successione canonica \(\{e^{k}\} \) è una base ortonormale, e
infatti se \(x = (x_{k}) \in \ell^2\) è tale che \(\Span{x, e^{k}} = x_{k} = 0\)
per ogni \(k \in \mathbb{N}\), allora necessariamente \(x\) è la successione
nulla.

\begin{eser}[\(\star\) base ortonormale di \(L^2(-\pi,
    \pi)\)]\label{eser:baseL2_periodiche}
    
Consideriamo ora \(L^2{(-\pi, \pi)}\) e lavoriamo su funzioni \(f : \mathbb{R}
\to \mathbb{R}\) misurabili e periodiche di periodo \(2\pi\) tali che
\(f|_{(-\pi, \pi)} \in L^2(- \pi, \pi) \). Mostrare che le funzioni
\[
  \frac{1}{\sqrt{2\pi}}, \quad \frac{\sin{(kt)}}{\sqrt{\pi}}, \quad
  \frac{\cos{(kt)}}{\sqrt{\pi}}, \quad k \in \mathbb{N}
\]
formano una base ortonormale di \(L^2{(-\pi, \pi)}\).
\end{eser}
\begin{remark}
    Chiaramente non c'è nulla di particolare nell'intervallo \((-\pi, \pi)\)
    eccetto che è particolarmente facile definire le funzioni \(f\). Questo
    esercizio mostra che esiste (e la presenta) una base ortonormale su uno
    spazio di funzioni periodiche. Basta infatti stretchare le funzioni e
    traslarle e trovi il periodo che vuoi, dove vuoi.
\end{remark}
\begin{remark}
    In ambito complesso si possono anche prendere le funzioni \(\frac{1}{\sqrt{2\pi}}e^{int}\) con \(n \in
    \mathbb{Z}\) che formano una base ortonormale.
\end{remark}

\begin{definition}[Polinomio trigonometrico]\label{def:polinomio_trig}
Una funzione del tipo
\[
    p{(t)} = a_{0} + \sum_{k=1}^{n} {(a_{k} \cos{(kt)} + b_{k} \sin{(kt)})} \quad
    \text{con } a_{k}, b_{k} \in \mathbb{R}
\]
viene detta \textbf{polinomio trigonometrico} di grado \(n\) in ambito reale.
In modo analogo 
\[
    q{(t)} = \sum_{k=-n}^{n} c_{k} e ^{ikt} \quad \text{con } c_{k} \in \mathbb{C}
\]
è un \textbf{polinomio trigonometrico} di grado \(n\) in ambito complesso.
\end{definition}
\begin{theorem}[Weierstrass]\label{thm:weierstrass}
     Sia \(f : \mathbb{R} \to  \mathbb{R}\) continua e periodica di periodo
     \(2\pi\). Allora esiste una successione di polinomi trigonometrici
     \(\{p_{n}\} \) tale che \(\|f - p_{n}\|_{\infty} \to 0\) per \(n \to 0\),
     ossia \(p_{n}\) converge a \(f\) uniformemente in \(\mathbb{R}\).
\end{theorem}
\begin{lemma}
    Esiste una successione di polinomi trigonometrici \(q_{n}\) tali che 
\begin{enumerate}[label = \alph*.]
    \item \(q_{n}{(t)} \ge 0\) per ogni \(t \in \mathbb{R}\), \(n \in
        \mathbb{N}\)
    \item \(\frac{1}{2\pi}\int_{-\pi}^{\pi} q_{n}{(t)} \,dt = 1\) per ogni \(n
        \in \mathbb{N}\)
    \item Per ogni \(\delta \in {(0, \pi)}\) si ha 
        \[
          \lim_{n \to \infty} {\left( \sup_{\delta \le |t| \le \pi} q_{n}{(t)}
          \right)} = 0
        \]
\end{enumerate}
\end{lemma}
\begin{proof}
    Definiamo
    \[
      q_{n}{(t)} = c_{n}{\left( \frac{1 + \cos t}{2} \right)} ^{n}, \quad t \in
      \mathbb{R}
    \]
    dove i coefficienti \(c_{n}\) sono fissati in modo che valga la condizione
    \(b.\), ossia tali che
    \[
        \frac{c_{n}}{2\pi} \int_{-\pi}^{\pi} \underbrace{{\left( \frac{1 + \cos t}{2}
    \right)}^{n}}_{\text{sempre non negativa e si annulla in \(-\pi\) e \(\pi\)}} \,dt = 1
    \]
    Notiamo che \(c_{n} > 0\) per ogni \(n \in \mathbb{N}\) e quindi vale \(a.\)

    Perché \(q_{n}\) è un polinomio trigonometrico?
    \begin{equation}\label{eq:polinomio_trig_binom}
        q_{n}{(t)} = \frac{c_{n}}{2^{n}} \sum_{k=0}^{n} \binom{n}{k} \cos^{k}{t} 
    \end{equation}
     notiamo però la seguente:
     \[
       \cos{(mt)}\cos t = \frac{1}{2}{\left( \cos{{({(m+1)}t)}} +
       \cos{({(m-1)}t)} \right)} , \quad m \in \mathbb{N}
     \]
     e per l'equazione~\ref{eq:polinomio_trig_binom} possiamo scrivere ad esempio
     \(\cos^2{(t)} = \frac{1}{2}{(\cos 2t + 1)}\), se ho \(\cos^3 t = \cos ^2 t
     \cos t\) dove si può sostituire \(\cos^2 t\) con la formula appena data
     eccetera. Per induzione si può mostrare che \(q_{n}\) è effettivamente un
     polinomio trigonometrico.

     Ora, per \(c.\):
     \begin{align*}
         1 &= \frac{c_{n}}{2\pi} \int_{-\pi}^{\pi} {\left( \frac{1 + \cos t}{2}
       \right)}^2  \,d t = \cancel{2} \frac{c_{n}}{\cancel{2}\pi} \int_{0}^{\pi}
                 {\left( \frac{1+\cos t}{2} \right)}^2 \,d t  \ge \\
    &\ge \frac{c_{n}}{\pi}\int_{0}^{\pi} {\left( {\frac{1 + \cos t}{2}}
    \right)}^{n} \sin t  \,d t = -2 \frac{c_{n}}{\pi} \frac{1}{n+1} {\left(
    \frac{1 + \cos t}{2} \right)}^{n+1} \Big|_{0}^{\pi} = \frac{2 c_{n}}{\pi{(n+1)}}
     \end{align*}
     da cui ne scende che
     \[
       c_{n} \le \frac{\pi}{2}{(n+1)}
     \]
     e se ora prendiamo \(\delta \in {(0, \pi)}\) abbiamo che
     \[
         \sup_{\delta \le  |t| \le \pi} q_{n} \overset{pari}{=} \sup_{t \in
         [\delta, \pi]} q_{n} = q_{n}{(\delta)} = c_{n}{\left( \frac{1 + \cos
         \delta}{2} \right)}^{n} \le \frac{\pi}{2}{(n+1)}{\underbrace{\left( \frac{1 + \cos
 \delta}{2} \right)}_{<1}} ^{n} \to 0
     \]
     dove la seconda eguaglianza è data da come è definita \(q_{n}\), che è
     decrescente in \({[0, \pi]}\) 
\end{proof}
\begin{proof}[Dimostrazione di Weierstrass]
    Si scriva il polinomio trigonometrico \(q_n(t)\) definito nel lemma come
    \[
        q_n(t) = a_0 + \sum_{k=1}^n (a_k \cos(kt) + b_k \sin (kt))
    \]
    per opportuni coefficienti. La funzione \(f\) è continua in \(\mathbb R\) e
    periodica di periodo \(2\pi\). Si ricorda la definizione del prodotto di
    convoluzione: 
    \[
        p_n(t) = (f \star q_n)(t) := \int_{-\pi}^\pi f(t-s)q_n(s) \, ds = \int_{-\pi}^\pi f(s)q_n(t-s) \, ds = 
    \]
    ossia vi è commutatività (si mostra con un cambio di variabile e ricordando
    la periodicità di \(f\)). In generale si mostra che il prodotto di
    convoluzione tra una funzione in \(L^2(-\pi, \pi)\) e un polinomio
    trigonometrico è anch'esso un polinomio trigonometrico, ad esempio con
    l'identità di Eulero. Nel nostro caso particolare si vede che 
    \[
\begin{aligned}
    p_n{(t)} &= \int_{-\pi}^\pi f(s) q_n(t-s) \, ds = \int_{-\pi}^\pi a_0 f(s) \, ds
    \,+ \, \\
        &\quad + \sum_{k=1}^n \bigg[ 
        \left( \int_{-\pi}^\pi f(s) \big(a_k \cos(ks) - b_k \sin(ks)\big) \, ds \right) \cos(kt)  + \\
        &\quad\quad\quad\, \,  + \left( \int_{-\pi}^\pi f(s) \big(a_k \sin(ks) + b_k \cos(ks)\big) \, ds \right) \sin(kt) 
        \bigg]
\end{aligned}
\]
Si ha: 
\[
\begin{aligned}
    |f(t) -p_n(t) | &\overset{(b)}{=} \left| f(t) \frac{1}{2\pi} \int_{-\pi}^\pi
    q_n(s) \, ds -  \frac{1}{2\pi}\int_{-\pi}^\pi f(t-s)q_n(s) \, ds\right| = \\
                    &= \frac{1}{2\pi} \left| \int_{-\pi}^\pi (f(t) - f(t-s))
                    q_n(s) \, ds \right|
\end{aligned}
\]
Usando la continuità su \(\mathbb R\) e la periodicità ci si può ricondurre alla
continuità su un compatto e quindi \(f\) è continua uniformemente. Per
concludere, fissato \(\varepsilon\) positivo:
\[
\begin{aligned}
    |f(t) - p_n(t)| 
    &\leq \frac{1}{2\pi} \int_{(-\delta, \delta)} |f(t) - f(t-s)| q_n(s) \, ds \\
    &\quad + \int_{[-\pi, -\delta] \cup [\delta, \pi]} |f(t) - f(t-s)| q_n(s) \, ds \, + \\
    &\leq \varepsilon 
    \underbrace{\frac{1}{2\pi} \int_{(-\pi, \pi)} q_n(s) \, ds}_{= 1} 
    + 2 \|f\|_\infty 
    \sup_{\delta \leq |s| \leq \pi} \{q_n(s)\}.
\end{aligned}
\]
dove
\[
\sup_{\delta \leq |s| \leq \pi} \{q_n(s)\} \to 0 \quad \text{per } n \to \infty.
\]
Quindi è chiaro che \(p_n \to f\) uniformemente. 

\end{proof}
Sia \(\{\varphi_n\}_{n\ge 0}\) una successione di funzioni definita come segue:
\[
\begin{cases}
    \varphi_0 (t) &= \frac{1}{\sqrt{2 \pi}} \\
    \varphi_{2k-1} (t) &= \frac{1}{\sqrt \pi} \sin(kt) \\
    \varphi_{2k}(t) &= \frac{1}{\sqrt \pi} \cos(kt)
\end{cases}
\]
per \(k \in \mathbb N\). Si ha il seguente risultato.

%SISTEMA ORTONORMALE DELLE PHI è COMPLETO IN L^2(-PI, PI)
\begin{proposition}
    Il sistema ortonormale \(\{\varphi_n\}\) è completo in \(L^2(-\pi, \pi)\).
\end{proposition}

\begin{remark}
    Per il teorema~\ref{thm:conv_Fourier} equivale ad affermare che \(\{\varphi_n\}\) è
    denso in \(L^2(-\pi, \pi)\).
\end{remark}

\begin{proof}
    Si ricorda che l'insieme delle funzioni continue a supporto compatto
    \(C_C^0(\pi, \pi)\) è denso in \(L^p(-\pi, \pi)\) per ogni \(p\) intero
    positivo (si veda~\ref{thm:risultato_4}). Nel caso di \(p=2\):
    \[
        \forall \varepsilon >0 \quad \exists g \in C_C^0 (-\pi, \pi): \quad \| f-g\|_{L^2(-\pi, \pi) } \leq \varepsilon
    \]
    Possiamo prolungare \(g\) per periodicità \(2 \pi\) a tutto \(\mathbb R\), e
    la chiamiamo ancora \(g\) per semplicità. La funzione \(g\), siccome è a
    supporto compatto in \((-\pi, \pi)\), si attacca bene e quindi abbiamo
    continuità in \(\mathbb R\). Per il teorema di Weierstrass
    (\ref{thm:weierstrass}) esiste un polinomio trigonometrico
    \(p_\varepsilon\): 
    \[
    \| g - p_\varepsilon\| \leq \varepsilon
    \]
    Si ha la seguente disuguaglianza: 
   \[
    \begin{aligned}
        \|g - p_\varepsilon\|_{L^2(-\pi, \pi)} 
        &= \sqrt{\int_{-\pi}^\pi |g(t) - p_\varepsilon|^2 \, dt} \\
        &\leq \sqrt{\int_{-\pi}^\pi \|g(t) - p_\varepsilon\|_\infty^2 \, dt} \\
        &= \|g - p_\varepsilon\|_\infty \sqrt{2\pi} \\
        &\leq \sqrt{2\pi} \varepsilon.
    \end{aligned}
    \]
    e per la disugaglianza triangolare
    \[
    \|f-p_\varepsilon\|_{L^2(-\pi, \pi)} \leq \varepsilon(1+\sqrt{2\pi})
    \]
    che dimostra la tesi, in virtù dell'osservazione. 
\end{proof}
I seguenti corollari sono semplici calcoli/conseguenze del teorema sulle quattro
condizioni equivalenti (\ref{thm:conv_Fourier}). 
\begin{corollary}
    Data \(f \in L^2(-\pi, \pi)\), la serie di Fourier associata: 
    \[
    \frac{a_0}{\sqrt{2\pi}} + \sum_{k=1}^{\infty} \left( \frac{a_k}{\sqrt{\pi}} \cos(kt) + \frac{b_k}{\sqrt{\pi}} \sin(kt)\right)
    \]
    dove
    \[
    \begin{aligned}
        a_0 &= \langle f, \varphi_0 \rangle   = \frac{1}{\sqrt{2\pi}} \int_{(-\pi, \pi)} f(t) dt \\
        a_k &= \langle f, \varphi_{2k}\rangle = \frac{1}{\sqrt{\pi}} \int_{(-\pi, \pi)} f(t) \cos(kt) dt \\
        b_k &= \langle f, \varphi_{2k-1}\rangle = \frac{1}{\sqrt{\pi}} \int_{(-\pi, \pi)} f(t) \sin(kt) dt \\
    \end{aligned}
    \]
    converge a \(f\) in \(L^2(-\pi, \pi)\).
\end{corollary}
\begin{corollary}
    Se \(f \in L^2\) è pari allora i coefficienti \(b_k\) sono nulli, se invece è dispari i coefficienti 
    \(a_k\) sono nulli.
\end{corollary}
\begin{corollary}
    Vale l'identità di Bessel-Parseval: 
    \[\|f\|_{L^2(-\pi, \pi)}^2 = |a_0| + \sum_{k=1}^\infty (|a_k|^2+|b_k|^2)\]
\end{corollary}


%STONE-WEIERSTRASS
\begin{theorem}[Stone-Weierstrass]\label{thm:stone_w}

I polinomi intesi nel senso classico sono densi in \(C^0([a, b])\), ossia, comunque 
presa \(f \in C^0([a, b])\)

\[\  \forall \varepsilon > 0, \quad \exists p_\varepsilon \in \mathbb R[x]: \quad 
    \| f - p_\varepsilon \|_{\infty} \le \varepsilon
\]
    
\end{theorem}

\begin{proof}
    La funzione \(f \in C^0[a, b]\) può essere prolungata per parità e
    ridefinita su \([a, 2b-a]\) e poi prolungata per periodicità con periodo di
    lunghezza \(2(b-a)\). Siamo nelle condizioni del teorema di Weierstrass
    (\ref{thm:weierstrass}), anche se con un periodo diverso. Sia
    \(\pi_\varepsilon\) il polinomio tale che 
    \[
    \| f- \pi_\varepsilon\| \leq \frac{\varepsilon}{2}
    \]
    e, usando la convergenza uniforme dei polinomi di Taylor ai seni e ai coseni, possiamo trovare un polinomio classico \(p_\varepsilon\) tale che
    \[
     \|\pi_\varepsilon - p_\varepsilon \| \leq \frac{\varepsilon}{2}
    \]
    Per la disuguaglianza triangolare la tesi è dimostrata. 
    
\end{proof}

Si è detto che, presa \(f\) in \(L^2(-\pi, \pi)\), la serie di Fourier relativa
converge a \(f\) in \(L^2(-\pi, \pi)\). Per la proposizione
\ref{prop:converenze_Lp} la serie ammette un'estratta di ridotte che converge
quasi ovunque a \(f\). Per il teorema di \textbf{Carleson} (1966) si può dire di
più: c'è convergenza quasi ovunque dell'intera successione delle ridotte. Tale
risultato era stato congetturato da Lusin nel 1915. 

Se si aggiunge l'ipotesi di regolarità a tratti si può affermare la convergenza
della serie di Fourier a \(f\) eccetto nei punti di discontinuità (di tipo
salto), dove \(f\) converge alla media tra il limite destro e quello sinistro
(che esistono). 

Se invece si ipotizza \(f\) solo continua e non si introducono ipotesi sulla
continuità della derivata, non è detto che la serie di Fourier converga in ogni
punto. Un controesempio è dovuto a \textbf{du Bois-Reymond} (1873), che
costruì una funzione continua la cui serie di Fourier diverge in un insieme
denso. Tale risultato viene poi rafforzato con un controesempio di
\textbf{Kolmogorov} (1923) che trovò una funzione \(L^1\) la cui serie di
Fourier diverge quasi ovunque, e nel 1926 ovunque. 

Per quel che riguarda la convergenza uniforme si possono trovare delle
condizioni sufficienti sui coefficienti di \(f\). Una condizione, per il
criterio di Weierstrass (sulla convergenza totale, detto M-test) è la
convergenza della serie \(\sum_{k=1}^\infty |a_k| + |b_k|\). Si possono anche
trovare condizioni più interessanti, come ad esempio \(f_{|[-\pi, \pi]} \in
W^{1,2}(-\pi, \pi)\), ricordando la notazione degli spazi di Sobolev. La
dimostrazione si riconduce alla convergenza totale poc'anzi citata: 

\begin{proposition}[Condizione sufficiente convergenza serie di Fourier]
    Se \(f: \mathbb R \rightarrow \mathbb R\) è periodica di periodo \(2\pi\) e
    \(f_{|[-\pi, \pi]} \in W^{1, 2}(-\pi, \pi)\) allora la serie di Fourier
    converge uniformemente a \(f\).
\end{proposition}

\begin{proof}
    Scriviamo i coefficienti di Fourier e usiamo l'integrazione per parti: 
    \[
     \begin{aligned}
    a_0 &= \frac{1}{\sqrt{2\pi}} \int_{-\pi}^\pi f(t) \, dt \\
    a_k &=    \frac{1}{\sqrt{\pi}} \int_{(-\pi, \pi)} f(t) \cos(kt) dt  =
    -\frac{1}{k} \frac{1}{\sqrt{\pi}} \int_{-\pi}^\pi f'(t) \sin(kt) \, dt =
    -\frac{1}{k}b_k' \\
    b_k &= (\dots) = \frac{1}{k}a_k'
    \end{aligned}     
    \]
    Siccome siamo in \(W^{1,2}(-\pi, \pi)\), abbiamo che \(f' \in L^2(-\pi,
    \pi)\) e quindi \(\{a_k'\}, \{b_k'\} \in \ell^2\). Per la diseguaglianza di
    Young~\ref{prp:Young} si ha che
    \[
    \begin{aligned}
        |a_k| &\leq \frac{1}{2k^2} + \frac{1}{2}|b_k'|^2 \\
        |b_k| &\leq \frac{1}{2k^2} + \frac{1}{2}|a_k'|^2 \\
    \end{aligned}
    \]
    E quindi 
    \[
    \sum_{k=1}^\infty |a_k| + |b_k|
    \]
    converge uniformemente, dunque la serie di Fourier converge uniformemente a \(f\).
\end{proof}

\newpage

\section{Esercizi}
Alcuni sono risolti, alcuni parzialmente e alcuni no. (Questa frase è inutile
perché basterebbe guardare gli esercizi, ma era bello aggiungere una frase qui)

\begin{eser}
\begin{enumerate}[label = \alph*.]
    \item Sia \(K = \{f \in L^2{(-\pi, \pi)}: f \text{ ha una rappresentazione
        pari }\}\). Mostrare che \(K\) è un sottospazio chiuso di \(L^2{(-\pi,
        \pi)}\)
    \item Mostrare che \(P_K{(\omega)}  = \frac{w{(x)} + w{(-x)}}{2}\), per ogni
        \(\omega \in L^2{(-\pi, \pi)}\) 
      Mostrare che \(K^{\perp}\) è costituito dalle funzioni dispari.
      Inoltre 
      \[
          \left\{ \frac{1}{\sqrt{2\pi}}, \frac{1}{\sqrt{\pi}} \cos{(kx)}
              \right\} \subseteq K, \quad \left\{ \frac{1}{\sqrt{\pi}}
              \sin{(kx)} \right\} \subseteq K^{\perp}
      \]
        e che quindi \(w{(x)} = P_K{(w)} + P_{K^{\perp}}{(w)} \) è una
        decomposizione unica
    \item Sia \(J : L^2{(-\pi, \pi)} \to \mathbb{R}\) definito come
        \[
          J{(v)} = \int _{{(-\pi, \pi)}} {\left( {\left( v{(x)}-\sin x \right)}
          ^2 + \cos x\right)}  \,dx
        \]
        dire se \(J\) ammette minimo in \(K\) e ricavarlo esplicitamente

        Abbiamo che 
        \[
          J{(v)} = \|v - \sin\|_{2} + \int _{\{-\pi, \pi\} } \cos x \,dx
        \]
        e per il teorema delle proiezioni sui sottospazi la soluzione del
        problema di minimo è la proiezione di \(\sin\) su \(K\), ossia 0, poiché
        \(\sin \in K^{\perp}\).
\end{enumerate}
\end{eser}
\begin{eser}[Es. 3 del 4\--12\--2020]
    Sia \(f \in L^2{(0, 2\pi)}\) 
\begin{enumerate}[label = \alph*.]
    \item Dato \(\varepsilon > 0\), è possibile approssimare \(f\) con una
        funzione \(g_{\varepsilon} \in C^{0}{([0, 2\pi])}\) tale che 
        \[
          \|f - g_{\varepsilon}  \|_2 \le \varepsilon
        \]

        Sì, e in particolare possiamo usare la densità di \(C^{0}_C{(0, 2\pi)}\)
        in \(L^2{(0, 2\pi)}\) e scegliere dunque \(g_\varepsilon \in
        C_C^{0}{(0, 2\pi)}\). 
    \item Calcolare il valore del limite per \(n \to \infty\) della successione
        integrale di \(f{(x)} \sin{(nx)}\) 

        \[
          \lim_{n \to \infty} \int _{{(0, 2\pi)}} f{(x)}\sin {(nx)} \,dx = 0
        \] (Fourier)
    \item e se \(f \in L^{1}{(0, 2\pi)}\)? 
        
        Abbiamo che \(C_C^{0}{(0, 2\pi)}\) è denso anche in \(L^{1}{(0, 2\pi)}\)
        dunque per ogni \(\varepsilon > 0\) esiste \(h_\varepsilon \in
        C^{0}_C{(0, 2\pi)}\) tale che \(\|f - h_\varepsilon\|_1 \le
        \varepsilon\). Ci piacerebbe provare che
        \[
          \forall \varepsilon > 0 \quad \exists \overline{n} \in \mathbb{N} :
          \forall n \ge \overline{n} \quad \left| \int _{{(0, 2\pi)}} f{(x)}\sin
          nx\,dx \right| \le 2\varepsilon
        \]
        e abbiamo che
\begin{align*}
    \left| \int_{0}^{2\pi} f{(x)}\sin nx  \,dx  \right| &\le \left|
    \int_{0}^{2\pi} {\left( f{(x)} - h_\varepsilon {(x)} \right)} \sin
    nx \,dx \right| + \left| \int_{0}^{2\pi} h_\varepsilon {(x)} \sin nx \,dx \right| \\
    &\le \|f - h_\varepsilon\|_1 \|\sin nx\|_{\infty} + \left|
    \int_{0}^{2\pi} h_\varepsilon {(x)} \sin nx \,dx  \right| \le 2\varepsilon
\end{align*}
        e poiché \(h_\varepsilon \in L^2{(0, 2\pi)}\) allora per il punto
        precedente esiste un \(\overline{n}\) tale che per ogni \(n \ge
        \overline{n}\) il secondo addendo è \(\le  \varepsilon\). 
\end{enumerate}
\end{eser}

\begin{eser}[Es. 3 del 23\--01\--2019]
    Sia \(X\) lo spazio di tutte le \(u : {(-1, 1)} \to \mathbb{R}\) misurabili
    e tali che
    \[
      N{(u)} = \int _{{(-1, 1)}} \sqrt{|u{(x)}|}  \,dx < +\infty
    \]
\begin{enumerate}[label = \alph*.]
    \item Provare che \(X\) è uno spazio vettoriale e che \(N\) \textbf{non} definisce
        una norma in \(X\) 

        Facile vedere che \(X\) è uno spazio vettoriale. \(N{(\cdot )}\) non è
        una norma perché \textbf{non} soddisfa l'omogeneità, infatti
        \(N{(\lambda u)} = \sqrt{|\lambda|} N{(u)}\), per ogni \(\lambda \in
        \mathbb{K}\) e \(u \in X\).
    \item Posto \(d{(u, v)} = N{(u -v)}\) per ogni \(u, v  \in  X\) provare che
        \(d\) è una distanza in \(X\).

        \begin{itemize}[label = --]
            \item \(d {(u, v)} \ge 0\) alla grande
            \item \(d{(u, v )} = 0\) allora
                \begin{align*}
                    \int_{{(-1, 1)}} \sqrt{|u{(x)} - v{(x)}|} \,dx = 0 &\implies
                  \sqrt{|(u-v){(x)}|} = 0 \quad q.o. \\ &\implies u = v \quad q.o.
                \end{align*}
            \item \(d{(u, v)} = d{(v, u)}\) alla grande
            \item \(d{(u, v)} \le d{(u, z)} + d{(z, v)}\), \(\forall u, v, z \in
                X\) vero perché
                \[
                    \sqrt{|{(u-v)}{(x)}|} \le \sqrt{|{(u-z)}{(x)}|} +
                    \sqrt{|{(z-v)}{(x)}}
                \]
        \end{itemize}
    \item Provare che \(L^{p}{(-1, 1)} \subseteq X \) per ogni \(p \in [1, \infty]\) 

        Se \(1 \le p < \infty\) allora
        \[
            \sqrt{|u{(x)|}} = |u{(x)}|^{\frac{1}{2}} \overset{\ref{prp:Young}}{\le } \frac{1}{2p}
            |u{(x)}|^{p} + \frac{2p-1}{2p}1^{\frac{2p}{2p-1}} \in L^{1{(-1, 1)}}
        \]
        Se invece \(p = \infty\) allora
        \[
          \sqrt{|u{(x)}|} \le \sqrt{\|u\|_{\infty} } \in L^{1{(-1, 1)}}
        \]
    \item Se \(u_{n} \to u\) in \(L^{1}{(-1, 1)}\) allora \(d{(u_{n}, u)} \to
        0\) per \(n \to \infty\) 

        \[
          d{(u_{n}, n)} = \int _{{(-1, 1)}} \sqrt{|{(u_{n} - u)}|} \,dx
          \overset{\ref{thm:Holder}}{\le } {\left( \int _{{(-1, 1)}} |{(u_{n}
          -u)}{(x)}| \,dx \right)}^{\frac{1}{2}} {\left( \int _{{(-1, 1)}} 1^{2}
  \,dx \right)}^{\frac{1}{2}} \le \sqrt{2}\|u_{n} -u\|_1^{\frac{1}{2}} \to 0
        \]
\end{enumerate}
\end{eser}
\begin{eser}[Es. 3 del 15\--01\--2024]
    Consideriamo \(\ell^{1}, \ell^{\infty}\) e \(c_{0}\). Consideriamo
    l'operatore \(T : \ell^{1 \to \ell^{\infty}}\) definito come
    \[
      {(Ta)}_n = \sum_{k=n}^{\infty} a_{k} \quad n \in \mathbb{N}, \quad a \in
      \ell^{1}
    \]
\begin{enumerate}[label = \alph*.]
    \item Mostrare che \(T\) è ben definito, ossia \(Ta \in \ell^{\infty}\) per
        ogni \(a \in \ell^{1}\).
        
    \[
      \left| \sum_{k=n}^{\infty} a_{k} \right| \le \sum_{k=n}^{\infty} |a_{k}|
      \le \sum_{k=1}^{\infty} |a_{k}| = \|a\|_1  
    \]
    \item Mostrare che \(T\) è lineare. (ovvio)
    \item Mostrare che \(T\) è continuo. (Basta notare che è limitato)
    \item Calcolare la norma \(\|T\|\).

        Sappiamo già dal punto a.~che \(\|Ta\|_\infty \le 1\|a\|_1\). Per dire
        che la norma è proprio \(1\) dobbiamo trovare un \(a\) tale che
        \(\|Ta\|_\infty = \|a\|_1\). Possiamo prendere un elemento qualsiasi
        della successione canonica, ad esempio \(a = e^{1} = {(1, 0, 0,
        \dots)}\).
    \item Mostrare che \(T\) è iniettivo.

        Sia \(Ta = b\).
        Sia \(b = 0\) allora \(b_{n} - b_{n}+1 = a_{n}\) per ogni \(n\), e
        dunque \(a = 0\) 
    \item Mostrare che \(l_{1} \subsetneq  T{(l^{1})} \subsetneq c_{0}\) 

    Chiaramente \(Ta\) è una successione infinitesima per ogni \(a \in
    \ell^{1}\) perché successione dei resti \(k\)-esimi di una serie
    convergente. 

    Come elemento di \(c_{0}\) che non sta in \(T{(\ell^{1})}\) possiamo
    prendere \(b = {(1, 0, \frac{1}{2}, 0, \frac{1}{3}, 0, \dots)}\) 
\end{enumerate}
\end{eser}

\begin{eser}[Es. 1 del 27 \-- 11 \-- 2018]
    Si consideri la successione di funzioni
    \[
      f_{n}{(x)} = \frac{n}{2}e^{-n|x|}, \quad x \in \mathbb{R}, n \in \mathbb{N}
    \]
\begin{enumerate}[label = \alph*.]
    \item Studiare la convergenza quasi ovunque, quasi uniforme e in misura di
        \(\{f_{n}\} \) in \(\mathbb{R}\) 

        Converge puntualmente a \(0\) per ogni \(x \in \mathbb{R} \sminus \{0\}
        \) quindi converge q.o.~a \(0\). Inoltre converge uniformemente in ogni
        \(\mathbb{R} \sminus B_{\varepsilon} {(0)}\) quindi converge anche
        q.u.~(altrimenti si può spezzare in \(\mathbb{R} = {(-\infty, -1)} \cup
        [-1, 1] \cup {(1, \infty)}\)). Di conseguenza converge anche in misura.
    \item Discutere l'integrabilità delle funzioni \(f_{n}\) in \(\mathbb{R}\),
        per \(n \in \mathbb{N}\) fissato, rispetto alla misura \(\mu\) di
        Lebesgue su \(\mathbb{R}\) 

        L'esponenziale è integrabile, si può anche calcolare l'integrale
        (inoltre \(ne^{-nx}\) è la pdf di una variabile casuale esponenziale
        continua, quindi integra 1).
    \item Indicata con \(f\) la funzione limite delle \(f_{n}\), si chiede se
        \[
          \lim_{n \to \infty} \int _{\mathbb{R}} f_{n} \,d \mu \text{ esiste e vale
          } \int _{\mathbb{R}} f \,d \mu
        \]
        No: il limite fa 1, l'integrale di \(f\) fa 0.
\end{enumerate}
\end{eser}

\begin{eser}[Es. 1 del 10 \-- 07 \-- 2018]
    Data la serie di funzioni
    \[
      \sum_{n=1}^{\infty} f_{n}{(x)}, \quad \text{ con } f_{n}{(x)} :=
      \frac{x}{\sqrt{n}{(1+nx^2)}} \quad \text{ per } x \in \mathbb{R}
    \]
\begin{enumerate}[label = \alph*.]
    \item Discuterne la convergenza quasi ovunque, quasi uniforme e in misura
        della serie di funzioni in \(\mathbb{R}\) 

    Per \(x\neq 0\) fissato, la serie converge assolutamente, infatti
    \[
      \frac{x}{\sqrt{n}{(1 + nx^2)}} \le \frac{1}{xn^{\frac{3}{2}}} 
    \]
    che ha somma finita, mentre per \(x=0\) fa 0 banalmente.

    Sia \(E = \mathbb{R} \sminus B_{\frac{\varepsilon}{2}} {(0)}\) che ha
    complementare di misura \(\varepsilon\). Allora denotando gon \(g_{n}\)la
    successione delle somme parziali e con \(g\) il limite 
    \[
        \left| g_{k} - g \right| = \left| \sum_{n=1}^{k} f_{n}{(x)} -
        \sum_{n=1}^{\infty} f_{n}{(x)}   \right| = \left| \sum_{n=k+1}^{\infty}
        \frac{x}{\sqrt{n}{(1+nx^2)}}\right| 
    \]
    che è resto di serie convergente quindi converge (non è difficile mostrare
    che si può maggiorare in modo da non dipendere da \(x\))
    \item Discutere l'integrabilità delle funzioni \(f_{n}\) rispetto alla
        misura \(\mu\) di Lebesgue per \(\mathbb{R}\) 

    \[
      \int _{\mathbb{R}} \frac{|x|}{\sqrt{n}{(1+nx^2)}} \,d \mu \ge
      \frac{1}{\sqrt{n}} \int _{(1, +\infty)} \frac{x}{1+nx^2}  \,d \mu \ge
      \frac{1}{\sqrt{n}} \int _{{(1, \infty)}} \frac{x}{x^2{(1+n)}} \,d \mu
    \]
    che è divergente, quindi \(f_{n}\not\in L^{1}{(\mathbb{R})}\), \(\forall n
    \in \mathbb{N}\) 
    \item Indicata con \(s\) la somma della serie laddove è definita, studiare
        l'integrabilità secondo Lebesgue anche per queste funzioni

    \[
        \int _{\mathbb{R}} |g{(x)}| \,d \mu \ge \int _{{(1, \infty)}}
        \sum_{n=1}^{\infty} f_{n} \,d \mu \ge \int _{{(1, \infty)}} f_{1}{(x)}
        \,d \mu = +\infty
    \]
    Altrimenti si può fare con Beppo Levi per serie~\ref{cor:beppo-levi-serie}
\end{enumerate}
\end{eser}

\begin{eser}[Es. 1 del 17 \-- 01 \-- 2018]
    Se \(u : \mathbb{R} \to \mathbb{R}\) è una funzione misurabile e non
    negativa, consideriamo la successione di funzioni \(f_{n}{(x)}\) 
\end{eser}

\end{document}
